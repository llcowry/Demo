!function(o){o.fn.colorpicker=function(e){var r=o.extend({},o.fn.colorpicker.defaults,e);o("body").append('<div id="colorPickerPanel" style="position: absolute; display: none;"></div>');var t=new Array("00","33","66","99","CC","FF"),c=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF"),a="",s="";for(i=0;i<2;i++)for(j=0;j<6;j++)for(a+='<tr height="11">',a+='<td width="11" rel="#000000" style="background-color: #000">',s=0==i?t[j]+t[j]+t[j]:c[j],a+='<td width="11" rel="#'+s+'" style="background-color: #'+s+'">',a+='<td width="11" rel="#000000" style="background-color: #000">',k=0;k<3;k++)for(l=0;l<6;l++)s=t[k+3*i]+t[l]+t[j],a+='<td width="11" rel="#'+s+'" style="background-color: #'+s+'">';return o("#colorPickerPanel").html('<table width="239" border="0" cellspacing="0" cellpadding="0" style="border: 1px solid #aaa; border-radius: 3px; box-shadow: 0 0 8px rgba(0,0,0,0.2);"><tr height="30"><td style="background-color: #e1e1e1"><table cellpadding="0" cellspacing="1" border="0" style="border-collapse: collapse"><tr><td style="padding-left: 3px"><input type="text" id="colorPickerDisColor" size="6" disabled="disabled" style="border: solid 1px #666; background-color: #ff0; margin-right: 5px"><input type="text" id="colorPickerHexColor" size="7" disabled="disabled" style="border: inset 1px; font-family: Arial;" value="#000000"></td><td style="padding-left: 50px"><a href="javascript:;" id="clearColorPicker">清除</a> | <a href="javascript:;" id="closeColorPicker">关闭</a></td></tr></table></td></tr><tr><td style="background-color: #e1e1e1; text-align: center; margin: 0 auto; padding: 0 3px 3px"><table id="colorTable" border="0" cellspacing="0" cellpadding="0" style="cursor: pointer;">'+a+"</table></td></tr></table>"),this.each(function(){var e=o(this);e.on(r.event,function(){var l=o(this).offset().top,t=o(this).offset().left,c=o(this).outerHeight(),i=o("#colorPickerPanel").outerHeight(),a=l-i,s=l+c,d=r.target?o(r.target):e;o(window).height()+o(document).scrollTop()-s>=i&&(a=s),o("#colorPickerPanel").css({top:a,left:t}).fadeIn("fast"),null==d.data("color")&&d.data("color",d.css("color")),o("#closeColorPicker").click(function(){return o("#colorPickerPanel").fadeOut("fast"),!1}),o("#clearColorPicker").click(function(){d.css("color",d.data("color")),o("#colorPickerPanel").fadeOut("fast"),r.reset(e)}),o("#colorTable tr td").off("click").mouseover(function(){var e=o(this).css("background-color");o("#colorPickerDisColor").css("background-color",e),o("#colorPickerHexColor").val(o(this).attr("rel"))}).click(function(){var l=o(this).css("background-color"),t=r.ishex?o(this).attr("rel"):l;r.fillcolor&&d.val(t),r.changecolor&&d.css("color",l),o("#clearColorPicker").off("click"),o("#colorPickerPanel").fadeOut("fast"),r.success(e,t)})}),o("#colorPickerPanel").hover(null,function(){o(this).fadeOut("fast")})})},o.fn.colorpicker.defaults={event:"focus",ishex:!0,fillcolor:!0,changecolor:!1,target:null,success:function(){},reset:function(){}}}(jQuery);