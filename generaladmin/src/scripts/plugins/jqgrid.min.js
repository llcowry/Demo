function tableToGrid(e,t){jQuery(e).each(function(){if(!this.grid){jQuery(this).width("99%");var e=jQuery(this).width(),i=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),s=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),r=i.length>0,a=!r&&s.length>0,n=r||a,o=[],l=[];jQuery("th",jQuery(this)).each(function(){0===o.length&&n?(o.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),l.push("__selection__")):(o.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),l.push(jQuery(this).html()))});var d=[],c=[],h=[];jQuery("tbody > tr",jQuery(this)).each(function(){var e={},t=0;jQuery("td",jQuery(this)).each(function(){if(0===t&&n){var i=jQuery("input",jQuery(this)),s=i.attr("value");c.push(s||d.length),i.is(":checked")&&h.push(s),e[o[t].name]=i.attr("value")}else e[o[t].name]=jQuery(this).html();t++}),t>0&&d.push(e)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:l,colModel:o,multiselect:r},t||{}));var u;for(u=0;u<d.length;u++){var p=null;c.length>0&&(p=c[u])&&p.replace&&(p=encodeURIComponent(p).replace(/[.\-%]/g,"_")),null===p&&(p=u+1),jQuery(this).jqGrid("addRowData",p,d[u])}for(u=0;u<h.length;u++)jQuery(this).jqGrid("setSelection",h[u])}})}!function(e){e.jgrid={defaults:{recordtext:"检索到 {2} 条记录，显示 第 {0} 条 - 第 {1} 条，查询耗时 {3} 毫秒",emptyrecords:"无数据显示",loadtext:"loading...",pgtext:" 第 {0} 页 / 共 {1} 页 "},search:{caption:"搜索...",Find:"查找",Reset:"重置",odata:["等于　　","不等　　","小于　　","小于等于","大于　　","大于等于","开始于","不开始于","属于　　","不属于","结束于","不结束于","包含　　","不包含"],groupOps:[{op:"AND",text:"所有"},{op:"OR",text:"任一"}],matchText:" 匹配",rulesText:" 规则"},edit:{addCaption:"添加记录",editCaption:"编辑记录",bSubmit:"提交",bCancel:"取消",bClose:"关闭",saveData:"数据已改变，是否保存？",bYes:"是",bNo:"否",bExit:"取消",msg:{required:"此字段必需",number:"请输入有效数字",minValue:"输值必须大于等于 ",maxValue:"输值必须小于等于 ",email:"这不是有效的e-mail地址",integer:"请输入有效整数",date:"请输入有效时间",url:"无效网址。前缀必须为 ('http://' 或 'https://')",nodefined:" 未定义！",novalue:" 需要返回值！",customarray:"自定义函数需要返回数组！",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"查看记录",bClose:"关闭"},del:{caption:"删除",msg:"删除所选记录？",bSubmit:"删除",bCancel:"取消"},nav:{edittext:"",edittitle:"编辑所选记录",addtext:"",addtitle:"添加新记录",deltext:"",deltitle:"删除所选记录",searchtext:"",searchtitle:"查找",refreshtext:"",refreshtitle:"刷新表格",alertcap:"注意",alerttext:"请选择记录",viewtext:"",viewtitle:"查看所选记录"},col:{caption:"选择列",bSubmit:"确定",bCancel:"取消"},errors:{errcap:"错误",nourl:"没有设置url",norecords:"没有要处理的记录",model:"colNames 和 colModel 长度不等！"},formatter:{integer:{thousandsSeparator:" ",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||e>13?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"m-d-Y",masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"Y/j/n",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}}(jQuery),function($){"use strict";$.jgrid=$.jgrid||{},$.extend($.jgrid,{version:"4.6.0",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent;return null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){e=String(e);var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,s){var r,a,n,o=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),h="string"==typeof t?t.match(c):null,u=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},p={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,g=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===s&&(s=$.jgrid.formatter.date),void 0===s.parseRe&&(s.parseRe=/[#%\\\/:_;.,\t\s-]/),s.masks.hasOwnProperty(e)&&(e=s.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)f=t;else if(null!==h){if(f=new Date(parseInt(h[1],10)),h[3]){var m=60*Number(h[5])+Number(h[6]);m*="-"===h[4]?1:-1,m-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+60*m*1e3))}}else{var m=0;for("ISO8601Long"===s.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(s.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(s.parseRe),a=0,n=e.length;a<n;a++)"M"===e[a]&&-1!==(r=$.inArray(t[a],s.monthNames))&&r<12&&(t[a]=r+1,p.m=t[a]),"F"===e[a]&&-1!==(r=$.inArray(t[a],s.monthNames,12))&&r>11&&(t[a]=r+1-12,p.m=t[a]),"a"===e[a]&&-1!==(r=$.inArray(t[a],s.AmPm))&&r<2&&t[a]===s.AmPm[r]&&(t[a]=r,p.h=g(t[a],p.h)),"A"===e[a]&&-1!==(r=$.inArray(t[a],s.AmPm))&&r>1&&t[a]===s.AmPm[r]&&(t[a]=r-2,p.h=g(t[a],p.h)),"g"===e[a]&&(p.h=parseInt(t[a],10)),void 0!==t[a]&&(p[e[a].toLowerCase()]=parseInt(t[a],10));if(p.f&&(p.m=p.f),0===p.m&&0===p.y&&0===p.d)return"&#160;";p.m=parseInt(p.m,10)-1;var v=p.y;v>=70&&v<=99?p.y=1900+p.y:v>=0&&v<=69&&(p.y=2e3+p.y),f=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u),m>0&&f.setTime(Number(Number(f)+60*m*1e3))}else f=new Date(1e3*parseFloat(t));else f=new Date(p.y,p.m,p.d,p.h,p.i,p.s,p.u);if(void 0===i)return f;s.masks.hasOwnProperty(i)?i=s.masks[i]:i||(i="Y-m-d");var b=f.getHours(),w=f.getMinutes(),_=f.getDate(),y=f.getMonth()+1,j=f.getTimezoneOffset(),x=f.getSeconds(),D=f.getMilliseconds(),C=f.getDay(),k=f.getFullYear(),q=(C+6)%7+1,I=(new Date(k,y-1,_)-new Date(k,0,1))/864e5,S={d:u(_),D:s.dayNames[C],j:_,l:s.dayNames[C+7],N:q,S:s.S(_),w:C,z:I,W:q<5?Math.floor((I+q-1)/7)+1:Math.floor((I+q-1)/7)||((new Date(k-1,0,1).getDay()+6)%7<4?53:52),F:s.monthNames[y-1+12],m:u(y),M:s.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:k,y:String(k).substring(2),a:b<12?s.AmPm[0]:s.AmPm[1],A:b<12?s.AmPm[2]:s.AmPm[3],B:"?",g:b%12||12,G:b,h:u(b%12||12),H:u(b),i:u(w),s:u(x),u:D,e:"?",I:"?",O:(j>0?"-":"+")+u(100*Math.floor(Math.abs(j)/60)+Math.abs(j)%60,4),P:"?",T:(String(f).match(l)||[""]).pop().replace(d,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return i.replace(o,function(e){return S.hasOwnProperty(e)?S[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,s,r,a=[];if("function"==typeof t)return t(e);if(void 0===(i=e[t]))try{if("string"==typeof t&&(a=t.split(".")),r=a.length)for(i=e;i&&r--;)s=a.shift(),i=i[s]}catch(e){}return i},getXmlData:function(e,t,i){var s,r="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):r&&r[2]?r[1]?$(r[1],e).attr(r[2]):$(e).attr(r[2]):(s=$(t,e),i?s:s.length>0?$(s).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px;'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,s){t.push(e(s))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var s=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===s.call(e)&&"[object Date]"===s.call(t)?e<t?-i:e>t?i:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,s=_sorting[t].dir,r=_sorting[t].type,a=_sorting[t].datefmt,n=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,s,r,a,n);t++;var o,l,d,c=self._getGroup(e,i,s,r,a),h=[];for(o=0;o<c.length;o++)for(d=self._doSort(c[o].items,t),l=0;l<d.length;l++)h.push(d[l]);return h},this._getOrder=function(e,t,i,s,r,a){var n,o,l,d,c=[],h=[],u="a"===i?1:-1;void 0===s&&(s="text"),d="float"===s||"number"===s||"currency"===s||"numeric"===s?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===s||"integer"===s?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===s||"datetime"===s?function(e){return $.jgrid.parseDate(r,e).getTime()}:$.isFunction(s)?s:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,i){o=""!==t?$.jgrid.getAccessor(i,t):i,void 0===o&&(o=""),o=d(o,i),h.push({vSort:o,index:e})}),$.isFunction(a)?h.sort(function(e,t){return e=e.vSort,t=t.vSort,a.call(this,e,t,u)}):h.sort(function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,u)}),l=0;for(var p=e.length;l<p;)n=h[l].index,c.push(e[n]),l++;return c},this._getGroup=function(e,t,i,s,r){var a,n=[],o=null,l=null;return $.each(self._getOrder(e,t,i,s,r),function(e,i){a=$.jgrid.getAccessor(i,t),null==a&&(a=""),self._equals(l,a)||(l=a,null!==o&&n.push(o),o=self._group(t,a)),o.items.push(i)}),null!==o&&n.push(o),n},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,s){t.push(e(s))}),t}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,s,r){var a;a=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var n=i,o=void 0===r.stype?"text":r.stype;if(null!==i)switch(o){case"int":case"integer":n=isNaN(Number(n))||""===n?"0":n,a="parseInt("+a+",10)",n="parseInt("+n+",10)";break;case"float":case"number":case"numeric":n=String(n).replace(_stripNum,""),n=isNaN(Number(n))||""===n?"0":n,a="parseFloat("+a+")",n="parseFloat("+n+")";break;case"date":case"datetime":n=String($.jgrid.parseDate(r.newfmt||"Y-m-d",n).getTime()),a='jQuery.jgrid.parseDate("'+r.srcfmt+'",'+a+").getTime()";break;default:a=self._getStr(a),n=self._getStr('"'+self._toStr(n)+'"')}return self._append(a+" "+s+" "+n),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,s=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+s+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(s=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+s+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,s=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+s+","+s+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,s){return self._hasData()?self._getGroup(_data,e,t,i,s):null},this.orderBy=function(e,t,i,s,r){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==i&&(i="text"),null==s&&(s="Y-m-d"),null==r&&(r=!1),"desc"!==t&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:s,sfunc:r}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t=$.extend(!0,{costtime:"000.1",url:"",height:150,page:1,rowNum:30,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[30,50,100,500,1e3],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:30,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33},$.jgrid.defaults,e||{}),i=this,s={headers:[],cols:[],footers:[],dragStart:function(e,s,r){var a=$(this.bDiv).offset().left;this.resizing={idx:e,startX:s.clientX,sOL:s.clientX-a},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(t.id),"#gbox_"+$.jgrid.jqID(t.id)),this.curGbox.css({display:"block",left:s.clientX-a,top:r[1],height:r[2]}),$(i).triggerHandler("jqGridResizeStart",[s,e]),$.isFunction(t.resizeStart)&&t.resizeStart.call(i,s,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var i,s,r=e.clientX-this.resizing.startX,a=this.headers[this.resizing.idx],n="ltr"===t.direction?a.width+r:a.width-r;n>33&&(this.curGbox.css({left:this.resizing.sOL+r}),!0===t.forceFit?(i=this.headers[this.resizing.idx+t.nv],(s="ltr"===t.direction?i.width-r:i.width+r)>t.minColWidth&&(a.newWidth=n,i.newWidth=s)):(this.newWidth="ltr"===t.direction?t.tblwidth+r:t.tblwidth-r,a.newWidth=n))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,s=this.headers[e].newWidth||this.headers[e].width;s=parseInt(s,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(t.id)).css("display","none"),t.colModel[e].width=s,this.headers[e].width=s,this.headers[e].el.style.width=s+"px",this.cols[e].style.width=s+"px",this.footers.length>0&&(this.footers[e].style.width=s+"px"),!0===t.forceFit?(s=this.headers[e+t.nv].newWidth||this.headers[e+t.nv].width,this.headers[e+t.nv].width=s,this.headers[e+t.nv].el.style.width=s+"px",this.cols[e+t.nv].style.width=s+"px",this.footers.length>0&&(this.footers[e+t.nv].style.width=s+"px"),t.colModel[e+t.nv].width=s):(t.tblwidth=this.newWidth||t.tblwidth,$("table:first",this.bDiv).css("width",t.tblwidth+"px"),$("table:first",this.hDiv).css("width",t.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,t.footerrow&&($("table:first",this.sDiv).css("width",t.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),$(i).triggerHandler("jqGridResizeStop",[s,e]),$.isFunction(t.resizeStop)&&t.resizeStop.call(i,s,e)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){s.timer&&clearTimeout(s.timer),s.timer=null;var e=$(s.bDiv).height();if(e){var i,r,a=$("table:first",s.bDiv);if(a[0].rows.length)try{i=a[0].rows[1],r=i?$(i).outerHeight()||s.prevRowHeight:s.prevRowHeight}catch(e){r=s.prevRowHeight}if(r){s.prevRowHeight=r;var n,o,l,d=t.rowNum,c=s.scrollTop=s.bDiv.scrollTop,h=Math.round(a.position().top)-c,u=h+a.height(),p=r*d;if(u<e&&h<=0&&(void 0===t.lastpage||(parseInt((u+c+p-1)/p,10)||0)<=t.lastpage)&&(o=parseInt((e-u+p-1)/p,10)||1,u>=0||o<2||!0===t.scroll?(n=(Math.round((u+c)/p)||0)+1,h=-1):h=1),h>0&&(n=(parseInt(c/p,10)||0)+1,o=(parseInt((c+e)/p,10)||0)+2-n,l=!0),o){if(t.lastpage&&(n>t.lastpage||1===t.lastpage||n===t.page&&n===t.lastpage))return;s.hDiv.loading?s.timer=setTimeout(s.populateVisible,t.scrollTimeout):(t.page=n,l&&(s.selectionPreserver(a[0]),s.emptyRows.call(a[0],!1,!1)),s.populate(o))}}}},scrollGrid:function(e){if(t.scroll){var i=s.bDiv.scrollTop;void 0===s.scrollTop&&(s.scrollTop=0),i!==s.scrollTop&&(s.scrollTop=i,s.timer&&clearTimeout(s.timer),s.timer=setTimeout(s.populateVisible,t.scrollTimeout))}s.hDiv.scrollLeft=s.bDiv.scrollLeft,t.footerrow&&(s.sDiv.scrollLeft=s.bDiv.scrollLeft),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,s=t.selarrrow?$.makeArray(t.selarrrow):null,r=e.grid.bDiv.scrollLeft,a=function(){var n;if(t.selrow=null,t.selarrrow=[],t.multiselect&&s&&s.length>0)for(n=0;n<s.length;n++)s[n]!==i&&$(e).jqGrid("setSelection",s[n],!1,null);i&&$(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=r,$(e).unbind(".selectionPreserver",a)};$(e).bind("jqGridGridComplete.selectionPreserver",a)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)return void alert("Element is not a table or has no id!");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");$(this).empty().attr("tabindex","0"),this.p=t,this.p.useProp=!!$.fn.prop;var r,a;if(0===this.p.colNames.length)for(r=0;r<this.p.colModel.length;r++)this.p.colNames[r]=this.p.colModel[r].label||this.p.colModel[r].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.errors.model);var n=$("<div class='ui-jqgrid-view'></div>"),o=$.jgrid.msie;i.p.direction=$.trim(i.p.direction.toLowerCase()),-1===$.inArray(i.p.direction,["ltr","rtl"])&&(i.p.direction="ltr"),a=i.p.direction,$(n).insertBefore(this),$(this).removeClass("scroll").appendTo(n);var l=$("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");$(l).attr({id:"gbox_"+this.id,dir:a}).insertBefore(n),$(n).attr("id","gview_"+this.id).appendTo(l),$("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(n),$("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(n),$(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var d=["shiftKey","altKey","ctrlKey"],c=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},h=function(e,t,r,a,n,o){var l,d=i.p.colModel[e],c=d.align,h='style="',u=d.classes,p=d.name,f=[];return c&&(h+="text-align:"+c+";"),!0===d.hidden&&(h+="display:none;"),0===t?h+="width: "+s.headers[e].width+"px;":d.cellattr&&$.isFunction(d.cellattr)&&(l=d.cellattr.call(i,n,r,a,d,o))&&"string"==typeof l&&(l=l.replace(/style/i,"style").replace(/title/i,"title"),l.indexOf("title")>-1&&(d.title=!1),l.indexOf("class")>-1&&(u=void 0),f=l.replace("-style","-sti").split(/style/),2===f.length?(f[1]=$.trim(f[1].replace("-sti","-style").replace("=","")),0!==f[1].indexOf("'")&&0!==f[1].indexOf('"')||(f[1]=f[1].substring(1)),h+=f[1].replace(/'/gi,'"')):h+='"'),f.length||(f[0]="",h+='"'),h+=(void 0!==u?' class="'+u+'"':"")+(d.title&&r?' title="'+$.jgrid.stripHtml(r)+'"':""),(h+=' aria-describedby="'+i.p.id+"_"+p+'"')+f[0]},u=function(e){return null==e||""===e?"&#160;":i.p.autoencode?$.jgrid.htmlEncode(e):String(e)},p=function(e,t,s,r,a){var n,o=i.p.colModel[s];if(void 0!==o.formatter){e=""!==String(i.p.idPrefix)?$.jgrid.stripPref(i.p.idPrefix,e):e;var l={rowId:e,colModel:o,gid:i.p.id,pos:s};n=$.isFunction(o.formatter)?o.formatter.call(i,t,l,r,a):$.fmatter?$.fn.fmatter.call(i,o.formatter,t,l,r,a):u(t)}else n=u(t);return n},f=function(e,t,i,s,r,a){var n;return n=p(e,t,i,r,"add"),'<td role="gridcell" '+h(i,s,n,r,e,a)+">"+n+"</td>"},g=function(e,t,s,r){var a='<input role="checkbox" type="checkbox" id="jqg_'+i.p.id+"_"+e+'" class="cbox" name="jqg_'+i.p.id+"_"+e+'"'+(r?'checked="checked"':"")+"/>";return'<td role="gridcell" '+h(t,s,"",null,e,!0)+">"+a+"</td>"},m=function(e,t,i,s){var r=(parseInt(i,10)-1)*parseInt(s,10)+1+t;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+h(e,t,r,null,t,!0)+">"+r+"</td>"},v=function(e){var t,s,r=[],a=0;for(s=0;s<i.p.colModel.length;s++)t=i.p.colModel[s],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(r[a]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,!1!==i.p.keyName&&!0===t.key&&(i.p.keyName=r[a]),a++);return r},b=function(e){var t=i.p.remapColumns;return t&&t.length||(t=$.map(i.p.colModel,function(e,t){return t})),e&&(t=$.map(t,function(t){return t<e?null:t-e})),t},w=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===t&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},_=function(){var e,t,s,r=i.p.data.length;for(e=!1===i.p.keyName||!0===i.p.loadonce?i.p.localReader.id:i.p.keyName,t=0;t<r;t++)s=$.jgrid.getAccessor(i.p.data[t],e),void 0===s&&(s=String(t+1)),i.p._index[s]=t},y=function(e,t,s,r,a,n){var o,l="-1",d="",c=t?"display:none;":"",h="ui-widget-content jqgrow ui-row-"+i.p.direction+(s?" "+s:"")+(n?" ui-state-highlight":""),u=$(i).triggerHandler("jqGridRowAttr",[r,a,e]);if("object"!=typeof u&&(u=$.isFunction(i.p.rowattr)?i.p.rowattr.call(i,r,a,e):{}),!$.isEmptyObject(u)){u.hasOwnProperty("id")&&(e=u.id,delete u.id),u.hasOwnProperty("tabindex")&&(l=u.tabindex,delete u.tabindex),u.hasOwnProperty("style")&&(c+=u.style,delete u.style),u.hasOwnProperty("class")&&(h+=" "+u.class,delete u.class);try{delete u.role}catch(e){}for(o in u)u.hasOwnProperty(o)&&(d+=" "+o+"="+u[o])}return'<tr role="row" id="'+e+'" tabindex="'+l+'" class="'+h+'"'+(""===c?"":' style="'+c+'"')+d+">"},j=function(e,t,s,r,a){var n=new Date,o="local"!==i.p.datatype&&i.p.loadonce||"xmlstring"===i.p.datatype,l=i.p.xmlReader,d="local"===i.p.datatype?"local":"xml";if(o&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_"),i.p.reccount=0,$.isXMLDoc(e)){-1!==i.p.treeANode||i.p.scroll?s=s>1?s:1:(w.call(i,!1,!0),s=1);var h,u,p,_,j,x,D,C,k,q,I=$(i),S=0,M=!0===i.p.multiselect?1:0,P=0,F=!0===i.p.rownumbers?1:0,T=[],G={},N=[],A=!0===i.p.altRows?i.p.altclass:"";!0===i.p.subGrid&&(P=1,_=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(T=v(d)),j=!1===i.p.keyName?$.isFunction(l.id)?l.id.call(i,e):l.id:i.p.keyName,x=-1===String(j).indexOf("[")?T.length?function(e,t){return $(j,e).text()||t}:function(e,t){return $(l.cell,e).eq(j).text()||t}:function(e,t){return e.getAttribute(j.replace(/[\[\]]/g,""))||t},i.p.userData={},i.p.page=c($.jgrid.getXmlData(e,l.page),i.p.page),i.p.lastpage=c($.jgrid.getXmlData(e,l.total),1),i.p.records=c($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?i.p.userData=l.userdata.call(i,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each(function(){i.p.userData[this.getAttribute("name")]=$(this).text()});var R=$.jgrid.getXmlData(e,l.root,!0);R=$.jgrid.getXmlData(R,l.row,!0),R||(R=[]);var E,O=R.length,z=0,H=[],W=parseInt(i.p.rowNum,10),L=i.p.scroll?$.jgrid.randId():1;if(O>0&&i.p.page<=0&&(i.p.page=1),R&&O){a&&(W*=a+1);var B,V=$.isFunction(i.p.afterInsertRow),Y=!1;for(i.p.grouping&&(Y=!0===i.p.groupingView.groupCollapse,B=$.jgrid.getMethod("groupingPrepare"));z<O;){C=R[z],k=x(C,L+z),k=i.p.idPrefix+k,E=0===s?0:s+1,q=(E+z)%2==1?A:"";var Q=N.length;if(N.push(""),F&&N.push(m(0,z,i.p.page,i.p.rowNum)),M&&N.push(g(k,F,z,!1)),P&&N.push(_.call(I,M+F,z+s)),l.repeatitems){D||(D=b(M+P+F));var U=$.jgrid.getXmlData(C,l.cell,!0);$.each(D,function(e){var t=U[this];if(!t)return!1;p=t.textContent||t.text,G[i.p.colModel[e+M+P+F].name]=p,N.push(f(k,p,e+M+P+F,z+s,C,G))})}else for(h=0;h<T.length;h++)p=$.jgrid.getXmlData(C,T[h]),G[i.p.colModel[h+M+P+F].name]=p,N.push(f(k,p,h+M+P+F,z+s,C,G));if(N[Q]=y(k,Y,q,G,C,!1),N.push("</tr>"),i.p.grouping&&(H.push(N),i.p.groupingView._locgr||B.call(I,G,z),N=[]),(o||!0===i.p.treeGrid)&&(G._id_=$.jgrid.stripPref(i.p.idPrefix,k),i.p.data.push(G),i.p._index[G._id_]=i.p.data.length-1),!1===i.p.gridview&&($("tbody:first",t).append(N.join("")),I.triggerHandler("jqGridAfterInsertRow",[k,G,C]),V&&i.p.afterInsertRow.call(i,k,G,C),N=[]),G={},S++,z++,S===W)break}}if(!0===i.p.gridview&&(u=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?o||(I.jqGrid("groupingRender",H,i.p.colModel.length,i.p.page,W),H=null):!0===i.p.treeGrid&&u>0?$(i.rows[u]).after(N.join("")):$("tbody:first",t).append(N.join(""))),!0===i.p.subGrid)try{I.jqGrid("addSubGrid",M+F)}catch(e){}if(i.p.totaltime=new Date-n,S>0&&0===i.p.records&&(i.p.records=O),N=null,!0===i.p.treeGrid)try{I.jqGrid("setTreeNode",u+1,S+u+1)}catch(e){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=S,i.p.treeANode=-1,i.p.userDataOnFooter&&I.jqGrid("footerData","set",i.p.userData,!0),o&&(i.p.records=O,i.p.lastpage=Math.ceil(O/W)),r||i.updatepager(!1,!0),o){for(;S<O;){if(C=R[S],k=x(C,S+L),k=i.p.idPrefix+k,l.repeatitems){D||(D=b(M+P+F));var K=$.jgrid.getXmlData(C,l.cell,!0);$.each(D,function(e){var t=K[this];if(!t)return!1;p=t.textContent||t.text,G[i.p.colModel[e+M+P+F].name]=p})}else for(h=0;h<T.length;h++)p=$.jgrid.getXmlData(C,T[h]),G[i.p.colModel[h+M+P+F].name]=p;G._id_=$.jgrid.stripPref(i.p.idPrefix,k),i.p.grouping&&B.call(I,G,S),i.p.data.push(G),i.p._index[G._id_]=i.p.data.length-1,G={},S++}i.p.grouping&&(i.p.groupingView._locgr=!0,I.jqGrid("groupingRender",H,i.p.colModel.length,i.p.page,W),H=null)}}},x=function(e,t,s,r,a){var n=new Date;if(e){-1!==i.p.treeANode||i.p.scroll?s=s>1?s:1:(w.call(i,!1,!0),s=1);var o,l,d="local"!==i.p.datatype&&i.p.loadonce||"jsonstring"===i.p.datatype;d&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_"),i.p.reccount=0,
"local"===i.p.datatype?(o=i.p.localReader,l="local"):(o=i.p.jsonReader,l="json");var h,u,p,_,j,x,D,C,k,q,I,S,M=$(i),P=0,F=[],T=i.p.multiselect?1:0,G=!0===i.p.subGrid?1:0,N=!0===i.p.rownumbers?1:0,A=b(T+G+N),R=v(l),E={},O=[],z=!0===i.p.altRows?i.p.altclass:"";i.p.page=c($.jgrid.getAccessor(e,o.page),i.p.page),i.p.lastpage=c($.jgrid.getAccessor(e,o.total),1),i.p.records=c($.jgrid.getAccessor(e,o.records)),i.p.userData=$.jgrid.getAccessor(e,o.userdata)||{},G&&(j=$.jgrid.getMethod("addSubGridCell")),k=!1===i.p.keyName?$.isFunction(o.id)?o.id.call(i,e):o.id:i.p.keyName,C=$.jgrid.getAccessor(e,o.root),null==C&&$.isArray(e)&&(C=e),C||(C=[]),D=C.length,u=0,D>0&&i.p.page<=0&&(i.p.page=1);var H,W,L=parseInt(i.p.rowNum,10),B=i.p.scroll?$.jgrid.randId():1,V=!1;a&&(L*=a+1),"local"!==i.p.datatype||i.p.deselectAfterSort||(V=!0);var Y,Q=$.isFunction(i.p.afterInsertRow),U=[],K=!1;for(i.p.grouping&&(K=!0===i.p.groupingView.groupCollapse,Y=$.jgrid.getMethod("groupingPrepare"));u<D;){if(_=C[u],void 0===(I=$.jgrid.getAccessor(_,k))&&("number"==typeof k&&null!=i.p.colModel[k+T+G+N]&&(I=$.jgrid.getAccessor(_,i.p.colModel[k+T+G+N].name)),void 0===I&&(I=B+u,0===F.length&&o.cell))){var X=$.jgrid.getAccessor(_,o.cell)||_;I=null!=X&&void 0!==X[k]?X[k]:I,X=null}I=i.p.idPrefix+I,H=1===s?0:s,S=(H+u)%2==1?z:"",V&&(W=i.p.multiselect?-1!==$.inArray(I,i.p.selarrrow):I===i.p.selrow);var J=O.length;for(O.push(""),N&&O.push(m(0,u,i.p.page,i.p.rowNum)),T&&O.push(g(I,N,u,W)),G&&O.push(j.call(M,T+N,u+s)),x=R,o.repeatitems&&(o.cell&&(_=$.jgrid.getAccessor(_,o.cell)||_),$.isArray(_)&&(x=A)),p=0;p<x.length;p++)h=$.jgrid.getAccessor(_,x[p]),E[i.p.colModel[p+T+G+N].name]=h,O.push(f(I,h,p+T+G+N,u+s,_,E));if(O[J]=y(I,K,S,E,_,W),O.push("</tr>"),i.p.grouping&&(U.push(O),i.p.groupingView._locgr||Y.call(M,E,u),O=[]),(d||!0===i.p.treeGrid)&&(E._id_=$.jgrid.stripPref(i.p.idPrefix,I),i.p.data.push(E),i.p._index[E._id_]=i.p.data.length-1),!1===i.p.gridview&&($("#"+$.jgrid.jqID(i.p.id)+" tbody:first").append(O.join("")),M.triggerHandler("jqGridAfterInsertRow",[I,E,_]),Q&&i.p.afterInsertRow.call(i,I,E,_),O=[]),E={},P++,u++,P===L)break}if(!0===i.p.gridview&&(q=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?d||(M.jqGrid("groupingRender",U,i.p.colModel.length,i.p.page,L),U=null):!0===i.p.treeGrid&&q>0?$(i.rows[q]).after(O.join("")):$("#"+$.jgrid.jqID(i.p.id)+" tbody:first").append(O.join(""))),!0===i.p.subGrid)try{M.jqGrid("addSubGrid",T+N)}catch(e){}if(i.p.totaltime=new Date-n,P>0&&0===i.p.records&&(i.p.records=D),O=null,!0===i.p.treeGrid)try{M.jqGrid("setTreeNode",q+1,P+q+1)}catch(e){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=P,i.p.treeANode=-1,i.p.userDataOnFooter&&M.jqGrid("footerData","set",i.p.userData,!0),d&&(i.p.records=D,i.p.lastpage=Math.ceil(D/L)),r||i.updatepager(!1,!0),d){for(;P<D&&C[P];){if(_=C[P],void 0===(I=$.jgrid.getAccessor(_,k))&&("number"==typeof k&&null!=i.p.colModel[k+T+G+N]&&(I=$.jgrid.getAccessor(_,i.p.colModel[k+T+G+N].name)),void 0===I&&(I=B+P,0===F.length&&o.cell))){var Z=$.jgrid.getAccessor(_,o.cell)||_;I=null!=Z&&void 0!==Z[k]?Z[k]:I,Z=null}if(_){for(I=i.p.idPrefix+I,x=R,o.repeatitems&&(o.cell&&(_=$.jgrid.getAccessor(_,o.cell)||_),$.isArray(_)&&(x=A)),p=0;p<x.length;p++)E[i.p.colModel[p+T+G+N].name]=$.jgrid.getAccessor(_,x[p]);E._id_=$.jgrid.stripPref(i.p.idPrefix,I),i.p.grouping&&Y.call(M,E,P),i.p.data.push(E),i.p._index[E._id_]=i.p.data.length-1,E={}}P++}i.p.grouping&&(i.p.groupingView._locgr=!0,M.jqGrid("groupingRender",U,i.p.colModel.length,i.p.page,L),U=null)}}},D=function(){function e(t){var i,s,r,a,n,o=0;if(null!=t.groups){for(s=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),s&&g.orBegin(),i=0;i<t.groups.length;i++){o>0&&s&&g.or();try{e(t.groups[i])}catch(e){alert(e)}o++}s&&g.orEnd()}if(null!=t.rules)try{for(r=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),r&&g.orBegin(),i=0;i<t.rules.length;i++)n=t.rules[i],a=t.groupOp.toString().toUpperCase(),f[n.op]&&n.field&&(o>0&&a&&"OR"===a&&(g=g.or()),g=f[n.op](g,a)(n.field,n.data,l[n.field])),o++;r&&g.orEnd()}catch(e){alert(e)}}var t,s,r,a=i.p.multiSort?[]:"",n=[],o=!1,l={},d=[],c=[];if($.isArray(i.p.data)){var h,u,p=!!i.p.grouping&&i.p.groupingView;if($.each(i.p.colModel,function(){if(s=this.sorttype||"text","date"===s||"datetime"===s?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,r=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):t=r=this.datefmt||"Y-m-d",l[this.name]={stype:s,srcfmt:t,newfmt:r,sfunc:this.sortfunc||null}):l[this.name]={stype:s,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},i.p.grouping)for(u=0,h=p.groupField.length;u<h;u++)if(this.name===p.groupField[u]){var e=this.name;this.index&&(e=this.index),d[u]=l[e],c[u]=e}if(i.p.multiSort){if(this.lso){a.push(this.name);var f=this.lso.split("-");n.push(f[f.length-1])}}else o||this.index!==i.p.sortname&&this.name!==i.p.sortname||(a=this.name,o=!0)}),i.p.treeGrid)return void $(i).jqGrid("SortTree",a,i.p.sortorder,l[a].stype||"text",l[a].srcfmt||"");var f={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},in:function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},g=$.jgrid.from(i.p.data);if(i.p.ignoreCase&&(g=g.ignoreCase()),!0===i.p.search){var m=i.p.postData.filters;if(m)"string"==typeof m&&(m=$.jgrid.parse(m)),e(m);else try{g=f[i.p.postData.searchOper](g)(i.p.postData.searchField,i.p.postData.searchString,l[i.p.postData.searchField])}catch(e){}}if(i.p.grouping)for(u=0;u<h;u++)g.orderBy(c[u],p.groupOrder[u],d[u].stype,d[u].srcfmt);i.p.multiSort?$.each(a,function(e){g.orderBy(this,n[e],l[this].stype,l[this].srcfmt,l[this].sfunc)}):a&&i.p.sortorder&&o&&("DESC"===i.p.sortorder.toUpperCase()?g.orderBy(i.p.sortname,"d",l[a].stype,l[a].srcfmt,l[a].sfunc):g.orderBy(i.p.sortname,"a",l[a].stype,l[a].srcfmt,l[a].sfunc));var v=g.select(),b=parseInt(i.p.rowNum,10),w=v.length,_=parseInt(i.p.page,10),y=Math.ceil(w/b),j={};if((i.p.search||i.p.resetsearch)&&i.p.grouping&&i.p.groupingView._locgr){i.p.groupingView.groups=[];var x,D,C,k=$.jgrid.getMethod("groupingPrepare");if(i.p.footerrow&&i.p.userDataOnFooter){for(D in i.p.userData)i.p.userData.hasOwnProperty(D)&&(i.p.userData[D]=0);C=!0}for(x=0;x<w;x++){if(C)for(D in i.p.userData)i.p.userData[D]+=parseFloat(v[x][D]||0);k.call($(i),v[x],x,b)}}return v=v.slice((_-1)*b,_*b),g=null,l=null,j[i.p.localReader.total]=y,j[i.p.localReader.page]=_,j[i.p.localReader.records]=w,j[i.p.localReader.root]=v,j[i.p.localReader.userdata]=i.p.userData,v=null,j}},C=function(e,t){var s,r,a,n,o,l,d,h,u="",p=i.p.pager?"_"+$.jgrid.jqID(i.p.pager.substr(1)):"",f=i.p.toppager?"_"+i.p.toppager.substr(1):"";if(a=parseInt(i.p.page,10)-1,a<0&&(a=0),a*=parseInt(i.p.rowNum,10),o=a+i.p.reccount,i.p.scroll){var g=$("tbody:first > tr:gt(0)",i.grid.bDiv);a=o-g.length,i.p.reccount=g.length;var m=g.outerHeight()||i.grid.prevRowHeight;if(m){var v=a*m,b=parseInt(i.p.records,10)*m;$(">div:first",i.grid.bDiv).css({height:b}).children("div:first").css({height:v,display:v?"":"none"}),0==i.grid.bDiv.scrollTop&&i.p.page>1&&(i.grid.bDiv.scrollTop=i.p.rowNum*(i.p.page-1)*m)}i.grid.bDiv.scrollLeft=i.grid.hDiv.scrollLeft}if(u=i.p.pager||"",u+=i.p.toppager?u?","+i.p.toppager:i.p.toppager:""){if(d=$.jgrid.formatter.integer||{},s=c(i.p.page),r=c(i.p.lastpage),$(".selbox",u)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===i.p.pginput){$(".ui-pg-input",u).val(i.p.page),h=i.p.toppager?"#sp_1"+p+",#sp_1"+f:"#sp_1"+p;var w=$.fmatter?$.fmatter.util.NumberFormat(i.p.lastpage,d):i.p.lastpage;$(h).html(w.replace(/ /g,""))}if(i.p.viewrecords)if(0===i.p.reccount)$(".ui-paging-info",u).html(i.p.emptyrecords);else{n=a+1,l=i.p.records,$.fmatter&&(n=$.fmatter.util.NumberFormat(n,d),o=$.fmatter.util.NumberFormat(o,d),l=$.fmatter.util.NumberFormat(l,d));var _=Number(i.p.totaltime)+Number(i.p.costtime);$(".ui-paging-info",u).html($.jgrid.format(i.p.recordtext,n.replace(/ /g,""),o.replace(/ /g,""),l.replace(/ /g,""),_))}!0===i.p.pgbuttons&&(s<=0&&(s=r=0),1===s||0===s?($("#first"+p+", #prev"+p).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&$("#first_t"+f+", #prev_t"+f).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+p+", #prev"+p).removeClass("ui-state-disabled"),i.p.toppager&&$("#first_t"+f+", #prev_t"+f).removeClass("ui-state-disabled")),s===r||0===s?($("#next"+p+", #last"+p).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&$("#next_t"+f+", #last_t"+f).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+p+", #last"+p).removeClass("ui-state-disabled"),i.p.toppager&&$("#next_t"+f+", #last_t"+f).removeClass("ui-state-disabled")))}!0===e&&!0===i.p.rownumbers&&$(">td.jqgrid-rownum",i.rows).each(function(e){$(this).html(a+1+e)}),t&&i.p.jqgdnd&&$(i).jqGrid("gridDnD","updateDnD"),$(i).triggerHandler("jqGridGridComplete"),$.isFunction(i.p.gridComplete)&&i.p.gridComplete.call(i),$(i).triggerHandler("jqGridAfterGridComplete")},k=function(){if(i.grid.hDiv.loading=!0,!i.p.hiddengrid)switch(i.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(i.p.id)).show();break;case"block":$("#lui_"+$.jgrid.jqID(i.p.id)).show(),$("#load_"+$.jgrid.jqID(i.p.id)).show()}},q=function(){var e=$.jgrid.jqID(i.p.id),t=$("#gview_"+i.p.id).find(".ui-jqgrid-bdiv");t.find(".jqgridNotdata").remove();var s=$("#"+e).getGridParam("records");switch(0!=s&&null!=s||(t.append('<div class="jqgridNotdata">没有找到您要的相关数据</div>'),$(".ui-jqgrid-btable").width()>t.width()?$(".jqgridNotdata").width($(".ui-jqgrid-btable").width()):$(".jqgridNotdata").width(t.width()-6)),$(".ui-icon-radio-off").hide(),i.grid.hDiv.loading=!1,i.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(i.p.id)).hide();break;case"block":$("#lui_"+$.jgrid.jqID(i.p.id)).hide(),$("#load_"+$.jgrid.jqID(i.p.id)).hide()}},I=function(e){if(!i.grid.hDiv.loading){var t,s,r=i.p.scroll&&!1===e,a={},n=i.p.prmNames;i.p.page<=0&&(i.p.page=Math.min(1,i.p.lastpage)),null!==n.search&&(a[n.search]=i.p.search),null!==n.nd&&(a[n.nd]=(new Date).getTime()),null!==n.rows&&(a[n.rows]=i.p.rowNum),null!==n.page&&(a[n.page]=i.p.page),null!==n.sort&&(a[n.sort]=i.p.sortname),null!==n.order&&(a[n.order]=i.p.sortorder),null!==i.p.rowTotal&&null!==n.totalrows&&(a[n.totalrows]=i.p.rowTotal);var o=$.isFunction(i.p.loadComplete),l=o?i.p.loadComplete:null,d=0;if(e=e||1,e>1?null!==n.npage?(a[n.npage]=e,d=e-1,e=1):l=function(t){i.p.page++,i.grid.hDiv.loading=!1,o&&i.p.loadComplete.call(i,t),I(e-1)}:null!==n.npage&&delete i.p.postData[n.npage],i.p.grouping){$(i).jqGrid("groupingSetup");var c,h=i.p.groupingView,u="";for(c=0;c<h.groupField.length;c++){var p=h.groupField[c];$.each(i.p.colModel,function(e,t){t.name===p&&t.index&&(p=t.index)}),u+=p+" "+h.groupOrder[c]+", "}a[n.sort]=u+a[n.sort]}$.extend(i.p.postData,a);var f=i.p.scroll?i.rows.length-1:1,g=$(i).triggerHandler("jqGridBeforeRequest");if(!1===g||"stop"===g)return;if($.isFunction(i.p.datatype))return void i.p.datatype.call(i,i.p.postData,"load_"+i.p.id,f,e,d);if($.isFunction(i.p.beforeRequest)&&(g=i.p.beforeRequest.call(i),void 0===g&&(g=!0),!1===g))return;switch(t=i.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:i.p.url,type:i.p.mtype,dataType:t,data:$.isFunction(i.p.serializeGridData)?i.p.serializeGridData.call(i,i.p.postData):i.p.postData,success:function(s,a,n){if(null==s&&q(),null!=s&&null!=s.costtime&&(i.p.costtime=s.costtime),$.isFunction(i.p.beforeProcessing)&&!1===i.p.beforeProcessing.call(i,s,a,n))return void q();"xml"===t?j(s,i.grid.bDiv,f,e>1,d):x(s,i.grid.bDiv,f,e>1,d),$(i).triggerHandler("jqGridLoadComplete",[s]),l&&l.call(i,s),$(i).triggerHandler("jqGridAfterLoadComplete",[s]),r&&i.grid.populateVisible(),(i.p.loadonce||i.p.treeGrid)&&(i.p.datatype="local"),s=null,1===e&&q()},error:function(t,s,r){$.isFunction(i.p.loadError)&&i.p.loadError.call(i,t,s,r),1===e&&q(),t=null},beforeSend:function(e,t){var s=!0;if($.isFunction(i.p.loadBeforeSend)&&(s=i.p.loadBeforeSend.call(i,e,t)),void 0===s&&(s=!0),!1===s)return!1;k()}},$.jgrid.ajaxOptions,i.p.ajaxGridOptions));break;case"xmlstring":k(),s="string"!=typeof i.p.datastr?i.p.datastr:$.parseXML(i.p.datastr),j(s,i.grid.bDiv),$(i).triggerHandler("jqGridLoadComplete",[s]),o&&i.p.loadComplete.call(i,s),$(i).triggerHandler("jqGridAfterLoadComplete",[s]),i.p.datatype="local",i.p.datastr=null,q();break;case"jsonstring":k(),s="string"==typeof i.p.datastr?$.jgrid.parse(i.p.datastr):i.p.datastr,x(s,i.grid.bDiv),$(i).triggerHandler("jqGridLoadComplete",[s]),o&&i.p.loadComplete.call(i,s),$(i).triggerHandler("jqGridAfterLoadComplete",[s]),i.p.datatype="local",i.p.datastr=null,q();break;case"local":case"clientside":k(),i.p.datatype="local";var m=D();x(m,i.grid.bDiv,f,e>1,d),$(i).triggerHandler("jqGridLoadComplete",[m]),l&&l.call(i,m),$(i).triggerHandler("jqGridAfterLoadComplete",[m]),r&&i.grid.populateVisible(),q()}}},S=function(e){$("#cb_"+$.jgrid.jqID(i.p.id),i.grid.hDiv)[i.p.useProp?"prop":"attr"]("checked",e),(i.p.frozenColumns?i.p.id+"_frozen":"")&&$("#cb_"+$.jgrid.jqID(i.p.id),i.grid.fhDiv)[i.p.useProp?"prop":"attr"]("checked",e)},M=function(e,t){var s,r,n,o,l,d,h,u="<td class='ui-pg-button' style='width:4px;'><span class='ui-separator'></span></td>",p="",f="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;float:left;' class='ui-pg-table'><tbody><tr>",g="",m=function(e){var t;return $.isFunction(i.p.onPaging)&&(t=i.p.onPaging.call(i,e)),"stop"!==t&&(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],S(!1)),i.p.savedRow=[],!0)};if(e=e.substr(1),t+="_"+e,s="pg_"+e,r=e+"_left",n=e+"_center",o=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+s+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+n+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td><td id='"+r+"' align='left'></td></tr></tbody></table></div>").attr("dir","ltr"),i.p.rowList.length>0){g="<td dir='"+a+"'>",g+="<select class='ui-pg-selbox' role='listbox'>";var v;for(h=0;h<i.p.rowList.length;h++)v=i.p.rowList[h].toString().split(":"),1===v.length&&(v[1]=v[0]),g+='<option role="option" value="'+v[0]+'"'+(c(i.p.rowNum,0)===c(v[0],0)?' selected="selected"':"")+">"+v[1]+"</option>";g+="</select></td>"}if("rtl"===a&&(f+=g),!0===i.p.pginput&&(p="<td dir='"+a+"'>"+$.jgrid.format(i.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),!0===i.p.pgbuttons){var b=["first"+t,"prev"+t,"next"+t,"last"+t];"rtl"===a&&b.reverse(),f+="<td id='"+b[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon-seek-first'></span></td>",f+="<td id='"+b[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon-seek-prev'></span></td>",f+=""!==p?u+p+u:"",f+="<td id='"+b[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon-seek-next'></span></td>",f+="<td id='"+b[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon-seek-end'></span></td>"}else""!==p&&(f+=p);"ltr"===a&&(f+=g),f+="</tr></tbody></table>",!0===i.p.viewrecords&&$("td#"+e+"_"+i.p.recordpos,"#"+s).append("<div dir='"+a+"' style='text-align:left' class='ui-paging-info'></div>"),$("td#"+e+"_"+i.p.pagerpos,"#"+s).append(f),d=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+d+";visibility:hidden;' ></div>"),l=$(f).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==p&&(l+=10),$("td#"+e+"_"+i.p.pagerpos,"#"+s).width(l-4)),i.p._nvtd=[],i.p._nvtd[0]=l?Math.floor((i.p.width-l)/2):Math.floor(i.p.width/3),i.p._nvtd[1]=0,f=null,$(".ui-pg-selbox","#"+s).bind("change",function(){return!!m("records")&&(i.p.page=Math.round(i.p.rowNum*(i.p.page-1)/this.value-.5)+1,i.p.rowNum=this.value,i.p.pager&&$(".ui-pg-selbox",i.p.pager).val(this.value),i.p.toppager&&$(".ui-pg-selbox",i.p.toppager).val(this.value),I(),!1)}),!0===i.p.pgbuttons&&($(".ui-pg-button","#"+s).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click(function(){if($(this).hasClass("ui-state-disabled"))return!1;var e=c(i.p.page,1),s=c(i.p.lastpage,1),r=!1,a=!0,n=!0,o=!0,l=!0;return 0===s||1===s?(a=!1,n=!1,o=!1,l=!1):s>1&&e>=1?1===e?(a=!1,n=!1):e===s&&(o=!1,l=!1):s>1&&0===e&&(o=!1,l=!1,e=s-1),!!m(this.id)&&(this.id==="first"+t&&a&&(i.p.page=1,r=!0),this.id==="prev"+t&&n&&(i.p.page=e-1,r=!0),this.id==="next"+t&&o&&(i.p.page=e+1,r=!0),this.id==="last"+t&&l&&(i.p.page=s,r=!0),r&&I(),!1)})),!0===i.p.pginput&&$("input.ui-pg-input","#"+s).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?!!m("user")&&($(this).val(c($(this).val(),1)),i.p.page=$(this).val()>0?$(this).val():i.p.page,I(),!1):this})},P=function(e,t){var s,r,a="",n=i.p.colModel,o=!1,l=i.p.frozenColumns?t:i.grid.headers[e].el,d="";$("span.ui-grid-ico-sort",l).addClass("ui-state-disabled"),$(l).attr("aria-selected","false"),n[e].lso?"asc"===n[e].lso?(n[e].lso+="-desc",d="desc"):"desc"===n[e].lso?(n[e].lso+="-asc",d="asc"):"asc-desc"!==n[e].lso&&"desc-asc"!==n[e].lso||(n[e].lso=""):n[e].lso=d=n[e].firstsortorder||"asc",d?($("span.s-ico",l).show(),$("span.ui-icon-"+d,l).removeClass("ui-state-disabled"),$(l).attr("aria-selected","true")):i.p.viewsortcols[0]||$("span.s-ico",l).hide(),i.p.sortorder="",$.each(n,function(e){this.lso&&(e>0&&o&&(a+=", "),s=this.lso.split("-"),a+=n[e].index||n[e].name,a+=" "+s[s.length-1],o=!0,i.p.sortorder=s[s.length-1])}),r=a.lastIndexOf(i.p.sortorder),a=a.substring(0,r),i.p.sortname=a},F=function(e,t,s,r,a){if(i.p.colModel[t].sortable&&!(i.p.savedRow.length>0)){if(s||(i.p.lastsort===t?"asc"===i.p.sortorder?i.p.sortorder="desc":"desc"===i.p.sortorder&&(i.p.sortorder="asc"):i.p.sortorder=i.p.colModel[t].firstsortorder||"asc",i.p.page=1),i.p.multiSort)P(t,a);else{if(r){if(i.p.lastsort===t&&i.p.sortorder===r&&!s)return;i.p.sortorder=r}var n=i.grid.headers[i.p.lastsort].el,o=i.p.frozenColumns?a:i.grid.headers[t].el;$("span.ui-grid-ico-sort",n).addClass("ui-state-disabled"),$(n).attr("aria-selected","false"),i.p.frozenColumns&&(i.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),i.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+i.p.sortorder,o).removeClass("ui-state-disabled"),$(o).attr("aria-selected","true"),i.p.viewsortcols[0]||i.p.lastsort!==t&&(i.p.frozenColumns&&i.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",n).hide(),$("span.s-ico",o).show()),e=e.substring(5+i.p.id.length+1),i.p.sortname=i.p.colModel[t].index||e}if("stop"===$(i).triggerHandler("jqGridSortCol",[i.p.sortname,t,i.p.sortorder]))return void(i.p.lastsort=t);if($.isFunction(i.p.onSortCol)&&"stop"===i.p.onSortCol.call(i,i.p.sortname,t,i.p.sortorder))return void(i.p.lastsort=t);if("local"===i.p.datatype?i.p.deselectAfterSort&&$(i).jqGrid("resetSelection"):(i.p.selrow=null,i.p.multiselect&&S(!1),i.p.selarrrow=[],i.p.savedRow=[]),i.p.scroll){var l=i.grid.bDiv.scrollLeft;w.call(i,!0,!1),i.grid.hDiv.scrollLeft=l}i.p.subGrid&&"local"===i.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(i.p.id)).each(function(){$(this).trigger("click")}),I(),i.p.lastsort=t,i.p.sortname!==e&&t&&(i.p.lastsort=t)}},T=function(e){var t,s=e,r=e;for(t=e+1;t<i.p.colModel.length;t++)if(!0!==i.p.colModel[t].hidden){r=t;break}return r-s},G=function(e){var t=$(i.grid.headers[e].el),s=[t.position().left+t.outerWidth()];return"rtl"===i.p.direction&&(s[0]=i.p.width-s[0]),s[0]-=i.grid.bDiv.scrollLeft,s.push($(i.grid.hDiv).position().top),s.push($(i.grid.bDiv).offset().top-$(i.grid.hDiv).offset().top+$(i.grid.bDiv).height()),s},N=function(e){var t,s=i.grid.headers,r=$.jgrid.getCellIndex(e);for(t=0;t<s.length;t++)if(e===s[t].el){r=t;break}return r};for(this.p.id=this.id,-1===$.inArray(i.p.multikey,d)&&(i.p.multikey=!1),i.p.keyName=!1,r=0;r<i.p.colModel.length;r++)i.p.colModel[r]=$.extend(!0,{},i.p.cmTemplate,i.p.colModel[r].template||{},i.p.colModel[r]),!1===i.p.keyName&&!0===i.p.colModel[r].key&&(i.p.keyName=i.p.colModel[r].name);if(i.p.sortorder=i.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===i.p.grouping&&(i.p.scroll=!1,i.p.rownumbers=!1,i.p.treeGrid=!1,i.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(e){}"local"!==i.p.datatype&&(i.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(i).jqGrid("setSubGrid")}catch(e){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?i.p.multiselectWidth+i.p.cellLayout:i.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:i.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),i.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},i.p.xmlReader),i.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.jsonReader),i.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.localReader),i.p.scroll&&(i.p.pgbuttons=!1,i.p.pginput=!1,i.p.rowList=[]),i.p.data.length&&_();var A,R,E,O,z,H,W,L,B,V="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",Y="",Q="",U=[],K=[],X=[];if(!0===i.p.shrinkToFit&&!0===i.p.forceFit)for(r=i.p.colModel.length-1;r>=0;r--)if(!i.p.colModel[r].hidden){i.p.colModel[r].resizable=!1;break}if("horizontal"===i.p.viewsortcols[1]&&(Y=" ui-i-asc",Q=" ui-i-desc"),A=o?"class='ui-th-div-ie'":"",B="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+Y+" ui-state-disabled ui-sort-"+a+"'></span>",B+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+Q+" ui-state-disabled ui-sort-"+a+"'></span></span>",i.p.multiSort)for(U=i.p.sortname.split(","),r=0;r<U.length;r++)X=$.trim(U[r]).split(" "),U[r]=$.trim(X[0]),K[r]=X[1]?$.trim(X[1]):i.p.sortorder||"asc";for(r=0;r<this.p.colNames.length;r++){var J=i.p.headertitles?' title="'+$.jgrid.stripHtml(i.p.colNames[r])+'"':"";V+="<th id='"+i.p.id+"_"+i.p.colModel[r].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+a+"'"+J+">",R=i.p.colModel[r].index||i.p.colModel[r].name;var Z="left";i.p.colModel[r].align&&(Z=i.p.colModel[r].align),V+="<div style='text-align:"+Z+"' id='jqgh_"+i.p.id+"_"+i.p.colModel[r].name+"' "+A+">"+i.p.colNames[r],i.p.colModel[r].width?i.p.colModel[r].width=parseInt(i.p.colModel[r].width,10):i.p.colModel[r].width=150,"boolean"!=typeof i.p.colModel[r].title&&(i.p.colModel[r].title=!0),i.p.colModel[r].lso="",R===i.p.sortname&&(i.p.lastsort=r),i.p.multiSort&&-1!==(X=$.inArray(R,U))&&(i.p.colModel[r].lso=K[X]),V+=B+"</div></th>"}if(V+="</tr></thead>",B=null,$(this).append(V),$("thead tr:first th",this).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),this.p.multiselect){var ee,te=[];$("#cb_"+$.jgrid.jqID(i.p.id),this).bind("click",function(){i.p.selarrrow=[];var e=!0===i.p.frozenColumns?i.p.id+"_frozen":"";this.checked?($(i.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),i.p.selarrrow.push(this.id),i.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),i.grid.fbDiv).addClass("ui-state-highlight"))))}),ee=!0,te=[]):($(i.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),te.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),i.grid.fbDiv).removeClass("ui-state-highlight"))))}),i.p.selrow=null,ee=!1),$(i).triggerHandler("jqGridSelectAll",[ee?i.p.selarrrow:te,ee]),$.isFunction(i.p.onSelectAll)&&i.p.onSelectAll.call(i,ee?i.p.selarrrow:te,ee)})}if(!0===i.p.autowidth){var ie=$(l).innerWidth();i.p.width=ie>0?ie:"nw"}!function(){var e,t,r,a,n=0,o=$.jgrid.cell_width?0:c(i.p.cellLayout,0),l=0,d=c(i.p.scrollOffset,0),h=!1,u=0;$.each(i.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),i.p.grouping&&i.p.autowidth){var e=$.inArray(this.name,i.p.groupingView.groupField);e>=0&&i.p.groupingView.groupColumnShow.length>e&&(this.hidden=!i.p.groupingView.groupColumnShow[e])}this.widthOrg=t=c(this.width,0),!1===this.hidden&&(n+=t+o,this.fixed?u+=t+o:l++)}),isNaN(i.p.width)&&(i.p.width=n+(!1!==i.p.shrinkToFit||isNaN(i.p.height)?0:d)),s.width=i.p.width,i.p.tblwidth=n,!1===i.p.shrinkToFit&&!0===i.p.forceFit&&(i.p.forceFit=!1),!0===i.p.shrinkToFit&&l>0&&(r=s.width-o*l-u,isNaN(i.p.height)||(r-=d,h=!0),n=0,$.each(i.p.colModel,function(s){!1!==this.hidden||this.fixed||(t=Math.round(r*this.width/(i.p.tblwidth-o*l-u)),this.width=t,n+=t,e=s)}),a=0,h?s.width-u-(n+o*l)!==d&&(a=s.width-u-(n+o*l)-d):h||1===Math.abs(s.width-u-(n+o*l))||(a=s.width-u-(n+o*l)),i.p.colModel[e].width+=a,i.p.tblwidth=n+a+o*l+u,i.p.tblwidth>i.p.width&&(i.p.colModel[e].width-=i.p.tblwidth-parseInt(i.p.width,10),i.p.tblwidth=i.p.width))}(),$(l).css("width",s.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+i.p.id+"'>&#160;</div>"),$(n).css("width",s.width+"px"),V=$("thead:first",i).get(0);var se="";i.p.footerrow&&(se+="<table role='grid' style='width:"+i.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+a+"'>");var re=$("tr:first",V),ae="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(i.p.disableClick=!1,$("th",re).each(function(e){E=i.p.colModel[e].width,void 0===i.p.colModel[e].resizable&&(i.p.colModel[e].resizable=!0),i.p.colModel[e].resizable?(O=document.createElement("span"),$(O).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+a).css("cursor","col-resize"),$(this).addClass(i.p.resizeclass)):O="",$(this).css("width",E+"px").prepend(O),O=null;var t="";i.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),ae+="<td role='gridcell' style='height:0px;width:"+E+"px;"+t+"'></td>",s.headers[e]={width:E,el:this},"boolean"!=typeof(z=i.p.colModel[e].sortable)&&(i.p.colModel[e].sortable=!0,z=!0);var r=i.p.colModel[e].name;"cb"!==r&&"subgrid"!==r&&"rn"!==r&&i.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),z&&(i.p.multiSort?i.p.viewsortcols[0]?($("div span.s-ico",this).show(),i.p.colModel[e].lso&&$("div span.ui-icon-"+i.p.colModel[e].lso,this).removeClass("ui-state-disabled")):i.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+i.p.colModel[e].lso,this).removeClass("ui-state-disabled")):i.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===i.p.lastsort&&$("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")):e===i.p.lastsort&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled"))),i.p.footerrow&&(se+="<td role='gridcell' "+h(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=N(this);return!0===i.p.forceFit&&(i.p.nv=T(t)),s.dragStart(t,e,G(t)),!1}}).click(function(e){if(i.p.disableClick)return i.p.disableClick=!1,!1;var t,s,r="th>div.ui-jqgrid-sortable";i.p.viewsortcols[2]||(r="th>div>span>span.ui-grid-ico-sort");var a=$(e.target).closest(r);if(1===a.length){var n;if(i.p.frozenColumns){var o=$(this)[0].id.substring(i.p.id.length+1);$(i.p.colModel).each(function(e){if(this.name===o)return n=e,!1})}else n=N(this);return i.p.viewsortcols[2]||(t=!0,s=a.attr("sort")),null!=n&&F($("div",this)[0].id,n,t,s,this),!1}}),i.p.sortable&&$.fn.sortable)try{$(i).jqGrid("sortableColumns",re)}catch(e){}i.p.footerrow&&(se+="</tr></tbody></table>"),ae+="</tr>",L=document.createElement("tbody"),this.appendChild(L),$(this).addClass("ui-jqgrid-btable").append(ae),ae=null;var ne=$("<table class='ui-jqgrid-htable' style='width:"+i.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(V),oe=!(!i.p.caption||!0!==i.p.hiddengrid),le=$("<div class='ui-jqgrid-hbox"+("rtl"===a?"-rtl":"")+"'></div>");V=null,s.hDiv=document.createElement("div"),$(s.hDiv).css({width:s.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(le),$(le).append(ne),ne=null,oe&&$(s.hDiv).hide(),i.p.pager&&("string"==typeof i.p.pager?"#"!==i.p.pager.substr(0,1)&&(i.p.pager="#"+i.p.pager):i.p.pager="#"+$(i.p.pager).attr("id"),$(i.p.pager).css({width:s.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(l),oe&&$(i.p.pager).hide(),M(i.p.pager,"")),!1===i.p.cellEdit&&!0===i.p.hoverrows&&$(i).bind("mouseover",function(e){W=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(W).attr("class")&&$(W).addClass("ui-state-hover")}).bind("mouseout",function(e){W=$(e.target).closest("tr.jqgrow"),$(W).removeClass("ui-state-hover")});var de,ce,he;$(i).before(s.hDiv).click(function(e){if(H=e.target,W=$(H,i.rows).closest("tr.jqgrow"),0===$(W).length||W[0].className.indexOf("ui-state-disabled")>-1||($(H,i).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==i.id)return this;var t=$(H).hasClass("cbox"),s=$(i).triggerHandler("jqGridBeforeSelectRow",[W[0].id,e]);if(s=!1!==s&&"stop"!==s,s&&$.isFunction(i.p.beforeSelectRow)&&(s=i.p.beforeSelectRow.call(i,W[0].id,e)),"A"!==H.tagName&&("INPUT"!==H.tagName&&"TEXTAREA"!==H.tagName&&"OPTION"!==H.tagName&&"SELECT"!==H.tagName||t)&&!0===s)if(de=W[0].id,ce=$.jgrid.getCellIndex(H),he=$(H).closest("td,th").html(),$(i).triggerHandler("jqGridCellSelect",[de,ce,he,e]),$.isFunction(i.p.onCellSelect)&&i.p.onCellSelect.call(i,de,ce,he,e),!0===i.p.cellEdit)if(i.p.multiselect&&t)$(i).jqGrid("setSelection",de,!0,e);else{de=W[0].rowIndex;try{$(i).jqGrid("editCell",de,ce,!0)}catch(e){}}else if(i.p.multikey)e[i.p.multikey]?$(i).jqGrid("setSelection",de,!0,e):i.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+de).is(":checked"),
$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+de)[i.p.useProp?"prop":"attr"]("checked",t));else if(i.p.multiselect&&i.p.multiboxonly)if(t)$(i).jqGrid("setSelection",de,!0,e);else{var r=i.p.frozenColumns?i.p.id+"_frozen":"";$(i.p.selarrrow).each(function(e,t){var s=$(i).jqGrid("getGridRowById",t);s&&$(s).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(t))[i.p.useProp?"prop":"attr"]("checked",!1),r&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.p.selarrrow=[],$(i).jqGrid("setSelection",de,!0,e)}else $(i).jqGrid("setSelection",de,!0,e)}).bind("reloadGrid",function(e,t){if(!0===i.p.treeGrid&&(i.p.datatype=i.p.treedatatype),t&&t.current&&i.grid.selectionPreserver(i),"local"===i.p.datatype?($(i).jqGrid("resetSelection"),i.p.data.length&&_()):i.p.treeGrid||(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],S(!1)),i.p.savedRow=[]),i.p.scroll&&w.call(i,!0,!1),t&&t.page){var s=t.page;s>i.p.lastpage&&(s=i.p.lastpage),s<1&&(s=1),i.p.page=s,i.grid.prevRowHeight?i.grid.bDiv.scrollTop=(s-1)*i.grid.prevRowHeight*i.p.rowNum:i.grid.bDiv.scrollTop=0}return i.grid.prevRowHeight&&i.p.scroll?(delete i.p.lastpage,i.grid.populateVisible()):i.grid.populate(),!0===i.p._inlinenav&&$(i).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){H=e.target,W=$(H,i.rows).closest("tr.jqgrow"),0!==$(W).length&&(de=W[0].rowIndex,ce=$.jgrid.getCellIndex(H),$(i).triggerHandler("jqGridDblClickRow",[$(W).attr("id"),de,ce,e]),$.isFunction(i.p.ondblClickRow)&&i.p.ondblClickRow.call(i,$(W).attr("id"),de,ce,e))}).bind("contextmenu",function(e){H=e.target,W=$(H,i.rows).closest("tr.jqgrow"),0!==$(W).length&&(i.p.multiselect||$(i).jqGrid("setSelection",W[0].id,!0,e),de=W[0].rowIndex,ce=$.jgrid.getCellIndex(H),$(i).triggerHandler("jqGridRightClickRow",[$(W).attr("id"),de,ce,e]),$.isFunction(i.p.onRightClickRow)&&i.p.onRightClickRow.call(i,$(W).attr("id"),de,ce,e))}),s.bDiv=document.createElement("div"),o&&"auto"===String(i.p.height).toLowerCase()&&(i.p.height="100%"),$(s.bDiv).append($('<div style="position:relative;'+(o&&$.jgrid.msiever()<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:i.p.height+(isNaN(i.p.height)?"":"px"),width:s.width+"px"}).scroll(s.scrollGrid),$("table:first",s.bDiv).css({width:i.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),i.p.multikey&&($.jgrid.msie?$(s.bDiv).bind("selectstart",function(){return!1}):$(s.bDiv).bind("mousedown",function(){return!1})),oe&&$(s.bDiv).hide(),s.cDiv=document.createElement("div");var ue=!0===i.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close ui-corner-all HeaderButton' />").hover(function(){ue.addClass("ui-state-hover")},function(){ue.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"===a?"left":"right","0px"):"";if($(s.cDiv).append(ue).append("<span class='ui-jqgrid-title'>"+i.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===a?"-rtl":"")+" ui-widget-header ui-corner-top ui-helper-clearfix"),$(s.cDiv).insertBefore(s.hDiv),i.p.toolbar[0]&&(s.uDiv=document.createElement("div"),"top"===i.p.toolbar[1]?$(s.uDiv).insertBefore(s.hDiv):"bottom"===i.p.toolbar[1]&&$(s.uDiv).insertAfter(s.hDiv),"both"===i.p.toolbar[1]?(s.ubDiv=document.createElement("div"),$(s.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(s.hDiv),$(s.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(s.hDiv),oe&&$(s.ubDiv).hide()):$(s.uDiv).width(s.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),oe&&$(s.uDiv).hide()),i.p.toppager&&(i.p.toppager=$.jgrid.jqID(i.p.id)+"_toppager",s.topDiv=$("<div id='"+i.p.toppager+"'></div>")[0],i.p.toppager="#"+i.p.toppager,$(s.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(s.width).insertBefore(s.hDiv),M(i.p.toppager,"_t")),i.p.footerrow&&(s.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],le=$("<div class='ui-jqgrid-hbox"+("rtl"===a?"-rtl":"")+"'></div>"),$(s.sDiv).append(le).width(s.width).insertAfter(s.hDiv),$(le).append(se),s.footers=$(".ui-jqgrid-ftable",s.sDiv)[0].rows[0].cells,i.p.rownumbers&&(s.footers[0].className="ui-state-default jqgrid-rownum"),oe&&$(s.sDiv).hide()),le=null,i.p.caption){var pe=i.p.datatype;!0===i.p.hidegrid&&($(".ui-jqgrid-titlebar-close",s.cDiv).click(function(e){var t,r=$.isFunction(i.p.onHeaderClick),a=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",n=this;return!0===i.p.toolbar[0]&&("both"===i.p.toolbar[1]&&(a+=", #"+$(s.ubDiv).attr("id")),a+=", #"+$(s.uDiv).attr("id")),t=$(a,"#gview_"+$.jgrid.jqID(i.p.id)).length,"visible"===i.p.gridstate?$(a,"#gbox_"+$.jgrid.jqID(i.p.id)).slideUp("fast",function(){0===--t&&($("span",n).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(i.p.id)).hide(),$(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,e]),r&&(oe||i.p.onHeaderClick.call(i,i.p.gridstate,e)))}):"hidden"===i.p.gridstate&&$(a,"#gbox_"+$.jgrid.jqID(i.p.id)).slideDown("fast",function(){0===--t&&($("span",n).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),oe&&(i.p.datatype=pe,I(),oe=!1),i.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(i.p.id)).show(),$(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,e]),r&&(oe||i.p.onHeaderClick.call(i,i.p.gridstate,e)))}),!1}),oe&&(i.p.datatype="local",$(".ui-jqgrid-titlebar-close",s.cDiv).trigger("click")))}else $(s.cDiv).hide();$(s.hDiv).after(s.bDiv).mousemove(function(e){if(s.resizing)return s.dragMove(e),!1}),$(".ui-jqgrid-labels",s.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+i.p.id,function(){return!s.resizing||(s.dragEnd(),!1)}),i.formatCol=h,i.sortData=F,i.updatepager=C,i.refreshIndex=_,i.setHeadCheckBox=S,i.constructTr=y,i.formatter=function(e,t,i,s,r){return p(e,t,i,s,r)},$.extend(s,{populate:I,emptyRows:w,beginReq:k,endReq:q}),this.grid=s,i.addXmlData=function(e){j(e,i.grid.bDiv)},i.addJSONData=function(e){x(e,i.grid.bDiv)},this.grid.cols=this.rows[0].cells,$(i).triggerHandler("jqGridInitGrid"),$.isFunction(i.p.onInitGrid)&&i.p.onInitGrid.call(i),I(),i.p.hiddengrid=!1}})},$.jgrid.extend({getGridParam:function(e){var t=this[0];if(t&&t.grid)return e?void 0!==t.p[e]?t.p[e]:null:t.p},setGridParam:function(e){return this.each(function(){this.grid&&"object"==typeof e&&$.extend(!0,this.p,e)})},getGridRowById:function(e){var t;return this.each(function(){try{for(var i=this.rows.length;i--;)if(null!=e&&e.toString()===this.rows[i].id){t=this.rows[i];break}}catch(i){t=$(this.grid.bDiv).find("#"+$.jgrid.jqID(e))}}),t},getDataIDs:function(){var e,t=[],i=0,s=0;return this.each(function(){if((e=this.rows.length)&&e>0)for(;i<e;)$(this.rows[i]).hasClass("jqgrow")&&(t[s]=this.rows[i].id,s++),i++}),t},setSelection:function(e,t,i){return this.each(function(){var s,r,a,n,o,l,d,c=this;void 0!==e&&(t=!1!==t,!(r=$(c).jqGrid("getGridRowById",e))||!r.className||r.className.indexOf("ui-state-disabled")>-1||(!0===c.p.scrollrows&&(a=$(c).jqGrid("getGridRowById",e).rowIndex)>=0&&function(e){var t=$(c.grid.bDiv)[0].clientHeight,i=$(c.grid.bDiv)[0].scrollTop,s=$(c.rows[e]).position().top,r=c.rows[e].clientHeight;s+r>=t+i?$(c.grid.bDiv)[0].scrollTop=s-(t+i)+r+i:s<t+i&&s<i&&($(c.grid.bDiv)[0].scrollTop=s)}(a),!0===c.p.frozenColumns&&(l=c.p.id+"_frozen"),c.p.multiselect?(c.setHeadCheckBox(!1),c.p.selrow=r.id,n=$.inArray(c.p.selrow,c.p.selarrrow),-1===n?("ui-subgrid"!==r.className&&$(r).addClass("ui-state-highlight").attr("aria-selected","true"),s=!0,c.p.selarrrow.push(c.p.selrow)):("ui-subgrid"!==r.className&&$(r).removeClass("ui-state-highlight").attr("aria-selected","false"),s=!1,c.p.selarrrow.splice(n,1),o=c.p.selarrrow[0],c.p.selrow=void 0===o?null:o),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(r.id))[c.p.useProp?"prop":"attr"]("checked",s),l&&(-1===n?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l)).addClass("ui-state-highlight"):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l))[c.p.useProp?"prop":"attr"]("checked",s)),t&&($(c).triggerHandler("jqGridSelectRow",[r.id,s,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,r.id,s,i))):"ui-subgrid"!==r.className&&(c.p.selrow!==r.id?(d=$(c).jqGrid("getGridRowById",c.p.selrow),d&&$(d).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(r).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),l&&($("#"+$.jgrid.jqID(c.p.selrow),"#"+$.jgrid.jqID(l)).removeClass("ui-state-highlight"),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(l)).addClass("ui-state-highlight")),s=!0):s=!1,c.p.selrow=r.id,t&&($(c).triggerHandler("jqGridSelectRow",[r.id,s,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,r.id,s,i)))))})},resetSelection:function(e){return this.each(function(){var t,i,s=this;!0===s.p.frozenColumns&&(i=s.p.id+"_frozen"),void 0!==e?(t=e===s.p.selrow?s.p.selrow:e,$("#"+$.jgrid.jqID(s.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass("ui-state-highlight").attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),s.p.multiselect&&($("#jqg_"+$.jgrid.jqID(s.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s.p.id))[s.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(s.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[s.p.useProp?"prop":"attr"]("checked",!1),s.setHeadCheckBox(!1)),t=null):s.p.multiselect?($(s.p.selarrrow).each(function(e,t){$($(s).jqGrid("getGridRowById",t)).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(s.p.id)+"_"+$.jgrid.jqID(t))[s.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(s.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[s.p.useProp?"prop":"attr"]("checked",!1))}),s.setHeadCheckBox(!1),s.p.selarrrow=[],s.p.selrow=null):s.p.selrow&&($("#"+$.jgrid.jqID(s.p.id)+" tbody:first tr#"+$.jgrid.jqID(s.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(s.p.selrow),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),s.p.selrow=null),!0===s.p.cellEdit&&parseInt(s.p.iCol,10)>=0&&parseInt(s.p.iRow,10)>=0&&($("td:eq("+s.p.iCol+")",s.rows[s.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(s.rows[s.p.iRow]).removeClass("selected-row ui-state-hover")),s.p.savedRow=[]})},getRowData:function(e){var t,i,s={},r=!1,a=0;return this.each(function(){var n,o,l=this;if(void 0===e)r=!0,t=[],i=l.rows.length;else{if(!(o=$(l).jqGrid("getGridRowById",e)))return s;i=2}for(;a<i;)r&&(o=l.rows[a]),$(o).hasClass("jqgrow")&&($('td[role="gridcell"]',o).each(function(e){if("cb"!==(n=l.p.colModel[e].name)&&"subgrid"!==n&&"rn"!==n)if(!0===l.p.treeGrid&&n===l.p.ExpandColumn)s[n]=$.jgrid.htmlDecode($("span:first",this).html());else try{s[n]=$.unformat.call(l,this,{rowId:o.id,colModel:l.p.colModel[e]},e)}catch(e){s[n]=$.jgrid.htmlDecode($(this).html())}}),r&&(t.push(s),s={})),a++}),t||s},delRowData:function(e){var t,i,s,r=!1;return this.each(function(){var a=this;if(!(t=$(a).jqGrid("getGridRowById",e)))return!1;if(a.p.subGrid&&(s=$(t).next(),s.hasClass("ui-subgrid")&&s.remove()),$(t).remove(),a.p.records--,a.p.reccount--,a.updatepager(!0,!1),r=!0,a.p.multiselect&&-1!==(i=$.inArray(e,a.p.selarrrow))&&a.p.selarrrow.splice(i,1),a.p.multiselect&&a.p.selarrrow.length>0?a.p.selrow=a.p.selarrrow[a.p.selarrrow.length-1]:a.p.selrow=null,"local"===a.p.datatype){var n=$.jgrid.stripPref(a.p.idPrefix,e),o=a.p._index[n];void 0!==o&&(a.p.data.splice(o,1),a.refreshIndex())}if(!0===a.p.altRows&&r){var l=a.p.altclass;$(a.rows).each(function(e){e%2==1?$(this).addClass(l):$(this).removeClass(l)})}}),r},setRowData:function(e,t,i){var s,r,a=!0;return this.each(function(){if(!this.grid)return!1;var n,o,l=this,d=typeof i,c={};if(!(o=$(this).jqGrid("getGridRowById",e)))return!1;if(t)try{if($(this.p.colModel).each(function(i){s=this.name;var a=$.jgrid.getAccessor(t,s);void 0!==a&&(c[s]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,a,this):a,n=l.formatter(e,a,i,t,"edit"),r=this.title?{title:$.jgrid.stripHtml(n)}:{},!0===l.p.treeGrid&&s===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",o).html(n).attr(r):$("td[role='gridcell']:eq("+i+")",o).html(n).attr(r))}),"local"===l.p.datatype){var h,u=$.jgrid.stripPref(l.p.idPrefix,e),p=l.p._index[u];if(l.p.treeGrid)for(h in l.p.treeReader)l.p.treeReader.hasOwnProperty(h)&&delete c[l.p.treeReader[h]];void 0!==p&&(l.p.data[p]=$.extend(!0,l.p.data[p],c)),c=null}}catch(e){a=!1}a&&("string"===d?$(o).addClass(i):null!==i&&"object"===d&&$(o).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))}),a},addRowData:function(e,t,i,s){i||(i="last");var r,a,n,o,l,d,c,h,u,p,f,g,m,v,b=!1,w="";return t&&($.isArray(t)?(u=!0,i="last",p=e):(t=[t],u=!1),this.each(function(){var _=this,y=t.length;$("#gview_"+_.p.id).find(".ui-jqgrid-bdiv").find(".jqgridNotdata").remove(),l=!0===_.p.rownumbers?1:0,n=!0===_.p.multiselect?1:0,o=!0===_.p.subGrid?1:0,u||(void 0!==e?e=String(e):(e=$.jgrid.randId(),!1!==_.p.keyName&&(p=_.p.keyName,void 0!==t[0][p]&&(e=t[0][p])))),f=_.p.altclass;for(var j=0,x="",D={},C=!!$.isFunction(_.p.afterInsertRow);j<y;){if(g=t[j],a=[],u){try{e=g[p],void 0===e&&(e=$.jgrid.randId())}catch(t){e=$.jgrid.randId()}x=!0===_.p.altRows&&(_.rows.length-1)%2==0?f:""}for(v=e,e=_.p.idPrefix+e,l&&(w=_.formatCol(0,1,"",null,e,!0),a[a.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+w+">0</td>"),n&&(h='<input role="checkbox" type="checkbox" id="jqg_'+_.p.id+"_"+e+'" class="cbox"/>',w=_.formatCol(l,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+w+">"+h+"</td>"),o&&(a[a.length]=$(_).jqGrid("addSubGridCell",n+l,1)),c=n+o+l;c<_.p.colModel.length;c++)m=_.p.colModel[c],r=m.name,D[r]=g[r],h=_.formatter(e,$.jgrid.getAccessor(g,r),c,g),w=_.formatCol(c,1,h,g,e,D),a[a.length]='<td role="gridcell" '+w+">"+h+"</td>";if(a.unshift(_.constructTr(e,!1,x,D,g,!1)),a[a.length]="</tr>",0===_.rows.length)$("table:first",_.grid.bDiv).append(a.join(""));else switch(i){case"last":$(_.rows[_.rows.length-1]).after(a.join("")),d=_.rows.length-1;break;case"first":$(_.rows[0]).after(a.join("")),d=1;break;case"after":d=$(_).jqGrid("getGridRowById",s),d&&($(_.rows[d.rowIndex+1]).hasClass("ui-subgrid")?$(_.rows[d.rowIndex+1]).after(a):$(d).after(a.join("")),d=d.rowIndex+1);break;case"before":d=$(_).jqGrid("getGridRowById",s),d&&($(d).before(a.join("")),d=d.rowIndex-1)}!0===_.p.subGrid&&$(_).jqGrid("addSubGrid",n+l,d),_.p.records++,_.p.reccount++,$(_).triggerHandler("jqGridAfterInsertRow",[e,g,g]),C&&_.p.afterInsertRow.call(_,e,g,g),j++,"local"===_.p.datatype&&(D[_.p.localReader.id]=v,_.p._index[v]=_.p.data.length,_.p.data.push(D),D={})}!0!==_.p.altRows||u||("last"===i?(_.rows.length-1)%2==1&&$(_.rows[_.rows.length-1]).addClass(f):$(_.rows).each(function(e){e%2==1?$(this).addClass(f):$(this).removeClass(f)})),_.updatepager(!0,!0),b=!0})),b},footerData:function(e,t,i){function s(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var r,a,n=!1,o={};return void 0==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,d=this;return!(!d.grid||!d.p.footerrow)&&(("set"!==e||!s(t))&&(n=!0,void $(this.p.colModel).each(function(s){r=this.name,"set"===e?void 0!==t[r]&&(l=i?d.formatter("",t[r],s,t,"edit"):t[r],a=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+s+")",d.grid.sDiv).html(l).attr(a),n=!0):"get"===e&&(o[r]=$("tr.footrow td:eq("+s+")",d.grid.sDiv).html())})))}),"get"===e?o:n},showHideCol:function(e,t){return this.each(function(){var i,s=this,r=!1,a=$.jgrid.cell_width?0:s.p.cellLayout;if(s.grid){"string"==typeof e&&(e=[e]),t="none"!==t?"":"none";var n=""===t,o=s.p.groupHeader&&("object"==typeof s.p.groupHeader||$.isFunction(s.p.groupHeader));o&&$(s).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(o){if(-1!==$.inArray(this.name,e)&&this.hidden===n){if(!0===s.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=rowheader]",s.grid.hDiv).each(function(){$(this.cells[o]).css("display",t)}),$(s.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[o]).css("display",t)}),s.p.footerrow&&$("tr.footrow td:eq("+o+")",s.grid.sDiv).css("display",t),i=parseInt(this.width,10),"none"===t?s.p.tblwidth-=i+a:s.p.tblwidth+=i+a,this.hidden=!n,r=!0,$(s).triggerHandler("jqGridShowHideCol",[n,this.name,o])}}),!0===r&&(!0!==s.p.shrinkToFit||isNaN(s.p.height)||(s.p.tblwidth+=parseInt(s.p.scrollOffset,10)),$(s).jqGrid("setGridWidth",!0===s.p.shrinkToFit?s.p.tblwidth:s.p.width)),o&&$(s).jqGrid("setGroupHeaders",s.p.groupHeader)}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,i){function s(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(e,function(e){t[e]=i[this]})}function r(t,i){$(">tr"+(i||""),t).each(function(){var t=this,i=$.makeArray(t.cells);$.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var a=this.get(0);s(a.p.colModel),s(a.p.colNames),s(a.grid.headers),r($("thead:first",a.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&r($("#"+$.jgrid.jqID(a.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),a.p.footerrow&&r($("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?s(a.p.remapColumns):a.p.remapColumns=$.makeArray(e)),a.p.lastsort=$.inArray(a.p.lastsort,e),a.p.treeGrid&&(a.p.expColInd=$.inArray(a.p.expColInd,e)),$(a).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var i,s,r,a,n=this,o=0,l=$.jgrid.cell_width?0:n.p.cellLayout,d=0,c=!1,h=n.p.scrollOffset,u=0;if("boolean"!=typeof t&&(t=n.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),n.grid.width=n.p.width=e,$("#gbox_"+$.jgrid.jqID(n.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(n.p.id)).css("width",e+"px"),$(n.grid.bDiv).css("width",e+"px"),$(n.grid.hDiv).css("width",e+"px"),n.p.pager&&$(n.p.pager).css("width",e+"px"),n.p.toppager&&$(n.p.toppager).css("width",e+"px"),!0===n.p.toolbar[0]&&($(n.grid.uDiv).css("width",e+"px"),"both"===n.p.toolbar[1]&&$(n.grid.ubDiv).css("width",e+"px")),n.p.footerrow&&$(n.grid.sDiv).css("width",e+"px"),!1===t&&!0===n.p.forceFit&&(n.p.forceFit=!1),!0===t){if($.each(n.p.colModel,function(){!1===this.hidden&&(i=this.widthOrg,o+=i+l,this.fixed?u+=i+l:d++)}),0===d)return;n.p.tblwidth=o,r=e-l*d-u,isNaN(n.p.height)||($(n.grid.bDiv)[0].clientHeight<$(n.grid.bDiv)[0].scrollHeight||1===n.rows.length)&&(c=!0,r-=h),o=0;var p=n.grid.cols.length>0;if($.each(n.p.colModel,function(e){if(!1===this.hidden&&!this.fixed){if(i=this.widthOrg,(i=Math.round(r*i/(n.p.tblwidth-l*d-u)))<0)return;this.width=i,o+=i,n.grid.headers[e].width=i,n.grid.headers[e].el.style.width=i+"px",n.p.footerrow&&(n.grid.footers[e].style.width=i+"px"),p&&(n.grid.cols[e].style.width=i+"px"),s=e}}),!s)return;if(a=0,c?e-u-(o+l*d)!==h&&(a=e-u-(o+l*d)-h):1!==Math.abs(e-u-(o+l*d))&&(a=e-u-(o+l*d)),n.p.colModel[s].width+=a,n.p.tblwidth=o+a+l*d+u,n.p.tblwidth>e){var f=n.p.tblwidth-parseInt(e,10);n.p.tblwidth=e,i=n.p.colModel[s].width=n.p.colModel[s].width-f}else i=n.p.colModel[s].width;n.grid.headers[s].width=i,n.grid.headers[s].el.style.width=i+"px",p&&(n.grid.cols[s].style.width=i+"px"),n.p.footerrow&&(n.grid.footers[s].style.width=i+"px")}n.p.tblwidth&&($("table:first",n.grid.bDiv).css("width",n.p.tblwidth+"px"),$("table:first",n.grid.hDiv).css("width",n.p.tblwidth+"px"),n.grid.hDiv.scrollLeft=n.grid.bDiv.scrollLeft,n.p.footerrow&&$("table:first",n.grid.sDiv).css("width",n.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){var t=this;if(t.grid){var i=$(t.grid.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),!0===t.p.frozenColumns&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(i.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show()})},setLabel:function(e,t,i,s){return this.each(function(){var r=this,a=-1;if(r.grid&&void 0!==e&&($(r.p.colModel).each(function(t){if(this.name===e)return a=t,!1}),a>=0)){var n=$("tr.ui-jqgrid-labels th:eq("+a+")",r.grid.hDiv);if(t){var o=$(".s-ico",n);$("[id^=jqgh_]",n).empty().html(t).append(o),r.p.colNames[a]=t}i&&("string"==typeof i?$(n).addClass(i):$(n).css(i)),"object"==typeof s&&$(n).attr(s)}})},setCell:function(e,t,i,s,r,a){return this.each(function(){var n,o,l=this,d=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each(function(e){if(this.name===t)return d=e,!1}):d=parseInt(t,10),d>=0)){var c=$(l).jqGrid("getGridRowById",e);if(c){var h=$("td:eq("+d+")",c);if((""!==i||!0===a)&&(n=l.formatter(e,i,d,c,"edit"),o=l.p.colModel[d].title?{title:$.jgrid.stripHtml(n)}:{},l.p.treeGrid&&$(".tree-wrap",$(h)).length>0?$("span",$(h)).html(n).attr(o):$(h).html(n).attr(o),"local"===l.p.datatype)){var u,p=l.p.colModel[d];i=p.formatter&&"string"==typeof p.formatter&&"date"===p.formatter?$.unformat.date.call(l,i,p):i,u=l.p._index[$.jgrid.stripPref(l.p.idPrefix,e)],void 0!==u&&(l.p.data[u][p.name]=i)}"string"==typeof s?$(h).addClass(s):s&&$(h).css(s),"object"==typeof r&&$(h).attr(r)}}})},getCell:function(e,t){var i=!1;return this.each(function(){var s=this,r=-1;if(s.grid&&(isNaN(t)?$(s.p.colModel).each(function(e){if(this.name===t)return r=e,!1}):r=parseInt(t,10),r>=0)){var a=$(s).jqGrid("getGridRowById",e);if(a)try{i=$.unformat.call(s,$("td:eq("+r+")",a),{rowId:a.id,colModel:s.p.colModel[r]},r)}catch(e){i=$.jgrid.htmlDecode($("td:eq("+r+")",a).html())}}}),i},getCol:function(e,t,i){var s,r,a,n,o=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var d=this,c=-1;if(d.grid&&(isNaN(e)?$(d.p.colModel).each(function(t){if(this.name===e)return c=t,!1}):c=parseInt(e,10),c>=0)){var h=d.rows.length,u=0,p=0;if(h&&h>0){for(;u<h;){if($(d.rows[u]).hasClass("jqgrow")){try{s=$.unformat.call(d,$(d.rows[u].cells[c]),{rowId:d.rows[u].id,colModel:d.p.colModel[c]},c)}catch(e){s=$.jgrid.htmlDecode(d.rows[u].cells[c].innerHTML)}i?(n=parseFloat(s),isNaN(n)||(l+=n,void 0===a&&(a=r=n),r=Math.min(r,n),a=Math.max(a,n),p++)):t?o.push({id:d.rows[u].id,value:s}):o.push(s)}u++}if(i)switch(i.toLowerCase()){case"sum":o=l;break;case"avg":o=l/p;break;case"count":o=h-1;break;case"min":o=r;break;case"max":o=a}}}}),o},clearGridData:function(e){return this.each(function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty)$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(i)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}})},getInd:function(e,t){var i,s=!1;return this.each(function(){(i=$(this).jqGrid("getGridRowById",e))&&(s=!0===t?i:i.rowIndex)}),s},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown(function(i){var s,r,a,n=$(e).find("tr[tabindex=0]")[0],o=e.p.treeReader.expanded_field;if(n)if(a=e.p._index[$.jgrid.stripPref(e.p.idPrefix,n.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(r=n.previousSibling,s="",r)if($(r).is(":hidden")){for(;r;)if(r=r.previousSibling,!$(r).is(":hidden")&&$(r).hasClass("jqgrow")){s=r.id;break}}else s=r.id;$(e).jqGrid("setSelection",s,!0,i),i.preventDefault()}if(40===i.keyCode){if(r=n.nextSibling,s="",r)if($(r).is(":hidden")){for(;r;)if(r=r.nextSibling,!$(r).is(":hidden")&&$(r).hasClass("jqgrow")){s=r.id;break}}else s=r.id;$(e).jqGrid("setSelection",s,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[a][o]&&$(n).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[a][o]&&$(n).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===i.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)])>=0&&(i=this.p.data[t])}),i}})}(jQuery),function(e){"use strict";e.jgrid.extend({getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var s,r=i.p.colModel;for(s=0;s<r.length;s++)if(r[s].name===e){t=r[s];break}return t},setColProp:function(t,i){return this.each(function(){if(this.grid&&i){var s,r=this.p.colModel;for(s=0;s<r.length;s++)if(r[s].name===t){e.extend(!0,this.p.colModel[s],i);break}}})},sortGrid:function(e,t,i){return this.each(function(){var s,r=this,a=-1,n=!1;if(r.grid){for(e||(e=r.p.sortname),s=0;s<r.p.colModel.length;s++)if(r.p.colModel[s].index===e||r.p.colModel[s].name===e){a=s,!0===r.p.frozenColumns&&!0===r.p.colModel[s].frozen&&(n=r.grid.fhDiv.find("#"+r.p.id+"_"+e));break}if(-1!==a){var o=r.p.colModel[a].sortable;n||(n=r.grid.headers[a].el),"boolean"!=typeof o&&(o=!0),"boolean"!=typeof t&&(t=!1),o&&r.sortData("jqgh_"+r.p.id+"_"+e,a,t,i,n)}}})},clearBeforeUnload:function(){return this.each(function(){var t=this.grid;e.isFunction(t.emptyRows)&&t.emptyRows.call(this,!0,!0),e(document).unbind("mouseup.jqGrid"+this.p.id),e(t.hDiv).unbind("mousemove"),e(this).unbind(),t.dragEnd=null,t.dragMove=null,t.dragStart=null,t.emptyRows=null,t.populate=null,t.populateVisible=null,t.scrollGrid=null,t.selectionPreserver=null,t.bDiv=null,t.cDiv=null,t.hDiv=null,t.cols=null;var i,s=t.headers.length;for(i=0;i<s;i++)t.headers[i].el=null;this.formatCol=null,this.sortData=null,this.updatepager=null,this.refreshIndex=null,this.setHeadCheckBox=null,this.constructTr=null,this.formatter=null,this.addXmlData=null,this.addJSONData=null,this.grid=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&e(this.p.pager).remove();try{e(this).jqGrid("clearBeforeUnload"),e("#gbox_"+e.jgrid.jqID(this.id)).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var t={id:e(this).attr("id"),cl:e(this).attr("class")};this.p.pager&&e(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var i=document.createElement("table");e(i).attr({id:t.id}),i.className=t.cl;var s=e.jgrid.jqID(this.id);e(i).removeClass("ui-jqgrid-btable"),1===e(this.p.pager).parents("#gbox_"+s).length?(e(i).insertBefore("#gbox_"+s).show(),e(this.p.pager).insertBefore("#gbox_"+s)):e(i).insertBefore("#gbox_"+s).show(),e(this).jqGrid("clearBeforeUnload"),e("#gbox_"+s).remove()}})},setGridState:function(t){return this.each(function(){if(this.grid){var i=this;"hidden"===t?(e(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.jgrid.jqID(i.p.id)).slideUp("fast"),i.p.pager&&e(i.p.pager).slideUp("fast"),i.p.toppager&&e(i.p.toppager).slideUp("fast"),!0===i.p.toolbar[0]&&("both"===i.p.toolbar[1]&&e(i.grid.ubDiv).slideUp("fast"),e(i.grid.uDiv).slideUp("fast")),i.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(i.p.id)).slideUp("fast"),e(".ui-jqgrid-titlebar-close span",i.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden"):"visible"===t&&(e(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.jgrid.jqID(i.p.id)).slideDown("fast"),i.p.pager&&e(i.p.pager).slideDown("fast"),i.p.toppager&&e(i.p.toppager).slideDown("fast"),!0===i.p.toolbar[0]&&("both"===i.p.toolbar[1]&&e(i.grid.ubDiv).slideDown("fast"),e(i.grid.uDiv).slideDown("fast")),i.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(i.p.id)).slideDown("fast"),e(".ui-jqgrid-titlebar-close span",i.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),i.p.gridstate="visible")}})},filterToolbar:function(t){return t=e.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},e.jgrid.search,t||{}),this.each(function(){var i=this;if(!this.ftoolbar){var s,r=function(){var s,r,a,n={},o=0,l={};e.each(i.p.colModel,function(){var d=e("#gs_"+e.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);if(r=this.index||this.name,a=t.searchOperators?d.parent().prev().children("a").attr("soper")||t.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":t.defaultSearch,(s="custom"===this.stype&&e.isFunction(this.searchoptions.custom_value)&&d.length>0&&"SPAN"===d[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(i,d.children(".customelement:first"),"get"):d.val())||"nu"===a||"nn"===a)n[r]=s,l[r]=a,o++;else try{delete i.p.postData[r]}catch(e){}});var d=o>0;if(!0===t.stringResult||"local"===i.p.datatype||!0===t.searchOperators){var c='{"groupOp":"'+t.groupOp+'","rules":[',h=0;e.each(n,function(e,t){h>0&&(c+=","),c+='{"field":"'+e+'",',c+='"op":"'+l[e]+'",',t+="",c+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',h++}),c+="]}",e.extend(i.p.postData,{filters:c}),e.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else e.extend(i.p.postData,n);var u;i.p.searchurl&&(u=i.p.url,e(i).jqGrid("setGridParam",{url:i.p.searchurl}));var p="stop"===e(i).triggerHandler("jqGridToolbarBeforeSearch");!p&&e.isFunction(t.beforeSearch)&&(p=t.beforeSearch.call(i)),p||e(i).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),u&&e(i).jqGrid("setGridParam",{url:u}),e(i).triggerHandler("jqGridToolbarAfterSearch"),e.isFunction(t.afterSearch)&&t.afterSearch.call(i)},a=function(s){var r,a={},n=0;s="boolean"!=typeof s||s,e.each(i.p.colModel,function(){var t,s=e("#gs_"+e.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),r=this.index||this.name,this.stype){case"select":if(s.find("option").each(function(i){if(0===i&&(this.selected=!0),e(this).val()===t)return this.selected=!0,!1}),void 0!==t)a[r]=t,n++;else try{delete i.p.postData[r]}catch(e){}break;case"text":if(s.val(t||""),void 0!==t)a[r]=t,n++;else try{delete i.p.postData[r]}catch(e){}break;case"custom":e.isFunction(this.searchoptions.custom_value)&&s.length>0&&"SPAN"===s[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(i,s.children(".customelement:first"),"set",t||"")}});var o=n>0;if(i.p.resetsearch=!0,!0===t.stringResult||"local"===i.p.datatype){var l='{"groupOp":"'+t.groupOp+'","rules":[',d=0;e.each(a,function(e,t){d>0&&(l+=","),l+='{"field":"'+e+'",',l+='"op":"eq",',t+="",
l+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++}),l+="]}",e.extend(i.p.postData,{filters:l}),e.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else e.extend(i.p.postData,a);var c;i.p.searchurl&&(c=i.p.url,e(i).jqGrid("setGridParam",{url:i.p.searchurl}));var h="stop"===e(i).triggerHandler("jqGridToolbarBeforeClear");!h&&e.isFunction(t.beforeClear)&&(h=t.beforeClear.call(i)),h||s&&e(i).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),c&&e(i).jqGrid("setGridParam",{url:c}),e(i).triggerHandler("jqGridToolbarAfterClear"),e.isFunction(t.afterClear)&&t.afterClear()},n=function(){var t=e("tr.ui-search-toolbar",i.grid.hDiv),s=!0===i.p.frozenColumns&&e("tr.ui-search-toolbar",i.grid.fhDiv);"none"===t.css("display")?(t.show(),s&&s.show()):(t.hide(),s&&s.hide())},o=function(s,a,n){e("#sopt_menu").remove(),a=parseInt(a,10),n=parseInt(n,10)+18;for(var o,l,d=e(".ui-jqgrid-view").css("font-size")||"11px",c='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+d+";left:"+a+"px;top:"+n+'px;">',h=e(s).attr("soper"),u=[],p=0,f=e(s).attr("colname"),g=i.p.colModel.length;p<g&&i.p.colModel[p].name!==f;)p++;var m=i.p.colModel[p],v=e.extend({},m.searchoptions);for(v.sopt||(v.sopt=[],v.sopt[0]="select"===m.stype?"eq":t.defaultSearch),e.each(t.odata,function(){u.push(this.oper)}),p=0;p<v.sopt.length;p++)-1!==(l=e.inArray(v.sopt[p],u))&&(o=h===t.odata[l].oper?"ui-state-highlight":"",c+='<li class="ui-menu-item '+o+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[l].oper+'" oper="'+t.operands[t.odata[l].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+t.operands[t.odata[l].oper]+"</td><td>"+t.odata[l].text+"</td></tr></table></a></li>");c+="</ul>",e("body").append(c),e("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),e("#sopt_menu > li > a").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).click(function(a){var n=e(this).attr("value"),o=e(this).attr("oper");if(e(i).triggerHandler("jqGridToolbarSelectOper",[n,o,s]),e("#sopt_menu").hide(),e(s).text(o).attr("soper",n),!0===t.autosearch){var l=e(s).parent().next().children()[0];(e(l).val()||"nu"===n||"nn"===n)&&r()}})},l=e("<tr class='ui-search-toolbar' role='rowheader'></tr>");e.each(i.p.colModel,function(a){var n,o,d,c,h,u=this,p="",f="=",g=e("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+i.p.direction+"'></th>"),m=e("<div style='position:relative;height:auto;padding-right:0.3em;padding-left:0.3em;'></div>"),v=e("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");if(!0===this.hidden&&e(g).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),n=e.extend({},this.searchoptions||{}),this.search){if(t.searchOperators){for(c=n.sopt?n.sopt[0]:"select"===u.stype?"eq":t.defaultSearch,h=0;h<t.odata.length;h++)if(t.odata[h].oper===c){f=t.operands[c]||"";break}p="<a title='"+(null!=n.searchtitle?n.searchtitle:t.operandTitle)+"' style='padding-right: 0.5em;' soper='"+c+"' class='soptclass' colname='"+this.name+"'>"+f+"</a>"}if(e("td:eq(0)",v).attr("colindex",a).append(p),void 0===n.clearSearch&&(n.clearSearch=!0),n.clearSearch){var b=t.resetTitle||"Clear Search Value";e("td:eq(2)",v).append("<a title='"+b+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+t.resetIcon+"</a>")}else e("td:eq(2)",v).hide();switch(this.stype){case"select":if(o=this.surl||n.dataUrl)d=m,e(d).append(v),e.ajax(e.extend({url:o,dataType:"html",success:function(s){if(void 0!==n.buildSelect){var a=n.buildSelect(s);a&&e("td:eq(1)",v).append(a)}else e("td:eq(1)",v).append(s);void 0!==n.defaultValue&&e("select",d).val(n.defaultValue),e("select",d).attr({name:u.index||u.name,id:"gs_"+u.name}),n.attr&&e("select",d).attr(n.attr),e("select",d).css({width:"100%"}),e.jgrid.bindEv.call(i,e("select",d)[0],n),!0===t.autosearch&&e("select",d).change(function(){return r(),!1}),s=null}},e.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{}));else{var w,_,y;if(u.searchoptions?(w=void 0===u.searchoptions.value?"":u.searchoptions.value,_=void 0===u.searchoptions.separator?":":u.searchoptions.separator,y=void 0===u.searchoptions.delimiter?";":u.searchoptions.delimiter):u.editoptions&&(w=void 0===u.editoptions.value?"":u.editoptions.value,_=void 0===u.editoptions.separator?":":u.editoptions.separator,y=void 0===u.editoptions.delimiter?";":u.editoptions.delimiter),w){var j=document.createElement("select");j.style.width="100%",e(j).attr({name:u.index||u.name,id:"gs_"+u.name});var x,D,C,k;if("string"==typeof w)for(c=w.split(y),k=0;k<c.length;k++)x=c[k].split(_),D=document.createElement("option"),D.value=x[0],D.innerHTML=x[1],j.appendChild(D);else if("object"==typeof w)for(C in w)w.hasOwnProperty(C)&&(D=document.createElement("option"),D.value=C,D.innerHTML=w[C],j.appendChild(D));void 0!==n.defaultValue&&e(j).val(n.defaultValue),n.attr&&e(j).attr(n.attr),e(m).append(v),e.jgrid.bindEv.call(i,j,n),e("td:eq(1)",v).append(j),!0===t.autosearch&&e(j).change(function(){return r(),!1})}}break;case"text":var q=void 0!==n.defaultValue?n.defaultValue:"";e("td:eq(1)",v).append("<input type='text' style='width:100%;padding:0px;' name='"+(u.index||u.name)+"' id='gs_"+u.name+"' value='"+q+"'/>"),e(m).append(v),n.attr&&e("input",m).attr(n.attr),e.jgrid.bindEv.call(i,e("input",m)[0],n),!0===t.autosearch&&(t.searchOnEnter?e("input",m).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(r(),!1):this}):e("input",m).keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:s&&clearTimeout(s),s=setTimeout(function(){r()},500)}}));break;case"custom":e("td:eq(1)",v).append("<span style='width:95%;padding:0px;' name='"+(u.index||u.name)+"' id='gs_"+u.name+"'/>"),e(m).append(v);try{if(!e.isFunction(n.custom_element))throw"e1";var $=n.custom_element.call(i,void 0!==n.defaultValue?n.defaultValue:"",n);if(!$)throw"e2";$=e($).addClass("customelement"),e(m).find(">span").append($)}catch(t){"e1"===t&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,"string"==typeof t?t:t.message,e.jgrid.edit.bClose)}}}e(g).append(m),e(l).append(g),t.searchOperators||e("td:eq(0)",v).hide()}),e("table thead",i.grid.hDiv).append(l),t.searchOperators&&(e(".soptclass",l).click(function(t){var i=e(this).offset(),s=i.left,r=i.top;o(this,s,r),t.stopPropagation()}),e("body").on("click",function(t){"soptclass"!==t.target.className&&e("#sopt_menu").hide()})),e(".clearsearchclass",l).click(function(s){var a=e(this).parents("tr:first"),n=parseInt(e("td.ui-search-oper",a).attr("colindex"),10),o=e.extend({},i.p.colModel[n].searchoptions||{}),l=o.defaultValue?o.defaultValue:"";"select"===i.p.colModel[n].stype?l?e("td.ui-search-input select",a).val(l):e("td.ui-search-input select",a)[0].selectedIndex=0:e("td.ui-search-input input",a).val(l),!0===t.autosearch&&r()}),this.ftoolbar=!0,this.triggerToolbar=r,this.clearToolbar=a,this.toggleToolbar=n}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.ftoolbar=!1,e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var i,s,r,a,n,o,l,d=this,c=d.grid,h=e("table.ui-jqgrid-htable thead",c.hDiv),u=d.p.colModel;if(c){for(e(this).unbind(".setGroupHeaders"),i=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),a=c.headers,s=0,r=a.length;s<r;s++){l=u[s].hidden?"none":"",n=e(a[s].el).width(a[s].width).css("display",l);try{n.removeAttr("rowSpan")}catch(e){n.attr("rowSpan",1)}i.append(n),o=n.children("span.ui-jqgrid-resize"),o.length>0&&(o[0].style.height=""),n.children("div")[0].style.top=""}e(h).children("tr.ui-jqgrid-labels").remove(),e(h).prepend(i),!0===t&&e(d).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(t){return t=e.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){this.p.groupHeader=t;var i,s,r,a,n,o,l,d,c,h,u,p,f,g=this,m=0,v=g.p.colModel,b=v.length,w=g.grid.headers,_=e("table.ui-jqgrid-htable",g.grid.hDiv),y=_.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),j=_.children("thead"),x=_.find(".jqg-first-row-header");void 0===x[0]?x=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):x.empty();var D;for(e(g).prepend(j),r=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),i=0;i<b;i++)if(n=w[i].el,o=e(n),s=v[i],l={height:"0px",width:w[i].width+"px",display:s.hidden?"none":""},e("<th>",{role:"gridcell"}).css(l).addClass("ui-first-th-"+g.p.direction).appendTo(x),n.style.width="",(d=function(e,t){var i,s=t.length;for(i=0;i<s;i++)if(t[i].startColumnName===e)return i;return-1}(s.name,t.groupHeaders))>=0){for(c=t.groupHeaders[d],h=c.numberOfColumns,u=c.titleText,p=0,d=0;d<h&&i+d<b;d++)v[i+d].hidden||p++;a=e("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+g.p.direction).css({height:"22px","border-top":"0 none"}).html(u),p>0&&a.attr("colspan",String(p)),g.p.headertitles&&a.attr("title",a.text()),0===p&&a.hide(),o.before(a),r.append(n),m=h-1}else 0===m?t.useColSpanStyle?o.attr("rowspan","2"):(e("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+g.p.direction).css({display:s.hidden?"none":"","border-top":"0 none"}).insertBefore(o),r.append(n)):(r.append(n),m--);f=e(g).children("thead"),f.prepend(x),r.insertAfter(y),_.append(f),t.useColSpanStyle&&(_.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),_.find("div.ui-jqgrid-sortable").each(function(){var t=e(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(i.height()-t.outerHeight())/2+"px")})),D=f.find("tr.jqg-first-row-header"),e(g).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){D.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var t=this,i=t.p.colModel,s=0,r=i.length,a=-1,n=!1;if(!0!==t.p.subGrid&&!0!==t.p.treeGrid&&!0!==t.p.cellEdit&&!t.p.sortable&&!t.p.scroll){for(t.p.rownumbers&&s++,t.p.multiselect&&s++;s<r&&!0===i[s].frozen;)n=!0,a=s,s++;if(a>=0&&n){var o=t.p.caption?e(t.grid.cDiv).outerHeight():0,l=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).height();t.p.toppager&&(o+=e(t.grid.topDiv).outerHeight()),!0===t.p.toolbar[0]&&"bottom"!==t.p.toolbar[1]&&(o+=e(t.grid.uDiv).outerHeight()),t.grid.fhDiv=e('<div style="position:absolute;left:0px;top:'+o+"px;height:"+l+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>'),t.grid.fbDiv=e('<div style="position:absolute;left:0px;top:'+(parseInt(o,10)+parseInt(l,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fhDiv);var d=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).clone(!0);if(t.p.groupHeader){e("tr.jqg-first-row-header, tr.jqg-third-row-header",d).each(function(){e("th:gt("+a+")",this).remove()});var c,h,u=-1,p=-1;e("tr.jqg-second-row-header th",d).each(function(){if(c=parseInt(e(this).attr("colspan"),10),h=parseInt(e(this).attr("rowspan"),10),h&&(u++,p++),c&&(u+=c,p++),u===a)return!1}),u!==a&&(p=a),e("tr.jqg-second-row-header",d).each(function(){e("th:gt("+p+")",this).remove()})}else e("tr",d).each(function(){e("th:gt("+a+")",this).remove()});e(d).width(1),e(t.grid.fhDiv).append(d).mousemove(function(e){if(t.grid.resizing)return t.grid.dragMove(e),!1}),e(t).bind("jqGridResizeStop.setFrozenColumns",function(i,s,r){var a=e(".ui-jqgrid-htable",t.grid.fhDiv);e("th:eq("+r+")",a).width(s);var n=e(".ui-jqgrid-btable",t.grid.fbDiv);e("tr:first td:eq("+r+")",n).width(s)}),e(t).bind("jqGridSortCol.setFrozenColumns",function(i,s,r){var a=e("tr.ui-jqgrid-labels:last th:eq("+t.p.lastsort+")",t.grid.fhDiv),n=e("tr.ui-jqgrid-labels:last th:eq("+r+")",t.grid.fhDiv);e("span.ui-grid-ico-sort",a).addClass("ui-state-disabled"),e(a).attr("aria-selected","false"),e("span.ui-icon-"+t.p.sortorder,n).removeClass("ui-state-disabled"),e(n).attr("aria-selected","true"),t.p.viewsortcols[0]||t.p.lastsort!==r&&(e("span.s-ico",a).hide(),e("span.s-ico",n).show())}),e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),e(t.grid.bDiv).scroll(function(){e(t.grid.fbDiv).scrollTop(e(this).scrollTop())}),!0===t.p.hoverrows&&e("#"+e.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout"),e(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){e("#"+e.jgrid.jqID(t.p.id)+"_frozen").remove(),e(t.grid.fbDiv).height(e(t.grid.bDiv).height()-16);var i=e("#"+e.jgrid.jqID(t.p.id)).clone(!0);e("tr[role=row]",i).each(function(){e("td[role=gridcell]:gt("+a+")",this).remove()}),e(i).width(1).attr("id",t.p.id+"_frozen"),e(t.grid.fbDiv).append(i),!0===t.p.hoverrows&&(e("tr.jqgrow",i).hover(function(){e(this).addClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).removeClass("ui-state-hover")}),e("tr.jqgrow","#"+e.jgrid.jqID(t.p.id)).hover(function(){e(this).addClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").removeClass("ui-state-hover")})),i=null}),t.grid.hDiv.loading||e(t).triggerHandler("jqGridAfterGridComplete"),t.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){var t=this;if(e(t.grid.fhDiv).remove(),e(t.grid.fbDiv).remove(),t.grid.fhDiv=null,t.grid.fbDiv=null,e(this).unbind(".setFrozenColumns"),!0===t.p.hoverrows){var i;e("#"+e.jgrid.jqID(t.p.id)).bind("mouseover",function(t){i=e(t.target).closest("tr.jqgrow"),"ui-subgrid"!==e(i).attr("class")&&e(i).addClass("ui-state-hover")}).bind("mouseout",function(t){i=e(t.target).closest("tr.jqgrow"),e(i).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})}(jQuery),function(e){e.fn.jqm=function(s){var a={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:r,ajaxText:"",target:r,modal:r,toTop:r,onShow:r,onHide:r,onLoad:r};return this.each(function(){if(this._jqm)return i[this._jqm].c=e.extend({},i[this._jqm].c,s);t++,this._jqm=t,i[t]={c:e.extend(a,e.jqm.params,s),a:r,w:e(this).addClass("jqmID"+t),s:t},a.trigger&&e(this).jqmAddTrigger(a.trigger)})},e.fn.jqmAddClose=function(e){return d(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return d(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,n){var l=i[t],d=l.c,c="."+d.closeClass,h=parseInt(l.w.css("z-index"));h=h>0?h:3e3;var u=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":h-1,opacity:d.overlay/100});if(l.a)return r;if(l.t=n,l.a=!0,l.w.css("z-index",h),d.modal?(s[0]||setTimeout(function(){o("bind")},1),s.push(t)):d.overlay>0?d.closeoverlay&&l.w.jqmAddClose(u):u=r,l.o=u?u.addClass(d.overlayClass).prependTo("body"):r,d.ajax){var p=d.target||l.w,f=d.ajax;p="string"==typeof p?e(p,l.w):e(p),f="@"==f.substr(0,1)?e(n).attr(f.substring(1)):f,p.html(d.ajaxText).load(f,function(){d.onLoad&&d.onLoad.call(this,l),c&&l.w.jqmAddClose(e(c,l.w)),a(l)})}else c&&l.w.jqmAddClose(e(c,l.w));return d.toTop&&l.o&&l.w.before('<span id="jqmP'+l.w[0]._jqm+'"></span>').insertAfter(l.o),d.onShow?d.onShow(l):l.w.show(),a(l),r},close:function(t){var a=i[t];return a.a?(a.a=r,s[0]&&(s.pop(),s[0]||o("unbind")),a.c.toTop&&a.o&&e("#jqmP"+a.w[0]._jqm).after(a.w).remove(),a.c.onHide?a.c.onHide(a):(a.w.hide(),a.o&&a.o.remove()),r):r},params:{}};var t=0,i=e.jqm.hash,s=[],r=!1,a=function(e){n(e)},n=function(t){try{e(":input:visible",t.w)[0].focus()}catch(e){}},o=function(t){e(document)[t]("keypress",l)[t]("keydown",l)[t]("mousedown",l)},l=function(t){var r=i[s[s.length-1]],a=!e(t.target).parents(".jqmID"+r.s)[0];return a&&(e(".jqmID"+r.s).each(function(){var i=e(this),s=i.offset();if(s.top<=t.pageY&&t.pageY<=s.top+i.height()&&s.left<=t.pageX&&t.pageX<=s.left+i.width())return a=!1,!1}),n(r)),!a},d=function(t,s,a){return t.each(function(){var t=this._jqm;e(s).each(function(){this[a]||(this[a]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])i[this[e][t]]&&i[this[e][t]].w[e](this);return r})),this[a].push(t)})})}}(jQuery),function(e){e.fn.jqDrag=function(e){return n(this,e,"d")},e.fn.jqResize=function(e,t){return n(this,e,"r",t)},e.jqDnR={dnr:{},e:0,drag:function(e){return"d"==r.k?a.css({left:r.X+e.pageX-r.pX,top:r.Y+e.pageY-r.pY}):(a.css({width:Math.max(e.pageX-r.pX+r.W,0),height:Math.max(e.pageY-r.pY+r.H,0)}),i&&t.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){e(document).unbind("mousemove",s.drag).unbind("mouseup",s.stop)}};var t,i,s=e.jqDnR,r=s.dnr,a=s.e,n=function(s,n,d,c){return s.each(function(){n=n?e(n,s):s,n.bind("mousedown",{e:s,k:d},function(s){var n=s.data,d={};if(a=n.e,t=!!c&&e(c),"relative"!=a.css("position"))try{a.position(d)}catch(e){}if(r={X:d.left||o("left")||0,Y:d.top||o("top")||0,W:o("width")||a[0].scrollWidth||0,H:o("height")||a[0].scrollHeight||0,pX:s.pageX,pY:s.pageY,k:n.k},i=!(!t||"d"==n.k)&&{X:d.left||l("left")||0,Y:d.top||l("top")||0,W:t[0].offsetWidth||l("width")||0,H:t[0].offsetHeight||l("height")||0,pX:s.pageX,pY:s.pageY,k:n.k},e("input.hasDatepicker",a[0])[0])try{e("input.hasDatepicker",a[0]).datepicker("hide")}catch(e){}return e(document).mousemove(e.jqDnR.drag).mouseup(e.jqDnR.stop),!1})})},o=function(e){return parseInt(a.css(e),10)||!1},l=function(e){return parseInt(t.css(e),10)||!1}}(jQuery);var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),s=this.toObj(i),r=this.toJson(s,e.nodeName,"\t");return"{\n"+t+(t?r.replace(/\t/g,t):r.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,s=function(e,t,i){var r,a,n="";if(e instanceof Array)if(0===e.length)n+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(r=0,a=e.length;r<a;r+=1){var o=i+s(e[r],t,i+"\t")+"\n";n+=o}else if("object"==typeof e){var l=!1;n+=i+"<"+t;var d;for(d in e)e.hasOwnProperty(d)&&("@"===d.charAt(0)?n+=" "+d.substr(1)+'="'+e[d].toString()+'"':l=!0);if(n+=l?">":"/>",l){for(d in e)e.hasOwnProperty(d)&&("#text"===d?n+=e[d]:"#cdata"===d?n+="<![CDATA["+e[d]+"]]>":"@"!==d.charAt(0)&&(n+=s(e[d],d,i+"\t")));n+=("\n"===n.charAt(n.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?n+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?n+=i+"<"+t+">__EMPTY_STRING_</"+t+">":n+=i+"<"+t+">"+e.toString()+"</"+t+">");return n},r="";for(i in e)e.hasOwnProperty(i)&&(r+=s(e[i],i,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(e){var t={},i=/function/i;if(1===e.nodeType){if(e.attributes.length){var s;for(s=0;s<e.attributes.length;s+=1)t["@"+e.attributes[s].nodeName]=(e.attributes[s].nodeValue||"").toString()}if(e.firstChild){var r,a=0,n=0,o=!1;for(r=e.firstChild;r;r=r.nextSibling)1===r.nodeType?o=!0:3===r.nodeType&&r.nodeValue.match(/[^ \f\n\r\t\v]/)?a+=1:4===r.nodeType&&(n+=1);if(o)if(a<2&&n<2)for(this.removeWhite(e),r=e.firstChild;r;r=r.nextSibling)3===r.nodeType?t["#text"]=this.escape(r.nodeValue):4===r.nodeType?i.test(r.nodeValue)?t[r.nodeName]=[t[r.nodeName],r.nodeValue]:t["#cdata"]=this.escape(r.nodeValue):t[r.nodeName]?t[r.nodeName]instanceof Array?t[r.nodeName][t[r.nodeName].length]=this.toObj(r):t[r.nodeName]=[t[r.nodeName],this.toObj(r)]:t[r.nodeName]=this.toObj(r);else e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):t=this.escape(this.innerXml(e));else if(a)e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):(t=this.escape(this.innerXml(e)),"__EMPTY_ARRAY_"===t?t="[]":"__EMPTY_STRING_"===t&&(t=""));else if(n)if(n>1)t=this.escape(this.innerXml(e));else for(r=e.firstChild;r;r=r.nextSibling){if(i.test(e.firstChild.nodeValue)){t=e.firstChild.nodeValue;break}t["#cdata"]=this.escape(r.nodeValue)}}e.attributes.length||e.firstChild||(t=null)}else 9===e.nodeType?t=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i,s){void 0===s&&(s=!0);var r=t?'"'+t+'"':"",a="\t",n="\n";if(s||(a="",n=""),"[]"===e)r+=t?":[]":"[]";else if(e instanceof Array){var o,l,d=[];for(l=0,o=e.length;l<o;l+=1)d[l]=this.toJson(e[l],"",i+a,s);r+=(t?":[":"[")+(d.length>1?n+i+a+d.join(","+n+i+a)+n+i:d.join(""))+"]"}else if(null===e)r+=(t&&":")+"null";else if("object"==typeof e){var c,h=[];for(c in e)e.hasOwnProperty(c)&&(h[h.length]=this.toJson(e[c],c,i+a,s));r+=(t?":{":"{")+(h.length>1?n+i+a+h.join(","+n+i+a)+n+i:h.join(""))+"}"}else r+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return r},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var i=function(e){var t,s="";if(1===e.nodeType){for(s+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)s+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){s+=">";for(var r=e.firstChild;r;r=r.nextSibling)s+=i(r);s+="</"+e.nodeName+">"}else s+="/>"}else 3===e.nodeType?s+=e.nodeValue:4===e.nodeType&&(s+="<![CDATA["+e.nodeValue+"]]>");return s},s=e.firstChild;s;s=s.nextSibling)t+=i(s);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();var t;for(t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1===t.nodeType?(this.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};!function(e){"use strict";e.fmatter={},e.extend(e.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),e.fn.fmatter=function(t,i,s,r,a){var n=i;s=e.extend({},e.jgrid.formatter,s);try{n=e.fn.fmatter[t].call(this,i,s,r,a)}catch(e){}return n},e.fmatter.util={NumberFormat:function(t,i){if(e.fmatter.isNumber(t)||(t*=1),e.fmatter.isNumber(t)){var s,r=t<0,a=String(t),n=i.decimalSeparator||".";if(e.fmatter.isNumber(i.decimalPlaces)){var o=i.decimalPlaces,l=Math.pow(10,o);if(a=String(Math.round(t*l)/l),s=a.lastIndexOf("."),o>0)for(s<0?(a+=n,s=a.length-1):"."!==n&&(a=a.replace(".",n));a.length-1-s<o;)a+="0"}if(i.thousandsSeparator){var d=i.thousandsSeparator;s=a.lastIndexOf(n),s=s>-1?s:a.length;var c,h=a.substring(s),u=-1;for(c=s;c>0;c--)u++,u%3==0&&c!==s&&(!r||c>1)&&(h=d+h),h=a.charAt(c-1)+h;a=h}return a=i.prefix?i.prefix+a:a,a=i.suffix?a+i.suffix:a}return t}},e.fn.fmatter.defaultFormat=function(t,i){return e.fmatter.isValue(t)&&""!==t?t:i.defaultValue||"&#160;"},e.fn.fmatter.email=function(t,i){return e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"</a>"},e.fn.fmatter.checkbox=function(t,i){var s,r=e.extend({},i.checkbox);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),s=!0===r.disabled?'disabled="disabled"':"",(e.fmatter.isEmpty(t)||void 0===t)&&(t=e.fn.fmatter.defaultFormat(t,r)),t=String(t),t=(t+"").toLowerCase(),'<input type="checkbox" '+(t.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+t+'" offval="no" '+s+"/>"},e.fn.fmatter.link=function(t,i){var s={target:i.target},r="";return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),s.target&&(r="target="+s.target),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):"<a "+r+' href="'+t+'">'+t+"</a>"},e.fn.fmatter.showlink=function(t,i){var s,r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},a="";return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),r.target&&(a="target="+r.target),s=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+i.rowId+r.addParam,e.fmatter.isString(t)||e.fmatter.isNumber(t)?"<a "+a+' href="'+s+'">'+t+"</a>":e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.integer=function(t,i){var s=e.extend({},i.integer);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.number=function(t,i){var s=e.extend({},i.number);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.currency=function(t,i){var s=e.extend({},i.currency);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.date=function(t,i,s,r){var a=e.extend({},i.date);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(a=e.extend({},a,i.colModel.formatoptions)),a.reformatAfterEdit||"edit"!==r?e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.jgrid.parseDate(a.srcformat,t,a.newformat,a):e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.select=function(t,i){t=String(t);var s,r,a=!1,n=[];if(void 0!==i.colModel.formatoptions?(a=i.colModel.formatoptions.value,s=void 0===i.colModel.formatoptions.separator?":":i.colModel.formatoptions.separator,r=void 0===i.colModel.formatoptions.delimiter?";":i.colModel.formatoptions.delimiter):void 0!==i.colModel.editoptions&&(a=i.colModel.editoptions.value,s=void 0===i.colModel.editoptions.separator?":":i.colModel.editoptions.separator,r=void 0===i.colModel.editoptions.delimiter?";":i.colModel.editoptions.delimiter),a){var o,l=!0==(null!=i.colModel.editoptions&&!0===i.colModel.editoptions.multiple),d=[];if(l&&(d=t.split(","),d=e.map(d,function(t){return e.trim(t)})),e.fmatter.isString(a)){var c,h=a.split(r),u=0;for(c=0;c<h.length;c++)if(o=h[c].split(s),o.length>2&&(o[1]=e.map(o,function(e,t){if(t>0)return e}).join(s)),l)e.inArray(o[0],d)>-1&&(n[u]=o[1],u++);else if(e.trim(o[0])===e.trim(t)){n[0]=o[1];break}}else e.fmatter.isObject(a)&&(l?n=e.map(d,function(e){return a[e]}):n[0]=a[t]||"")}return t=n.join(", "),""===t?e.fn.fmatter.defaultFormat(t,i):t},e.fn.fmatter.rowactions=function(t){var i=e(this).closest("tr.jqgrow"),s=i.attr("id"),r=e(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),a=e("#"+r),n=a[0],o=n.p,l=o.colModel[e.jgrid.getCellIndex(this)],d=l.frozen?e("tr#"+s+" td:eq("+e.jgrid.getCellIndex(this)+") > div",a):e(this).parent(),c={extraparam:{}},h=function(t,i){e.isFunction(c.afterSave)&&c.afterSave.call(n,t,i),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide()},u=function(t){e.isFunction(c.afterRestore)&&c.afterRestore.call(n,t),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==l.formatoptions&&(c=e.extend(c,l.formatoptions)),void 0!==o.editOptions&&(c.editOptions=o.editOptions),void 0!==o.delOptions&&(c.delOptions=o.delOptions),i.hasClass("jqgrid-new-row")&&(c.extraparam[o.prmNames.oper]=o.prmNames.addoper);var p={keys:c.keys,oneditfunc:c.onEdit,successfunc:c.onSuccess,url:c.url,extraparam:c.extraparam,aftersavefunc:h,errorfunc:c.onError,afterrestorefunc:u,restoreAfterError:c.restoreAfterError,mtype:c.mtype};switch(t){case"edit":a.jqGrid("editRow",s,p),d.find("div.ui-inline-edit,div.ui-inline-del").hide(),d.find("div.ui-inline-save,div.ui-inline-cancel").show(),a.triggerHandler("jqGridAfterGridComplete");break;case"save":a.jqGrid("saveRow",s,p)&&(d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":a.jqGrid("restoreRow",s,u),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete");break;case"del":a.jqGrid("delGridRow",s,c.delOptions);break;case"formedit":a.jqGrid("setSelection",s),a.jqGrid("editGridRow",s,c.editOptions)}},e.fn.fmatter.actions=function(t,i){var s,r={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},a=i.rowId,n="";return void 0!==i.colModel.formatoptions&&(r=e.extend(r,i.colModel.formatoptions)),void 0===a||e.fmatter.isEmpty(a)?"":(r.editformbutton?(s="id='jEditButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",n+="<div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+s+"><span class='ui-icon ui-icon-pencil'></span></div>"):r.editbutton&&(s="id='jEditButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",n+="<div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+s+"><span class='ui-icon ui-icon-pencil'></span></div>"),r.delbutton&&(s="id='jDeleteButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",n+="<div title='"+e.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+s+"><span class='ui-icon ui-icon-trash'></span></div>"),s="id='jSaveButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",n+="<div title='"+e.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+s+"><span class='ui-icon ui-icon-disk'></span></div>",s="id='jCancelButton_"+a+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ","<div style='margin-left:8px;'>"+(n+="<div title='"+e.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+s+"><span class='ui-icon ui-icon-cancel'></span></div>")+"</div>")},e.unformat=function(t,i,s,r){var a,n,o=i.colModel.formatter,l=i.colModel.formatoptions||{},d=/([\.\*\_\'\(\)\{\}\+\?\\])/g,c=i.colModel.unformat||e.fn.fmatter[o]&&e.fn.fmatter[o].unformat;if(void 0!==c&&e.isFunction(c))a=c.call(this,e(t).text(),i,t);else if(void 0!==o&&e.fmatter.isString(o)){var h,u=e.jgrid.formatter||{};switch(o){case"integer":l=e.extend({},u.integer,l),n=l.thousandsSeparator.replace(d,"\\$1"),h=new RegExp(n,"g"),a=e(t).text().replace(h,"");break;case"number":l=e.extend({},u.number,l),
n=l.thousandsSeparator.replace(d,"\\$1"),h=new RegExp(n,"g"),a=e(t).text().replace(h,"").replace(l.decimalSeparator,".");break;case"currency":l=e.extend({},u.currency,l),n=l.thousandsSeparator.replace(d,"\\$1"),h=new RegExp(n,"g"),a=e(t).text(),l.prefix&&l.prefix.length&&(a=a.substr(l.prefix.length)),l.suffix&&l.suffix.length&&(a=a.substr(0,a.length-l.suffix.length)),a=a.replace(h,"").replace(l.decimalSeparator,".");break;case"checkbox":var p=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];a=e("input",t).is(":checked")?p[0]:p[1];break;case"select":a=e.unformat.select(t,i,s,r);break;case"actions":return"";default:a=e(t).text()}}return void 0!==a?a:!0===r?e(t).text():e.jgrid.htmlDecode(e(t).html())},e.unformat.select=function(t,i,s,r){var a=[],n=e(t).text();if(!0===r)return n;var o=e.extend({},void 0!==i.colModel.formatoptions?i.colModel.formatoptions:i.colModel.editoptions),l=void 0===o.separator?":":o.separator,d=void 0===o.delimiter?";":o.delimiter;if(o.value){var c,h=o.value,u=!0===o.multiple,p=[];if(u&&(p=n.split(","),p=e.map(p,function(t){return e.trim(t)})),e.fmatter.isString(h)){var f,g=h.split(d),m=0;for(f=0;f<g.length;f++)if(c=g[f].split(l),c.length>2&&(c[1]=e.map(c,function(e,t){if(t>0)return e}).join(l)),u)e.inArray(c[1],p)>-1&&(a[m]=c[0],m++);else if(e.trim(c[1])===e.trim(n)){a[0]=c[0];break}}else(e.fmatter.isObject(h)||e.isArray(h))&&(u||(p[0]=n),a=e.map(p,function(t){var i;if(e.each(h,function(e,s){if(s===t)return i=e,!1}),void 0!==i)return i}));return a.join(", ")}return n||""},e.unformat.date=function(t,i){var s=e.jgrid.formatter.date||{};return void 0!==i.formatoptions&&(s=e.extend({},s,i.formatoptions)),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.jgrid.parseDate(s.newformat,t,s.srcformat,s)}}(jQuery),function(e){"use strict";e.extend(e.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(t,i){if(i=e.extend({jqm:!0,gb:""},i||{}),i.onClose){var s=i.gb&&"string"==typeof i.gb&&"#gbox_"===i.gb.substr(0,6)?i.onClose.call(e("#"+i.gb.substr(6))[0],t):i.onClose(t);if("boolean"==typeof s&&!s)return}if(e.fn.jqm&&!0===i.jqm)e(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{e(".jqgrid-overlay:first",i.gb).hide()}catch(e){}e(t).hide().attr("aria-hidden","true")}},findPos:function(e){var t=0,i=0;if(e.offsetParent)do{t+=e.offsetLeft,i+=e.offsetTop}while(e=e.offsetParent);return[t,i]},createModal:function(t,i,s,r,a,n,o){s=e.extend(!0,{},e.jgrid.jqModal||{},s);var l,d=document.createElement("div"),c=this;o=e.extend({},o||{}),l="rtl"===e(s.gbox).attr("dir"),d.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",d.id=t.themodal;var h=document.createElement("div");h.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",h.id=t.modalhead,e(h).append("<span class='ui-jqdialog-title'>"+s.caption+"</span>");var u=e("<a class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");e(h).append(u),l?(d.dir="rtl",e(".ui-jqdialog-title",h).css("float","right"),e(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(d.dir="ltr",e(".ui-jqdialog-title",h).css("float","left"),e(".ui-jqdialog-titlebar-close",h).css("right","0.3em"));var p=document.createElement("div");e(p).addClass("ui-jqdialog-content ui-widget-content").attr("id",t.modalcontent),e(p).append(i),d.appendChild(p),e(d).prepend(h),!0===n?e("body").append(d):"string"==typeof n?e(n).append(d):e(d).insertBefore(r),e(d).css(o),void 0===s.jqModal&&(s.jqModal=!0);var f={};if(e.fn.jqm&&!0===s.jqModal){if(0===s.left&&0===s.top&&s.overlay){var g=[];g=e.jgrid.findPos(a),s.left=g[0]+4,s.top=g[1]+4}f.top=s.top+"px",f.left=s.left}else 0===s.left&&0===s.top||(f.left=s.left,f.top=s.top+"px");if(e("a.ui-jqdialog-titlebar-close",h).click(function(){var i=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||s.onClose,r=e("#"+e.jgrid.jqID(t.themodal)).data("gbox")||s.gbox;return c.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:r,jqm:s.jqModal,onClose:i}),!1}),0!==s.width&&s.width||(s.width=300),0!==s.height&&s.height||(s.height=200),!s.zIndex){var m=e(r).parents("*[role=dialog]").filter(":first").css("z-index");s.zIndex=m?parseInt(m,10)+2:950}var v=0;if(l&&f.left&&!n&&(v=e(s.gbox).width()-(isNaN(s.width)?0:parseInt(s.width,10))-8,f.left=parseInt(f.left,10)+parseInt(v,10)),f.left&&(f.left+="px"),e(d).css(e.extend({width:isNaN(s.width)?"auto":s.width+"px",height:isNaN(s.height)?"auto":s.height+"px",zIndex:s.zIndex,overflow:"hidden"},f)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===s.drag&&(s.drag=!0),void 0===s.resize&&(s.resize=!0),s.drag)if(e(h).css("cursor","move"),e.fn.jqDrag)e(d).jqDrag(h);else try{e(d).draggable({handle:e("#"+e.jgrid.jqID(h.id))})}catch(e){}if(s.resize)if(e.fn.jqResize)e(d).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),e("#"+e.jgrid.jqID(t.themodal)).jqResize(".jqResize",!!t.scrollelm&&"#"+e.jgrid.jqID(t.scrollelm));else try{e(d).resizable({handles:"se, sw",alsoResize:!!t.scrollelm&&"#"+e.jgrid.jqID(t.scrollelm)})}catch(e){}!0===s.closeOnEscape&&e(d).keydown(function(i){if(27==i.which){var r=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||s.onClose;c.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:s.gbox,jqm:s.jqModal,onClose:r})}})},viewModal:function(t,i){if(i=e.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:e.jgrid.showModal,onHide:e.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),e.fn.jqm&&!0===i.jqm)i.jqM?e(t).attr("aria-hidden","false").jqm(i).jqmShow():e(t).attr("aria-hidden","false").jqmShow();else{""!==i.gbox&&(e(".jqgrid-overlay:first",i.gbox).show(),e(t).data("gbox",i.gbox)),e(t).show().attr("aria-hidden","false");try{e(":input:visible",t)[0].focus()}catch(e){}}},info_dialog:function(t,i,s,r){var a={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};e.extend(!0,a,e.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},r||{});var n=a.jqModal,o=this;e.fn.jqm&&!n&&(n=!1);var l,d="";if(a.buttons.length>0)for(l=0;l<a.buttons.length;l++)void 0===a.buttons[l].id&&(a.buttons[l].id="info_button_"+l),d+="<a id='"+a.buttons[l].id+"' class='fm-button ui-state-default ui-corner-all'>"+a.buttons[l].text+"</a>";var c=isNaN(a.dataheight)?a.dataheight:a.dataheight+"px",h="text-align:"+a.align+";",u="<div id='info_id'>";u+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+c+";"+h+"'>"+i+"</div>",u+=s?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+s+"</a>"+d+"</div>":""!==d?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+a.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+d+"</div>":"",u+="</div>";try{"false"===e("#info_dialog").attr("aria-hidden")&&e.jgrid.hideModal("#info_dialog",{jqm:n}),e("#info_dialog").remove()}catch(e){}e.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},u,a,"","",!0),d&&e.each(a.buttons,function(t){e("#"+e.jgrid.jqID(this.id),"#info_id").bind("click",function(){return a.buttons[t].onClick.call(e("#info_dialog")),!1})}),e("#closedialog","#info_id").click(function(){return o.hideModal("#info_dialog",{jqm:n,onClose:e("#info_dialog").data("onClose")||a.onClose,gb:e("#info_dialog").data("gbox")||a.gbox}),!1}),e(".fm-button","#info_dialog").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e.isFunction(a.beforeOpen)&&a.beforeOpen(),e.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:a.modal,jqm:n}),e.isFunction(a.afterOpen)&&a.afterOpen();try{e("#info_dialog").focus()}catch(e){}},bindEv:function(t,i){var s=this;e.isFunction(i.dataInit)&&i.dataInit.call(s,t,i),i.dataEvents&&e.each(i.dataEvents,function(){void 0!==this.data?e(t).bind(this.type,this.data,this.fn):e(t).bind(this.type,this.fn)})},createEl:function(t,i,s,r,a){function n(t,i,s){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];void 0!==s&&e.isArray(s)&&e.merge(r,s),e.each(i,function(i,s){-1===e.inArray(i,r)&&e(t).attr(i,s)}),i.hasOwnProperty("id")||e(t).attr("id",e.jgrid.randId())}var o="",l=this;switch(t){case"textarea":o=document.createElement("textarea"),r?i.cols||e(o).css({width:"98%"}):i.cols||(i.cols=20),i.rows||(i.rows=2),("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s=""),o.value=s,n(o,i),e(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(o=document.createElement("input"),o.type="checkbox",i.value){var d=i.value.split(":");s===d[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=d[0],e(o).attr("offval",d[1])}else{var c=(s+"").toLowerCase();c.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==c?(o.checked=!0,o.defaultChecked=!0,o.value=s):o.value="on",e(o).attr("offval","off")}n(o,i,["value"]),e(o).attr("role","checkbox");break;case"select":o=document.createElement("select"),o.setAttribute("role","select");var h,u=[];if(!0===i.multiple?(h=!0,o.multiple="multiple",e(o).attr("aria-multiselectable","true")):h=!1,void 0!==i.dataUrl){var p=null,f=i.postData||a.postData;try{p=i.rowId}catch(e){}l.p&&l.p.idPrefix&&(p=e.jgrid.stripPref(l.p.idPrefix,p)),e.ajax(e.extend({url:e.isFunction(i.dataUrl)?i.dataUrl.call(l,p,s,String(i.name)):i.dataUrl,type:"GET",dataType:"html",data:e.isFunction(f)?f.call(l,p,s,String(i.name)):f,context:{elem:o,options:i,vl:s},success:function(t){var i=[],s=this.elem,r=this.vl,a=e.extend({},this.options),o=!0===a.multiple,d=e.isFunction(a.buildSelect)?a.buildSelect.call(l,t):t;"string"==typeof d&&(d=e(e.trim(d)).html()),d&&(e(s).append(d),n(s,a,f?["postData"]:void 0),void 0===a.size&&(a.size=o?3:1),o?(i=r.split(","),i=e.map(i,function(t){return e.trim(t)})):i[0]=e.trim(r),setTimeout(function(){e("option",s).each(function(t){0===t&&s.multiple&&(this.selected=!1),e(this).attr("role","option"),(e.inArray(e.trim(e(this).text()),i)>-1||e.inArray(e.trim(e(this).val()),i)>-1)&&(this.selected="selected")})},0))}},a||{}))}else if(i.value){var g;void 0===i.size&&(i.size=h?3:1),h&&(u=s.split(","),u=e.map(u,function(t){return e.trim(t)})),"function"==typeof i.value&&(i.value=i.value());var m,v,b,w=void 0===i.separator?":":i.separator,_=void 0===i.delimiter?";":i.delimiter;if("string"==typeof i.value)for(m=i.value.split(_),g=0;g<m.length;g++)v=m[g].split(w),v.length>2&&(v[1]=e.map(v,function(e,t){if(t>0)return e}).join(w)),b=document.createElement("option"),b.setAttribute("role","option"),b.value=v[0],b.innerHTML=v[1],o.appendChild(b),h||e.trim(v[0])!==e.trim(s)&&e.trim(v[1])!==e.trim(s)||(b.selected="selected"),h&&(e.inArray(e.trim(v[1]),u)>-1||e.inArray(e.trim(v[0]),u)>-1)&&(b.selected="selected");else if("object"==typeof i.value){var y,j=i.value;for(y in j)j.hasOwnProperty(y)&&(b=document.createElement("option"),b.setAttribute("role","option"),b.value=y,b.innerHTML=j[y],o.appendChild(b),h||e.trim(y)!==e.trim(s)&&e.trim(j[y])!==e.trim(s)||(b.selected="selected"),h&&(e.inArray(e.trim(j[y]),u)>-1||e.inArray(e.trim(y),u)>-1)&&(b.selected="selected"))}n(o,i,["value"])}break;case"text":case"password":case"button":var x;x="button"===t?"button":"textbox",o=document.createElement("input"),o.type=t,o.value=s,n(o,i),"button"!==t&&(r?i.size||e(o).css({width:"98%"}):i.size||(i.size=20)),e(o).attr("role",x);break;case"image":case"file":o=document.createElement("input"),o.type=t,n(o,i);break;case"custom":o=document.createElement("span");try{if(!e.isFunction(i.custom_element))throw"e1";var D=i.custom_element.call(l,s,i);if(!D)throw"e2";D=e(D).addClass("customelement").attr({id:i.id,name:i.name}),e(o).empty().append(D)}catch(t){"e1"===t&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,"string"==typeof t?t:t.message,e.jgrid.edit.bClose)}}return o},checkDate:function(e,t){var i,s={};if(e=e.toLowerCase(),i=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),t=t.split(i),3!==t.length)return!1;var r,a,n=-1,o=-1,l=-1;for(a=0;a<e.length;a++){var d=isNaN(t[a])?0:parseInt(t[a],10);s[e[a]]=d,r=e[a],-1!==r.indexOf("y")&&(n=a),-1!==r.indexOf("m")&&(l=a),-1!==r.indexOf("d")&&(o=a)}r="y"===e[n]||"yyyy"===e[n]?4:"yy"===e[n]?2:-1;var c,h=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==n&&(c=s[e[n]].toString(),2===r&&1===c.length&&(r=1),c.length===r&&(0!==s[e[n]]||"00"===t[n])&&(-1!==l&&(c=s[e[l]].toString(),!(c.length<1||s[e[l]]<1||s[e[l]]>12)&&(-1!==o&&(c=s[e[o]].toString(),!(c.length<1||s[e[o]]<1||s[e[o]]>31||2===s[e[l]]&&s[e[o]]>function(e){return e%4!=0||e%100==0&&e%400!=0?28:29}(s[e[n]])||s[e[o]]>h[s[e[l]]]))))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(t){var i,s=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!e.jgrid.isEmpty(t)){if(!(i=t.match(s)))return!1;if(i[3]){if(i[1]<1||i[1]>12)return!1}else if(i[1]>23)return!1;if(i[2]>59)return!1}return!0},checkValues:function(t,i,s,r){var a,n,o,l,d,c=this,h=c.p.colModel;if(void 0===s)if("string"==typeof i){for(n=0,d=h.length;n<d;n++)if(h[n].name===i){a=h[n].editrules,i=n,null!=h[n].formoptions&&(o=h[n].formoptions.label);break}}else i>=0&&(a=h[i].editrules);else a=s,o=void 0===r?"_":r;if(a){if(o||(o=null!=c.p.colNames?c.p.colNames[i]:h[i].label),!0===a.required&&e.jgrid.isEmpty(t))return[!1,o+": "+e.jgrid.edit.msg.required,""];var u=!1!==a.required;if(!0===a.number&&(!1!==u||!e.jgrid.isEmpty(t))&&isNaN(t))return[!1,o+": "+e.jgrid.edit.msg.number,""];if(void 0!==a.minValue&&!isNaN(a.minValue)&&parseFloat(t)<parseFloat(a.minValue))return[!1,o+": "+e.jgrid.edit.msg.minValue+" "+a.minValue,""];if(void 0!==a.maxValue&&!isNaN(a.maxValue)&&parseFloat(t)>parseFloat(a.maxValue))return[!1,o+": "+e.jgrid.edit.msg.maxValue+" "+a.maxValue,""];var p;if(!0===a.email&&!(!1===u&&e.jgrid.isEmpty(t)||(p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,p.test(t))))return[!1,o+": "+e.jgrid.edit.msg.email,""];if(!0===a.integer&&(!1!==u||!e.jgrid.isEmpty(t))){if(isNaN(t))return[!1,o+": "+e.jgrid.edit.msg.integer,""];if(t%1!=0||-1!==t.indexOf("."))return[!1,o+": "+e.jgrid.edit.msg.integer,""]}if(!0===a.date&&!(!1===u&&e.jgrid.isEmpty(t)||(h[i].formatoptions&&h[i].formatoptions.newformat?(l=h[i].formatoptions.newformat,e.jgrid.formatter.date.masks.hasOwnProperty(l)&&(l=e.jgrid.formatter.date.masks[l])):l=h[i].datefmt||"Y-m-d",e.jgrid.checkDate(l,t))))return[!1,o+": "+e.jgrid.edit.msg.date+" - "+l,""];if(!0===a.time&&!(!1===u&&e.jgrid.isEmpty(t)||e.jgrid.checkTime(t)))return[!1,o+": "+e.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!0===a.url&&!(!1===u&&e.jgrid.isEmpty(t)||(p=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,p.test(t))))return[!1,o+": "+e.jgrid.edit.msg.url,""];if(!0===a.custom&&(!1!==u||!e.jgrid.isEmpty(t))){if(e.isFunction(a.custom_func)){var f=a.custom_func.call(c,t,o,i);return e.isArray(f)?f:[!1,e.jgrid.edit.msg.customarray,""]}return[!1,e.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}})}(jQuery),function(e){"use strict";e.fn.jqFilter=function(t){if("string"==typeof t){var i=e.fn.jqFilter[t];if(!i)throw"jqFilter - No such method: "+t;var s=e.makeArray(arguments).slice(1);return i.apply(this,s)}var r=e.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},e.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=r,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]});var t,i,s=this.p.columns.length,a=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=e.extend(!0,{},this.p.filter),s){for(t=0;t<s;t++)i=this.p.columns[t],i.stype?i.inputtype=i.stype:i.inputtype||(i.inputtype="text"),i.sorttype?i.searchtype=i.sorttype:i.searchtype||(i.searchtype="string"),void 0===i.hidden&&(i.hidden=!1),i.label||(i.label=i.name),i.index&&(i.name=i.index),i.hasOwnProperty("searchoptions")||(i.searchoptions={}),i.hasOwnProperty("searchrules")||(i.searchrules={});this.p.showQuery&&e(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var n=function(){return e("#"+e.jgrid.jqID(r.id))[0]||null},o=function(t,i){var s=[!0,""],a=n();if(e.isFunction(i.searchrules))s=i.searchrules.call(a,t,i);else if(e.jgrid&&e.jgrid.checkValues)try{s=e.jgrid.checkValues.call(a,t,-1,i.searchrules,i.label)}catch(e){}s&&s.length&&!1===s[0]&&(r.error=!s[0],r.errmsg=s[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!e.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){e("table.group:first",this).remove();var t=this.createTableForGroup(r.filter,null);e(this).append(t),e.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,i){var s,a=this,n=e("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"===this.p.direction&&(o="right",n.attr("dir","rtl")),null===i&&n.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+o+"'></th></tr>");var l=e("<tr></tr>");n.append(l);var d=e("<th colspan='5' align='"+o+"'></th>");if(l.append(d),!0===this.p.ruleButtons){var c=e("<select class='opsel'></select>");d.append(c);var h,u="";for(s=0;s<r.groupOps.length;s++)h=t.groupOp===a.p.groupOps[s].op?" selected='selected'":"",u+="<option value='"+a.p.groupOps[s].op+"'"+h+">"+a.p.groupOps[s].text+"</option>";c.append(u).bind("change",function(){t.groupOp=e(c).val(),a.onchange()})}var p="<span></span>";if(this.p.groupButton&&(p=e("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),p.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),a.reDraw(),a.onchange(),!1})),d.append(p),!0===this.p.ruleButtons){var f,g=e("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>");g.bind("click",function(){for(void 0===t.rules&&(t.rules=[]),s=0;s<a.p.columns.length;s++){var i=void 0===a.p.columns[s].search||a.p.columns[s].search,r=!0===a.p.columns[s].hidden;if(!0===a.p.columns[s].searchoptions.searchhidden&&i||i&&!r){f=a.p.columns[s];break}}var n;return n=f.searchoptions.sopt?f.searchoptions.sopt:a.p.sopt?a.p.sopt:-1!==e.inArray(f.searchtype,a.p.strarr)?a.p.stropts:a.p.numopts,t.rules.push({field:f.name,op:n[0],data:""}),a.reDraw(),!1}),d.append(g)}if(null!==i){var m=e("<input type='button' value='-' title='Delete group' class='delete-group'/>");d.append(m),m.bind("click",function(){for(s=0;s<i.groups.length;s++)if(i.groups[s]===t){i.groups.splice(s,1);break}return a.reDraw(),a.onchange(),!1})}if(void 0!==t.groups)for(s=0;s<t.groups.length;s++){var v=e("<tr></tr>");n.append(v);var b=e("<td class='first'></td>");v.append(b);var w=e("<td colspan='4'></td>");w.append(this.createTableForGroup(t.groups[s],t)),v.append(w)}if(void 0===t.groupOp&&(t.groupOp=a.p.groupOps[0].op),void 0!==t.rules)for(s=0;s<t.rules.length;s++)n.append(this.createTableRowForRule(t.rules[s],t));return n},this.createTableRowForRule=function(t,i){var s,o,l,d,c,h=this,u=n(),p=e("<tr></tr>"),f="";p.append("<td class='first'></td>");var g=e("<td class='columns'></td>");p.append(g);var m,v=e("<select></select>"),b=[];g.append(v),v.bind("change",function(){for(t.field=e(v).val(),l=e(this).parents("tr:first"),s=0;s<h.p.columns.length;s++)if(h.p.columns[s].name===t.field){d=h.p.columns[s];break}if(d){d.searchoptions.id=e.jgrid.randId(),a&&"text"===d.inputtype&&(d.searchoptions.size||(d.searchoptions.size=10));var i=e.jgrid.createEl.call(u,d.inputtype,d.searchoptions,"",!0,h.p.ajaxSelectOptions||{},!0);e(i).addClass("input-elm"),o=d.searchoptions.sopt?d.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==e.inArray(d.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts;var r="",n=0;for(b=[],e.each(h.p.ops,function(){b.push(this.oper)}),s=0;s<o.length;s++)-1!==(m=e.inArray(o[s],b))&&(0===n&&(t.op=h.p.ops[m].oper),r+="<option value='"+h.p.ops[m].oper+"'>"+h.p.ops[m].text+"</option>",n++);if(e(".selectopts",l).empty().append(r),e(".selectopts",l)[0].selectedIndex=0,e.jgrid.msie&&e.jgrid.msiever()<9){var c=parseInt(e("select.selectopts",l)[0].offsetWidth,10)+1;e(".selectopts",l).width(c),e(".selectopts",l).css("width","auto")}e(".data",l).empty().append(i),e.jgrid.bindEv.call(u,i,d.searchoptions),e(".input-elm",l).bind("change",function(i){var s=i.target;t.data="SPAN"===s.nodeName.toUpperCase()&&d.searchoptions&&e.isFunction(d.searchoptions.custom_value)?d.searchoptions.custom_value.call(u,e(s).children(".customelement:first"),"get"):s.value,h.onchange()}),setTimeout(function(){t.data=e(i).val(),h.onchange()},0)}});var w=0;for(s=0;s<h.p.columns.length;s++){var _=void 0===h.p.columns[s].search||h.p.columns[s].search,y=!0===h.p.columns[s].hidden;(!0===h.p.columns[s].searchoptions.searchhidden&&_||_&&!y)&&(c="",t.field===h.p.columns[s].name&&(c=" selected='selected'",w=s),f+="<option value='"+h.p.columns[s].name+"'"+c+">"+h.p.columns[s].label+"</option>")}v.append(f);var j=e("<td class='operators'></td>");p.append(j),d=r.columns[w],d.searchoptions.id=e.jgrid.randId(),a&&"text"===d.inputtype&&(d.searchoptions.size||(d.searchoptions.size=10));var x=e.jgrid.createEl.call(u,d.inputtype,d.searchoptions,t.data,!0,h.p.ajaxSelectOptions||{},!0);"nu"!==t.op&&"nn"!==t.op||(e(x).attr("readonly","true"),e(x).attr("disabled","true"));var D=e("<select class='selectopts'></select>");for(j.append(D),D.bind("change",function(){t.op=e(D).val(),l=e(this).parents("tr:first");var i=e(".input-elm",l)[0];"nu"===t.op||"nn"===t.op?(t.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(t.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),h.onchange()}),o=d.searchoptions.sopt?d.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==e.inArray(d.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts,f="",e.each(h.p.ops,function(){b.push(this.oper)}),s=0;s<o.length;s++)-1!==(m=e.inArray(o[s],b))&&(c=t.op===h.p.ops[m].oper?" selected='selected'":"",f+="<option value='"+h.p.ops[m].oper+"'"+c+">"+h.p.ops[m].text+"</option>");D.append(f);var C=e("<td class='data'></td>");p.append(C),C.append(x),e.jgrid.bindEv.call(u,x,d.searchoptions),e(x).addClass("input-elm").bind("change",function(){t.data="custom"===d.inputtype?d.searchoptions.custom_value.call(u,e(this).children(".customelement:first"),"get"):e(this).val(),h.onchange()});var k=e("<td></td>");if(p.append(k),!0===this.p.ruleButtons){var q=e("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>");k.append(q),q.bind("click",function(){for(s=0;s<i.rules.length;s++)if(i.rules[s]===t){i.rules.splice(s,1);break}return h.reDraw(),h.onchange(),!1})}return p},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){alert(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){alert(e)}return i+=")","()"===i?"":i},this.getStringForRule=function(t){var i,s,a,n="",l="",d=["int","integer","float","number","currency"];for(i=0;i<this.p.ops.length;i++)if(this.p.ops[i].oper===t.op){n=this.p.operands.hasOwnProperty(t.op)?this.p.operands[t.op]:"",l=this.p.ops[i].oper;break}for(i=0;i<this.p.columns.length;i++)if(this.p.columns[i].name===t.field){s=this.p.columns[i];break}return void 0==s?"":(a=t.data,"bw"!==l&&"bn"!==l||(a+="%"),"ew"!==l&&"en"!==l||(a="%"+a),"cn"!==l&&"nc"!==l||(a="%"+a+"%"),"in"!==l&&"ni"!==l||(a=" ("+a+")"),r.errorcheck&&o(t.data,s),-1!==e.inArray(s.searchtype,d)||"nn"===l||"nu"===l?t.field+" "+n+" "+a:t.field+" "+n+' "'+a+'"')},this.resetFilter=function(){this.p.filter=e.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){e("th.ui-state-error",this).html(""),e("tr.error",this).hide()},this.showError=function(){e("th.ui-state-error",this).html(this.p.errmsg),e("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,s;for(t=0;t<i.p.columns.length;t++)if(i.p.columns[t].name===e.field){s=i.p.columns[t];break}s&&o(e.data,s)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var s,r="(";if(void 0!==i.groups)for(s=0;s<i.groups.length;s++)r.length>1&&("OR"===i.groupOp?r+=" || ":r+=" && "),r+=t(i.groups[s]);if(void 0!==i.rules)for(s=0;s<i.rules.length;s++)r.length>1&&("OR"===i.groupOp?r+=" || ":r+=" && "),r+=e(i.rules[s]);return r+=")","()"===r?"":r}var i=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},e.extend(e.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=e.jgrid.parse(t)),this.each(function(){this.p.filter=t,this.reDraw(),this.onchange()})}})}(jQuery),function(e){"use strict";var t={};e.jgrid.extend({searchGrid:function(t){return t=e.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},e.jgrid.search,t||{}),this.each(function(){function i(i){n=e(s).triggerHandler("jqGridFilterBeforeShow",[i]),void 0===n&&(n=!0),n&&e.isFunction(t.beforeShowSearch)&&(n=t.beforeShowSearch.call(s,i)),n&&(e.jgrid.viewModal("#"+e.jgrid.jqID(l.themodal),{gbox:"#gbox_"+e.jgrid.jqID(a),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),e(s).triggerHandler("jqGridFilterAfterShow",[i]),e.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(s,i))}var s=this;if(s.grid){var r,a="fbox_"+s.p.id,n=!0,o=!0,l={themodal:"searchmod"+a,modalhead:"searchhd"+a,modalcontent:"searchcnt"+a,scrollelm:a},d=s.p.postData[t.sFilter];if("string"==typeof d&&(d=e.jgrid.parse(d)),!0===t.recreateFilter&&e("#"+e.jgrid.jqID(l.themodal)).remove(),void 0!==e("#"+e.jgrid.jqID(l.themodal))[0])i(e("#fbox_"+e.jgrid.jqID(+s.p.id)));else{var c=e("<div><div id='"+a+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+e.jgrid.jqID(s.p.id)),h="left",u="";"rtl"===s.p.direction&&(h="right",u=" style='text-align:left'",c.attr("dir","rtl"));var p,f,g=e.extend([],s.p.colModel),m="<a id='"+a+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+t.Find+"</a>",v="<a id='"+a+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+t.Reset+"</a>",b="",w="",_=!1,y=-1;if(t.showQuery&&(b="<a id='"+a+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>"),t.columns.length?(g=t.columns,y=0,p=g[0].index||g[0].name):e.each(g,function(e,t){if(t.label||(t.label=s.p.colNames[e]),!_){var i=void 0===t.search||t.search,r=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!r)&&(_=!0,p=t.index||t.name,y=e)}}),!d&&p||!1===t.multipleSearch){var j="eq";y>=0&&g[y].searchoptions&&g[y].searchoptions.sopt?j=g[y].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(j=t.sopt[0]),d={groupOp:"AND",rules:[{field:p,op:j,data:""}]}}_=!1,t.tmplNames&&t.tmplNames.length&&(_=!0,w=t.tmplLabel,w+="<select class='ui-template'>",w+="<option value='default'>Default</option>",e.each(t.tmplNames,function(e,t){w+="<option value='"+e+"'>"+t+"</option>"}),w+="</select>"),f="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+a+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+h+"'>"+v+w+"</td><td class='EditButton' "+u+">"+b+m+"</td></tr></tbody></table>",a=e.jgrid.jqID(a),e("#"+a).jqFilter({columns:g,filter:t.loadDefaults?d:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,ops:t.odata,operands:t.operands,ajaxSelectOptions:s.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&e(".query",this).html(this.toUserFriendlyString()),e.isFunction(t.afterChange)&&t.afterChange.call(s,e("#"+a),t)},direction:s.p.direction,id:s.p.id}),c.append(f),_&&t.tmplFilters&&t.tmplFilters.length&&e(".ui-template",c).bind("change",function(){var i=e(this).val();return"default"===i?e("#"+a).jqFilter("addFilter",d):e("#"+a).jqFilter("addFilter",t.tmplFilters[parseInt(i,10)]),!1}),!0===t.multipleGroup&&(t.multipleSearch=!0),e(s).triggerHandler("jqGridFilterInitialize",[e("#"+a)]),e.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(s,e("#"+a)),t.gbox="#gbox_"+a,t.layer?e.jgrid.createModal(l,c,t,"#gview_"+e.jgrid.jqID(s.p.id),e("#gbox_"+e.jgrid.jqID(s.p.id))[0],"#"+e.jgrid.jqID(t.layer),{position:"relative"
}):e.jgrid.createModal(l,c,t,"#gview_"+e.jgrid.jqID(s.p.id),e("#gbox_"+e.jgrid.jqID(s.p.id))[0]),(t.searchOnEnter||t.closeOnEscape)&&e("#"+e.jgrid.jqID(l.themodal)).keydown(function(i){var s=e(i.target);return!t.searchOnEnter||13!==i.which||s.hasClass("add-group")||s.hasClass("add-rule")||s.hasClass("delete-group")||s.hasClass("delete-rule")||s.hasClass("fm-button")&&s.is("[id$=_query]")?t.closeOnEscape&&27===i.which?(e("#"+e.jgrid.jqID(l.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(e("#"+a+"_search").click(),!1)}),b&&e("#"+a+"_query").bind("click",function(){return e(".queryresult",c).toggle(),!1}),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),e("#"+a+"_search").bind("click",function(){var i,n,d={};if(r=e("#"+a),r.find(".input-elm:focus").change(),n=r.jqFilter("filterData"),t.errorcheck&&(r[0].hideError(),t.showQuery||r.jqFilter("toSQLString"),r[0].p.error))return r[0].showError(),!1;if(t.stringResult){try{i=xmlJsonClass.toJson(n,"","",!1)}catch(e){try{i=JSON.stringify(n)}catch(e){}}"string"==typeof i&&(d[t.sFilter]=i,e.each([t.sField,t.sValue,t.sOper],function(){d[this]=""}))}else t.multipleSearch?(d[t.sFilter]=n,e.each([t.sField,t.sValue,t.sOper],function(){d[this]=""})):(d[t.sField]=n.rules[0].field,d[t.sValue]=n.rules[0].data,d[t.sOper]=n.rules[0].op,d[t.sFilter]="");return s.p.search=!0,e.extend(s.p.postData,d),o=e(s).triggerHandler("jqGridFilterSearch"),void 0===o&&(o=!0),o&&e.isFunction(t.onSearch)&&(o=t.onSearch.call(s,s.p.filters)),!1!==o&&e(s).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&e.jgrid.hideModal("#"+e.jgrid.jqID(l.themodal),{gb:"#gbox_"+e.jgrid.jqID(s.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),e("#"+a+"_reset").bind("click",function(){var i={},r=e("#"+a);return s.p.search=!1,s.p.resetsearch=!0,!1===t.multipleSearch?i[t.sField]=i[t.sValue]=i[t.sOper]="":i[t.sFilter]="",r[0].resetFilter(),_&&e(".ui-template",c).val("default"),e.extend(s.p.postData,i),o=e(s).triggerHandler("jqGridFilterReset"),void 0===o&&(o=!0),o&&e.isFunction(t.onReset)&&(o=t.onReset.call(s)),!1!==o&&e(s).trigger("reloadGrid",[{page:1}]),t.closeAfterReset&&e.jgrid.hideModal("#"+e.jgrid.jqID(l.themodal),{gb:"#gbox_"+e.jgrid.jqID(s.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),i(e("#"+a)),e(".fm-button:not(.ui-state-disabled)",c).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},editGridRow:function(i,s){return s=e.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:"ui-widget-overlay"},e.jgrid.edit,s||{}),t[e(this)[0].p.id]=s,this.each(function(){function r(){return e(w+" > tbody > tr > td > .FormElement").each(function(){var t=e(".customelement",this);if(t.length){var i=t[0],s=e(i).attr("name");e.each(u.p.colModel,function(){if(this.name===s&&this.editoptions&&e.isFunction(this.editoptions.custom_value)){try{if(p[s]=this.editoptions.custom_value.call(u,e("#"+e.jgrid.jqID(s),w),"get"),void 0===p[s])throw"e1"}catch(t){"e1"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,t.message,e.jgrid.edit.bClose)}return!0}})}else{switch(e(this).get(0).type){case"checkbox":if(e(this).is(":checked"))p[this.name]=e(this).val();else{var r=e(this).attr("offval");p[this.name]=r}break;case"select-one":p[this.name]=e("option:selected",this).val();break;case"select-multiple":p[this.name]=e(this).val(),p[this.name]?p[this.name]=p[this.name].join(","):p[this.name]="";var a=[];e("option:selected",this).each(function(t,i){a[t]=e(i).text()});break;case"password":case"text":case"textarea":case"button":p[this.name]=e(this).val()}u.p.autoencode&&(p[this.name]=e.jgrid.htmlEncode(p[this.name]))}}),!0}function a(i,s,r){var a,n,o,l,d,c,h=0;(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData={},t[u.p.id]._savedData[s.p.id+"_id"]=i);var p=s.p.colModel;if("_empty"===i)return e(p).each(function(){a=this.name,l=e.extend({},this.editoptions||{}),(o=e("#"+e.jgrid.jqID(a),"#"+r))&&o.length&&null!==o[0]&&(d="","custom"===this.edittype&&e.isFunction(l.custom_value)?l.custom_value.call(u,e("#"+a,"#"+r),"set",d):l.defaultValue?(d=e.isFunction(l.defaultValue)?l.defaultValue.call(u):l.defaultValue,"checkbox"===o[0].type?(c=d.toLowerCase(),c.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==c?(o[0].checked=!0,o[0].defaultChecked=!0,o[0].value=d):(o[0].checked=!1,o[0].defaultChecked=!1)):o.val(d)):"checkbox"===o[0].type?(o[0].checked=!1,o[0].defaultChecked=!1,d=e(o).attr("offval")):o[0].type&&"select"===o[0].type.substr(0,6)?o[0].selectedIndex=0:o.val(d),(!0===t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[a]=d))}),void e("#id_g","#"+r).val(i);var f=e(s).jqGrid("getInd",i,!0);f&&(e('td[role="gridcell"]',f).each(function(o){if("cb"!==(a=p[o].name)&&"subgrid"!==a&&"rn"!==a&&!0===p[o].editable){if(a===s.p.ExpandColumn&&!0===s.p.treeGrid)n=e(this).text();else try{n=e.unformat.call(s,e(this),{rowId:i,colModel:p[o]},o)}catch(t){n="textarea"===p[o].edittype?e(this).text():e(this).html()}switch(u.p.autoencode&&(n=e.jgrid.htmlDecode(n)),(!0===t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[a]=n),a=e.jgrid.jqID(a),p[o].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),e("#"+a,"#"+r).val(n);break;case"select":var l=n.split(",");l=e.map(l,function(t){return e.trim(t)}),e("#"+a+" option","#"+r).each(function(){p[o].editoptions.multiple||e.trim(n)!==e.trim(e(this).text())&&l[0]!==e.trim(e(this).text())&&l[0]!==e.trim(e(this).val())?p[o].editoptions.multiple&&(e.inArray(e.trim(e(this).text()),l)>-1||e.inArray(e.trim(e(this).val()),l)>-1)?this.selected=!0:this.selected=!1:this.selected=!0});break;case"checkbox":if(n=String(n),p[o].editoptions&&p[o].editoptions.value){p[o].editoptions.value.split(":")[0]===n?e("#"+a,"#"+r)[u.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):e("#"+a,"#"+r)[u.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1})}else n=n.toLowerCase(),n.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==n?(e("#"+a,"#"+r)[u.p.useProp?"prop":"attr"]("checked",!0),e("#"+a,"#"+r)[u.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+a,"#"+r)[u.p.useProp?"prop":"attr"]("checked",!1),e("#"+a,"#"+r)[u.p.useProp?"prop":"attr"]("defaultChecked",!1));break;case"custom":try{if(!p[o].editoptions||!e.isFunction(p[o].editoptions.custom_value))throw"e1";p[o].editoptions.custom_value.call(u,e("#"+a,"#"+r),"set",n)}catch(t){"e1"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,t.message,e.jgrid.edit.bClose)}}h++}}),h>0&&e("#id_g",w).val(i))}function n(){e.each(u.p.colModel,function(e,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&p.hasOwnProperty(t.name)&&""===p[t.name]&&(p[t.name]="null")})}function o(){var i,r,o,l,d,c,h=[!0,"",""],f={},b=u.p.prmNames,y=e(u).triggerHandler("jqGridAddEditBeforeCheckValues",[e("#"+v),g]);y&&"object"==typeof y&&(p=y),e.isFunction(t[u.p.id].beforeCheckValues)&&(y=t[u.p.id].beforeCheckValues.call(u,p,e("#"+v),g))&&"object"==typeof y&&(p=y);for(l in p)if(p.hasOwnProperty(l)&&(h=e.jgrid.checkValues.call(u,p[l],l),!1===h[0]))break;if(n(),h[0]&&(f=e(u).triggerHandler("jqGridAddEditClickSubmit",[t[u.p.id],p,g]),void 0===f&&e.isFunction(t[u.p.id].onclickSubmit)&&(f=t[u.p.id].onclickSubmit.call(u,t[u.p.id],p,g)||{}),h=e(u).triggerHandler("jqGridAddEditBeforeSubmit",[p,e("#"+v),g]),void 0===h&&(h=[!0,"",""]),h[0]&&e.isFunction(t[u.p.id].beforeSubmit)&&(h=t[u.p.id].beforeSubmit.call(u,p,e("#"+v),g))),h[0]&&!t[u.p.id].processing){if(t[u.p.id].processing=!0,e("#sData",w+"_2").addClass("ui-state-active"),o=b.oper,r=b.id,p[o]="_empty"===e.trim(p[u.p.id+"_id"])?b.addoper:b.editoper,p[o]!==b.addoper?p[r]=p[u.p.id+"_id"]:void 0===p[r]&&(p[r]=p[u.p.id+"_id"]),delete p[u.p.id+"_id"],p=e.extend(p,t[u.p.id].editData,f),!0===u.p.treeGrid){if(p[o]===b.addoper){d=e(u).jqGrid("getGridParam","selrow");var j="adjacency"===u.p.treeGridModel?u.p.treeReader.parent_id_field:"parent_id";p[j]=d}for(c in u.p.treeReader)if(u.p.treeReader.hasOwnProperty(c)){var x=u.p.treeReader[c];if(p.hasOwnProperty(x)){if(p[o]===b.addoper&&"parent_id_field"===c)continue;delete p[x]}}}p[r]=e.jgrid.stripPref(u.p.idPrefix,p[r]);var D=e.extend({url:t[u.p.id].url||e(u).jqGrid("getGridParam","editurl"),type:t[u.p.id].mtype,data:e.isFunction(t[u.p.id].serializeEditData)?t[u.p.id].serializeEditData.call(u,p):p,complete:function(n,l){var c;if(p[r]=u.p.idPrefix+p[r],n.status>=300&&304!==n.status?(h[0]=!1,h[1]=e(u).triggerHandler("jqGridAddEditErrorTextFormat",[n,g]),e.isFunction(t[u.p.id].errorTextFormat)?h[1]=t[u.p.id].errorTextFormat.call(u,n,g):h[1]=l+" Status: '"+n.statusText+"'. Error code: "+n.status):(h=e(u).triggerHandler("jqGridAddEditAfterSubmit",[n,p,g]),void 0===h&&(h=[!0,"",""]),h[0]&&e.isFunction(t[u.p.id].afterSubmit)&&(h=t[u.p.id].afterSubmit.call(u,n,p,g))),!1===h[0])e("#FormError>td",w).html(h[1]),e("#FormError",w).show();else if(u.p.autoencode&&e.each(p,function(t,i){p[t]=e.jgrid.htmlDecode(i)}),p[o]===b.addoper?(h[2]||(h[2]=e.jgrid.randId()),p[r]=h[2],t[u.p.id].reloadAfterSubmit?e(u).trigger("reloadGrid"):!0===u.p.treeGrid?e(u).jqGrid("addChildNode",h[2],d,p):e(u).jqGrid("addRowData",h[2],p,s.addedrow),t[u.p.id].closeAfterAdd?(!0!==u.p.treeGrid&&e(u).jqGrid("setSelection",h[2]),e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose})):t[u.p.id].clearAfterAdd&&a("_empty",u,v)):(t[u.p.id].reloadAfterSubmit?(e(u).trigger("reloadGrid"),t[u.p.id].closeAfterEdit||setTimeout(function(){e(u).jqGrid("setSelection",p[r])},1e3)):!0===u.p.treeGrid?e(u).jqGrid("setTreeRow",p[r],p):e(u).jqGrid("setRowData",p[r],p),t[u.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose})),e.isFunction(t[u.p.id].afterComplete)&&(i=n,setTimeout(function(){e(u).triggerHandler("jqGridAddEditAfterComplete",[i,p,e("#"+v),g]),t[u.p.id].afterComplete.call(u,i,p,e("#"+v),g),i=null},500)),(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(e("#"+v).data("disabled",!1),"_empty"!==t[u.p.id]._savedData[u.p.id+"_id"]))for(c in t[u.p.id]._savedData)t[u.p.id]._savedData.hasOwnProperty(c)&&p[c]&&(t[u.p.id]._savedData[c]=p[c]);t[u.p.id].processing=!1,e("#sData",w+"_2").removeClass("ui-state-active");try{e(":input:visible","#"+v)[0].focus()}catch(e){}}},e.jgrid.ajaxOptions,t[u.p.id].ajaxEditOptions);if(D.url||t[u.p.id].useDataProxy||(e.isFunction(u.p.dataProxy)?t[u.p.id].useDataProxy=!0:(h[0]=!1,h[1]+=" "+e.jgrid.errors.nourl)),h[0])if(t[u.p.id].useDataProxy){var C=u.p.dataProxy.call(u,D,"set_"+u.p.id);void 0===C&&(C=[!0,""]),!1===C[0]?(h[0]=!1,h[1]=C[1]||"Error deleting the selected row!"):(D.data.oper===b.addoper&&t[u.p.id].closeAfterAdd&&e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose}),D.data.oper===b.editoper&&t[u.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose}))}else"clientArray"===D.url?(p=D.data,D.complete({status:200,statusText:""},"")):e.ajax(D)}!1===h[0]&&(e("#FormError>td",w).html(h[1]),e("#FormError",w).show())}function l(e,t){var i,s=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){s=!0;break}return s}function d(){var i=!0;return e("#FormError",w).hide(),t[u.p.id].checkOnUpdate&&(p={},r(),(f=l(p,t[u.p.id]._savedData))&&(e("#"+v).data("disabled",!0),e(".confirm","#"+_.themodal).show(),i=!1)),i}function c(t,i){var s=i[1].length-1;0===t?e("#pData",w+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",w+"_2").addClass("ui-state-disabled"):e("#pData",w+"_2").removeClass("ui-state-disabled"),t===s?e("#nData",w+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",w+"_2").addClass("ui-state-disabled"):e("#nData",w+"_2").removeClass("ui-state-disabled")}function h(){var t=e(u).jqGrid("getDataIDs"),i=e("#id_g",w).val();return[e.inArray(i,t),t]}var u=this;if(u.grid&&i){var p,f,g,m=u.p.id,v="FrmGrid_"+m,b="TblGrid_"+m,w="#"+e.jgrid.jqID(b),_={themodal:"editmod"+m,modalhead:"edithd"+m,modalcontent:"editcnt"+m,scrollelm:v},y=!!e.isFunction(t[u.p.id].beforeShowForm)&&t[u.p.id].beforeShowForm,j=!!e.isFunction(t[u.p.id].afterShowForm)&&t[u.p.id].afterShowForm,x=!!e.isFunction(t[u.p.id].beforeInitData)&&t[u.p.id].beforeInitData,D=!!e.isFunction(t[u.p.id].onInitializeForm)&&t[u.p.id].onInitializeForm,C=!0,k=1,q=0;v=e.jgrid.jqID(v),"new"===i?(i="_empty",g="add",s.caption=t[u.p.id].addCaption):(s.caption=t[u.p.id].editCaption,g="edit"),s.recreateForm||e(u).data("formProp")&&e.extend(t[e(this)[0].p.id],e(u).data("formProp"));var $=!0;s.checkOnUpdate&&s.jqModal&&!s.modal&&($=!1);var I=isNaN(t[e(this)[0].p.id].dataheight)?t[e(this)[0].p.id].dataheight:t[e(this)[0].p.id].dataheight+"px",S=isNaN(t[e(this)[0].p.id].datawidth)?t[e(this)[0].p.id].datawidth:t[e(this)[0].p.id].datawidth+"px",M=e("<form name='FormPost' id='"+v+"' class='FormGrid' onSubmit='return false;' style='width:"+S+";overflow:auto;position:relative;height:"+I+";'></form>").data("disabled",!1),P=e("<table id='"+b+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>");e(u.p.colModel).each(function(){var e=this.formoptions;k=Math.max(k,e?e.colpos||0:0),q=Math.max(q,e?e.rowpos||0:0)}),e(M).append(P);var F=e("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*k+"'></td></tr>");if(F[0].rp=0,e(P).append(F),F=e("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*k+"'>"+t[u.p.id].topinfo+"</td></tr>"),F[0].rp=0,e(P).append(F),C=e(u).triggerHandler("jqGridAddEditBeforeInitData",[M,g]),void 0===C&&(C=!0),C&&x&&(C=x.call(u,M,g)),!1!==C){!function(){var t;if("_empty"!==i&&void 0!==u.p.savedRow&&u.p.savedRow.length>0&&e.isFunction(e.fn.jqGrid.restoreRow))for(t=0;t<u.p.savedRow.length;t++)if(u.p.savedRow[t].id==i){e(u).jqGrid("restoreRow",i);break}}();var T="rtl"===u.p.direction,G=T?"nData":"pData",N=T?"pData":"nData";!function(i,s,r,a){var n,o,l,d,c,h,p,f=0,g=[],m=!1,b="";for(p=1;p<=a;p++)b+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";if("_empty"!==i&&(m=e(s).jqGrid("getInd",i)),e(s.p.colModel).each(function(p){if(n=this.name,o=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,c=o?"style='display:none'":"","cb"!==n&&"subgrid"!==n&&!0===this.editable&&"rn"!==n){if(!1===m)d="";else if(n===s.p.ExpandColumn&&!0===s.p.treeGrid)d=e("td[role='gridcell']:eq("+p+")",s.rows[m]).text();else{try{d=e.unformat.call(s,e("td[role='gridcell']:eq("+p+")",s.rows[m]),{rowId:i,colModel:this},p)}catch(t){d=this.edittype&&"textarea"===this.edittype?e("td[role='gridcell']:eq("+p+")",s.rows[m]).text():e("td[role='gridcell']:eq("+p+")",s.rows[m]).html()}(!d||"&nbsp;"===d||"&#160;"===d||1===d.length&&160===d.charCodeAt(0))&&(d="")}var w=e.extend({},this.editoptions||{},{id:n,name:n,rowId:i}),_=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),y=parseInt(_.rowpos,10)||f+1,j=parseInt(2*(parseInt(_.colpos,10)||1),10);if("_empty"===i&&w.defaultValue&&(d=e.isFunction(w.defaultValue)?w.defaultValue.call(u):w.defaultValue),this.edittype||(this.edittype="text"),u.p.autoencode&&(d=e.jgrid.htmlDecode(d)),h=e.jgrid.createEl.call(u,this.edittype,w,d,!1,e.extend({},e.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{})),(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[n]=d),e(h).addClass("FormElement"),e.inArray(this.edittype,["text","textarea","password","select"])>-1&&e(h).addClass("ui-widget-content ui-corner-all"),l=e(r).find("tr[rowpos="+y+"]"),_.rowabove){var x=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+_.rowcontent+"</td></tr>");e(r).append(x),x[0].rp=y}0===l.length&&(l=e("<tr "+c+" rowpos='"+y+"'></tr>").addClass("FormData").attr("id","tr_"+n),e(l).append(b),e(r).append(l),l[0].rp=y),e("td:eq("+(j-2)+")",l[0]).html(void 0===_.label?s.p.colNames[p]:_.label),e("td:eq("+(j-1)+")",l[0]).append(_.elmprefix).append(h).append(_.elmsuffix),"custom"===this.edittype&&e.isFunction(w.custom_value)&&w.custom_value.call(u,e("#"+n,"#"+v),"set",d),e.jgrid.bindEv.call(u,h,w),g[f]=p,f++}}),f>0){var w=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+s.p.id+"_id' value='"+i+"'/></td></tr>");w[0].rp=f+999,e(r).append(w),(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[s.p.id+"_id"]=i)}}(i,u,P,k);var A="<a id='"+G+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",R="<a id='"+N+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",E="<a id='sData' class='fm-button ui-state-default ui-corner-all'>"+s.bSubmit+"</a>",O="<a id='cData' class='fm-button ui-state-default ui-corner-all'>"+s.bCancel+"</a>",z="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+b+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(T?R+A:A+R)+"</td><td class='EditButton'>"+E+O+"</td></tr>";if(z+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+t[u.p.id].bottominfo+"</td></tr>",z+="</tbody></table>",q>0){var H=[];e.each(e(P)[0].rows,function(e,t){H[e]=t}),H.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(H,function(t,i){e("tbody",P).append(i)})}s.gbox="#gbox_"+e.jgrid.jqID(m);var W=!1;!0===s.closeOnEscape&&(s.closeOnEscape=!1,W=!0);var L=e("<div></div>").append(M).append(z);if(e.jgrid.createModal(_,L,t[e(this)[0].p.id],"#gview_"+e.jgrid.jqID(u.p.id),e("#gbox_"+e.jgrid.jqID(u.p.id))[0]),T&&(e("#pData, #nData",w+"_2").css("float","right"),e(".EditButton",w+"_2").css("text-align","left")),t[u.p.id].topinfo&&e(".tinfo",w).show(),t[u.p.id].bottominfo&&e(".binfo",w+"_2").show(),L=null,z=null,e("#"+e.jgrid.jqID(_.themodal)).keydown(function(i){var r=i.target;if(!0===e("#"+v).data("disabled"))return!1;if(!0===t[u.p.id].savekey[0]&&i.which===t[u.p.id].savekey[1]&&"TEXTAREA"!==r.tagName)return e("#sData",w+"_2").trigger("click"),!1;if(27===i.which)return!!d()&&(W&&e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:s.gbox,jqm:s.jqModal,onClose:t[u.p.id].onClose}),!1);if(!0===t[u.p.id].navkeys[0]){if("_empty"===e("#id_g",w).val())return!0;if(i.which===t[u.p.id].navkeys[1])return e("#pData",w+"_2").trigger("click"),!1;if(i.which===t[u.p.id].navkeys[2])return e("#nData",w+"_2").trigger("click"),!1}}),s.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+e.jgrid.jqID(_.themodal)).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(_.themodal)).unbind("click").click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose}),!1)})),s.saveicon=e.extend([!0,"left","ui-icon-disk"],s.saveicon),s.closeicon=e.extend([!0,"left","ui-icon-close"],s.closeicon),!0===s.saveicon[0]&&e("#sData",w+"_2").addClass("right"===s.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.saveicon[2]+"'></span>"),!0===s.closeicon[0]&&e("#cData",w+"_2").addClass("right"===s.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.closeicon[2]+"'></span>"),t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate){E="<a id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bYes+"</a>",R="<a id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bNo+"</a>",O="<a id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bExit+"</a>";var B=s.zIndex||999;B++,e("<div class='"+s.overlayClass+" jqgrid-overlay confirm' style='z-index:"+B+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(B+1)+"'>"+s.saveData+"<br/><br/>"+E+R+O+"</div>").insertAfter("#"+v),e("#sNew","#"+e.jgrid.jqID(_.themodal)).click(function(){return o(),e("#"+v).data("disabled",!1),e(".confirm","#"+e.jgrid.jqID(_.themodal)).hide(),!1}),e("#nNew","#"+e.jgrid.jqID(_.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(_.themodal)).hide(),e("#"+v).data("disabled",!1),setTimeout(function(){e(":input:visible","#"+v)[0].focus()},0),!1}),e("#cNew","#"+e.jgrid.jqID(_.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(_.themodal)).hide(),e("#"+v).data("disabled",!1),e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose}),!1})}e(u).triggerHandler("jqGridAddEditInitializeForm",[e("#"+v),g]),D&&D.call(u,e("#"+v),g),"_empty"!==i&&t[u.p.id].viewPagerButtons?e("#pData,#nData",w+"_2").show():e("#pData,#nData",w+"_2").hide(),e(u).triggerHandler("jqGridAddEditBeforeShowForm",[e("#"+v),g]),y&&y.call(u,e("#"+v),g),e("#"+e.jgrid.jqID(_.themodal)).data("onClose",t[u.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(_.themodal),{gbox:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,overlay:s.overlay,modal:s.modal,overlayClass:s.overlayClass,onHide:function(t){var i=e("#editmod"+m)[0].style.height;i.indexOf("px")>-1&&(i=parseFloat(i)),e(u).data("formProp",{top:parseFloat(e(t.w).css("top")),left:parseFloat(e(t.w).css("left")),width:e(t.w).width(),height:i,dataheight:e("#"+v).height(),datawidth:e("#"+v).width()}),t.w.remove(),t.o&&t.o.remove()}}),$||e("."+e.jgrid.jqID(s.overlayClass)).click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose}),!1)}),e(".fm-button","#"+e.jgrid.jqID(_.themodal)).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e("#sData",w+"_2").click(function(){return p={},e("#FormError",w).hide(),r(),"_empty"===p[u.p.id+"_id"]?o():!0===s.checkOnSubmit?(f=l(p,t[u.p.id]._savedData),f?(e("#"+v).data("disabled",!0),e(".confirm","#"+e.jgrid.jqID(_.themodal)).show()):o()):o(),!1}),e("#cData",w+"_2").click(function(){return!!d()&&(e.jgrid.hideModal("#"+e.jgrid.jqID(_.themodal),{gb:"#gbox_"+e.jgrid.jqID(m),jqm:s.jqModal,onClose:t[u.p.id].onClose}),!1)}),e("#nData",w+"_2").click(function(){if(!d())return!1;e("#FormError",w).hide();var t=h();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){e(u).triggerHandler("jqGridAddEditClickPgButtons",["next",e("#"+v),t[1][t[0]]]);var i;if(e.isFunction(s.onclickPgButtons)&&void 0!==(i=s.onclickPgButtons.call(u,"next",e("#"+v),t[1][t[0]]))&&!1===i)return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]+1])).hasClass("ui-state-disabled"))return!1;a(t[1][t[0]+1],u,v),e(u).jqGrid("setSelection",t[1][t[0]+1]),e(u).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",e("#"+v),t[1][t[0]]]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(u,"next",e("#"+v),t[1][t[0]+1]),c(t[0]+1,t)}return!1}),e("#pData",w+"_2").click(function(){if(!d())return!1;e("#FormError",w).hide();var t=h();if(-1!==t[0]&&t[1][t[0]-1]){e(u).triggerHandler("jqGridAddEditClickPgButtons",["prev",e("#"+v),t[1][t[0]]]);var i;if(e.isFunction(s.onclickPgButtons)&&void 0!==(i=s.onclickPgButtons.call(u,"prev",e("#"+v),t[1][t[0]]))&&!1===i)return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]-1])).hasClass("ui-state-disabled"))return!1;a(t[1][t[0]-1],u,v),e(u).jqGrid("setSelection",t[1][t[0]-1]),e(u).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",e("#"+v),t[1][t[0]]]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(u,"prev",e("#"+v),t[1][t[0]-1]),c(t[0]-1,t)}return!1}),e(u).triggerHandler("jqGridAddEditAfterShowForm",[e("#"+v),g]),j&&j.call(u,e("#"+v),g);var V=h();c(V[0],V)}}})},viewGridRow:function(i,s){return s=e.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1},e.jgrid.view,s||{}),t[e(this)[0].p.id]=s,this.each(function(){function r(){!0!==t[l.p.id].closeOnEscape&&!0!==t[l.p.id].navkeys[0]||setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(f.modalhead)).attr("tabindex","-1").focus()},0)}function a(t,i){var s,r,a,n,o=0;(n=e(i).jqGrid("getInd",t,!0))&&(e("td",n).each(function(t){s=i.p.colModel[t].name,r=(!i.p.colModel[t].editrules||!0!==i.p.colModel[t].editrules.edithidden)&&!0===i.p.colModel[t].hidden,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&(a=s===i.p.ExpandColumn&&!0===i.p.treeGrid?e(this).text():e(this).html(),s=e.jgrid.jqID("v_"+s),e("#"+s+" span","#"+h).html(a),r&&e("#"+s,"#"+h).parents("tr:first").hide(),o++)}),o>0&&e("#id_g","#"+h).val(t))}function n(t,i){var s=i[1].length-1;0===t?e("#pData","#"+h+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",h+"_2").addClass("ui-state-disabled"):e("#pData","#"+h+"_2").removeClass("ui-state-disabled"),t===s?e("#nData","#"+h+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",h+"_2").addClass("ui-state-disabled"):e("#nData","#"+h+"_2").removeClass("ui-state-disabled")}function o(){var t=e(l).jqGrid("getDataIDs"),i=e("#id_g","#"+h).val();return[e.inArray(i,t),t]}var l=this;if(l.grid&&i){var d=l.p.id,c="ViewGrid_"+e.jgrid.jqID(d),h="ViewTbl_"+e.jgrid.jqID(d),u="ViewGrid_"+d,p="ViewTbl_"+d,f={themodal:"viewmod"+d,modalhead:"viewhd"+d,modalcontent:"viewcnt"+d,scrollelm:c},g=!!e.isFunction(t[l.p.id].beforeInitData)&&t[l.p.id].beforeInitData,m=!0,v=1,b=0;s.recreateForm||e(l).data("viewProp")&&e.extend(t[e(this)[0].p.id],e(l).data("viewProp"));var w=isNaN(t[e(this)[0].p.id].dataheight)?t[e(this)[0].p.id].dataheight:t[e(this)[0].p.id].dataheight+"px",_=isNaN(t[e(this)[0].p.id].datawidth)?t[e(this)[0].p.id].datawidth:t[e(this)[0].p.id].datawidth+"px",y=e("<form name='FormPost' id='"+u+"' class='FormGrid' style='width:"+_+";overflow:auto;position:relative;height:"+w+";'></form>"),j=e("<table id='"+p+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(e(l.p.colModel).each(function(){var e=this.formoptions;v=Math.max(v,e?e.colpos||0:0),b=Math.max(b,e?e.rowpos||0:0)}),e(y).append(j),g&&void 0===(m=g.call(l,y))&&(m=!0),!1!==m){!function(t,i,r,a){var n,o,l,d,c,h,u,p,f,g=0,m=[],v=!1,b="<td class='CaptionTD form-view-label ui-widget-content' width='"+s.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",w="",_=["integer","number","currency"],y=0,j=0;for(h=1;h<=a;h++)w+=1===h?b:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";if(e(i.p.colModel).each(function(){(o=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==e.inArray(this.formatter,_)?y=Math.max(y,parseInt(this.width,10)):j=Math.max(j,parseInt(this.width,10)))}),u=0!==y?y:0!==j?j:0,v=e(i).jqGrid("getInd",t),e(i.p.colModel).each(function(t){if(n=this.name,p=!1,o=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,c=o?"style='display:none'":"",f="boolean"!=typeof this.viewable||this.viewable,"cb"!==n&&"subgrid"!==n&&"rn"!==n&&f){d=!1===v?"":n===i.p.ExpandColumn&&!0===i.p.treeGrid?e("td:eq("+t+")",i.rows[v]).text():e("td:eq("+t+")",i.rows[v]).html(),p="right"===this.align&&0!==u;var s=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),h=parseInt(s.rowpos,10)||g+1,b=parseInt(2*(parseInt(s.colpos,10)||1),10);if(s.rowabove){var _=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+s.rowcontent+"</td></tr>");e(r).append(_),_[0].rp=h}l=e(r).find("tr[rowpos="+h+"]"),0===l.length&&(l=e("<tr "+c+" rowpos='"+h+"'></tr>").addClass("FormData").attr("id","trv_"+n),e(l).append(w),e(r).append(l),l[0].rp=h),e("td:eq("+(b-2)+")",l[0]).html("<b>"+(void 0===s.label?i.p.colNames[t]:s.label)+"</b>"),e("td:eq("+(b-1)+")",l[0]).append("<span>"+d+"</span>").attr("id","v_"+n),p&&e("td:eq("+(b-1)+") span",l[0]).css({"text-align":"right",width:u+"px"}),m[g]=t,g++}}),g>0){var x=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>");x[0].rp=g+99,e(r).append(x)}}(i,l,j,v);var x="rtl"===l.p.direction,D=x?"nData":"pData",C=x?"pData":"nData",k="<a id='"+D+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",q="<a id='"+C+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",$="<a id='cData' class='fm-button ui-state-default ui-corner-all'>"+s.bClose+"</a>";if(b>0){var I=[];e.each(e(j)[0].rows,function(e,t){I[e]=t}),I.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(I,function(t,i){e("tbody",j).append(i)})}s.gbox="#gbox_"+e.jgrid.jqID(d);var S=e("<div></div>").append(y).append("<table border='0' class='EditTable' id='"+h+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+s.labelswidth+"'>"+(x?q+k:k+q)+"</td><td class='EditButton'>"+$+"</td></tr></tbody></table>");e.jgrid.createModal(f,S,s,"#gview_"+e.jgrid.jqID(l.p.id),e("#gview_"+e.jgrid.jqID(l.p.id))[0]),x&&(e("#pData, #nData","#"+h+"_2").css("float","right"),e(".EditButton","#"+h+"_2").css("text-align","left")),s.viewPagerButtons||e("#pData, #nData","#"+h+"_2").hide(),S=null,e("#"+f.themodal).keydown(function(i){if(27===i.which)return t[l.p.id].closeOnEscape&&e.jgrid.hideModal("#"+e.jgrid.jqID(f.themodal),{gb:s.gbox,jqm:s.jqModal,onClose:s.onClose}),!1;if(!0===s.navkeys[0]){if(i.which===s.navkeys[1])return e("#pData","#"+h+"_2").trigger("click"),!1;if(i.which===s.navkeys[2])return e("#nData","#"+h+"_2").trigger("click"),!1}}),s.closeicon=e.extend([!0,"left","ui-icon-close"],s.closeicon),!0===s.closeicon[0]&&e("#cData","#"+h+"_2").addClass("right"===s.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.closeicon[2]+"'></span>"),e.isFunction(s.beforeShowForm)&&s.beforeShowForm.call(l,e("#"+c)),e.jgrid.viewModal("#"+e.jgrid.jqID(f.themodal),{gbox:"#gbox_"+e.jgrid.jqID(d),jqm:s.jqModal,overlay:s.overlay,modal:s.modal,onHide:function(t){e(l).data("viewProp",{top:parseFloat(e(t.w).css("top")),left:parseFloat(e(t.w).css("left")),width:e(t.w).width(),height:e(t.w).height(),dataheight:e("#"+c).height(),datawidth:e("#"+c).width()}),t.w.remove(),t.o&&t.o.remove()}}),e(".fm-button:not(.ui-state-disabled)","#"+h+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),r(),e("#cData","#"+h+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(f.themodal),{gb:"#gbox_"+e.jgrid.jqID(d),jqm:s.jqModal,onClose:s.onClose}),!1}),e("#nData","#"+h+"_2").click(function(){e("#FormError","#"+h).hide()
;var t=o();return t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]&&(e.isFunction(s.onclickPgButtons)&&s.onclickPgButtons.call(l,"next",e("#"+c),t[1][t[0]]),a(t[1][t[0]+1],l),e(l).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(l,"next",e("#"+c),t[1][t[0]+1]),n(t[0]+1,t)),r(),!1}),e("#pData","#"+h+"_2").click(function(){e("#FormError","#"+h).hide();var t=o();return-1!==t[0]&&t[1][t[0]-1]&&(e.isFunction(s.onclickPgButtons)&&s.onclickPgButtons.call(l,"prev",e("#"+c),t[1][t[0]]),a(t[1][t[0]-1],l),e(l).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(l,"prev",e("#"+c),t[1][t[0]-1]),n(t[0]-1,t)),r(),!1});var M=o();n(M[0],M)}}})},delGridRow:function(i,s){return s=e.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},e.jgrid.del,s||{}),t[e(this)[0].p.id]=s,this.each(function(){var r=this;if(r.grid&&i){var a,n,o,l,d=e.isFunction(t[r.p.id].beforeShowForm),c=e.isFunction(t[r.p.id].afterShowForm),h=!!e.isFunction(t[r.p.id].beforeInitData)&&t[r.p.id].beforeInitData,u=r.p.id,p={},f=!0,g="DelTbl_"+e.jgrid.jqID(u),m="DelTbl_"+u,v={themodal:"delmod"+u,modalhead:"delhd"+u,modalcontent:"delcnt"+u,scrollelm:g};if(e.isArray(i)&&(i=i.join()),void 0!==e("#"+e.jgrid.jqID(v.themodal))[0]){if(h&&void 0===(f=h.call(r,e("#"+g)))&&(f=!0),!1===f)return;e("#DelData>td","#"+g).text(i),e("#DelError","#"+g).hide(),!0===t[r.p.id].processing&&(t[r.p.id].processing=!1,e("#dData","#"+g).removeClass("ui-state-active")),d&&t[r.p.id].beforeShowForm.call(r,e("#"+g)),e.jgrid.viewModal("#"+e.jgrid.jqID(v.themodal),{gbox:"#gbox_"+e.jgrid.jqID(u),jqm:t[r.p.id].jqModal,jqM:!1,overlay:t[r.p.id].overlay,modal:t[r.p.id].modal}),c&&t[r.p.id].afterShowForm.call(r,e("#"+g))}else{var b=isNaN(t[r.p.id].dataheight)?t[r.p.id].dataheight:t[r.p.id].dataheight+"px",w=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",_="<div id='"+m+"' class='formdata' style='width:"+w+";overflow:auto;position:relative;height:"+b+";'>";_+="<table class='DelTable'><tbody>",_+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>",_+="<tr id='DelData' style='display:none'><td >"+i+"</td></tr>",_+='<tr><td class="delmsg" style="white-space:pre;">'+t[r.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",_+="</tbody></table></div>";var y="<a id='dData' class='fm-button ui-state-default ui-corner-all'>"+s.bSubmit+"</a>",j="<a id='eData' class='fm-button ui-state-default ui-corner-all'>"+s.bCancel+"</a>";if(_+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+g+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+y+"&#160;"+j+"</td></tr></tbody></table>",s.gbox="#gbox_"+e.jgrid.jqID(u),e.jgrid.createModal(v,_,s,"#gview_"+e.jgrid.jqID(r.p.id),e("#gview_"+e.jgrid.jqID(r.p.id))[0]),h&&void 0===(f=h.call(r,e(_)))&&(f=!0),!1===f)return;e(".fm-button","#"+g+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),s.delicon=e.extend([!0,"left","ui-icon-scissors"],t[r.p.id].delicon),s.cancelicon=e.extend([!0,"left","ui-icon-cancel"],t[r.p.id].cancelicon),!0===s.delicon[0]&&e("#dData","#"+g+"_2").addClass("right"===s.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.delicon[2]+"'></span>"),!0===s.cancelicon[0]&&e("#eData","#"+g+"_2").addClass("right"===s.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.cancelicon[2]+"'></span>"),e("#dData","#"+g+"_2").click(function(){var i,d=[!0,""],c=e("#DelData>td","#"+g).text();if(p={},e.isFunction(t[r.p.id].onclickSubmit)&&(p=t[r.p.id].onclickSubmit.call(r,t[r.p.id],c)||{}),e.isFunction(t[r.p.id].beforeSubmit)&&(d=t[r.p.id].beforeSubmit.call(r,c)),d[0]&&!t[r.p.id].processing){if(t[r.p.id].processing=!0,o=r.p.prmNames,a=e.extend({},t[r.p.id].delData,p),l=o.oper,a[l]=o.deloper,n=o.id,c=String(c).split(","),!c.length)return!1;for(i in c)c.hasOwnProperty(i)&&(c[i]=e.jgrid.stripPref(r.p.idPrefix,c[i]));a[n]=c.join(),e(this).addClass("ui-state-active");var h=e.extend({url:t[r.p.id].url||e(r).jqGrid("getGridParam","editurl"),type:t[r.p.id].mtype,data:e.isFunction(t[r.p.id].serializeDelData)?t[r.p.id].serializeDelData.call(r,a):a,complete:function(i,n){var o;if(i.status>=300&&304!==i.status?(d[0]=!1,e.isFunction(t[r.p.id].errorTextFormat)?d[1]=t[r.p.id].errorTextFormat.call(r,i):d[1]=n+" Status: '"+i.statusText+"'. Error code: "+i.status):e.isFunction(t[r.p.id].afterSubmit)&&(d=t[r.p.id].afterSubmit.call(r,i,a)),!1===d[0])e("#DelError>td","#"+g).html(d[1]),e("#DelError","#"+g).show();else{if(t[r.p.id].reloadAfterSubmit&&"local"!==r.p.datatype)e(r).trigger("reloadGrid");else{if(!0===r.p.treeGrid)try{e(r).jqGrid("delTreeNode",r.p.idPrefix+c[0])}catch(e){}else for(o=0;o<c.length;o++)e(r).jqGrid("delRowData",r.p.idPrefix+c[o]);r.p.selrow=null,r.p.selarrrow=[]}e.isFunction(t[r.p.id].afterComplete)&&setTimeout(function(){t[r.p.id].afterComplete.call(r,i,c)},500)}t[r.p.id].processing=!1,e("#dData","#"+g+"_2").removeClass("ui-state-active"),d[0]&&e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:s.jqModal,onClose:t[r.p.id].onClose})}},e.jgrid.ajaxOptions,t[r.p.id].ajaxDelOptions);if(h.url||t[r.p.id].useDataProxy||(e.isFunction(r.p.dataProxy)?t[r.p.id].useDataProxy=!0:(d[0]=!1,d[1]+=" "+e.jgrid.errors.nourl)),d[0])if(t[r.p.id].useDataProxy){var f=r.p.dataProxy.call(r,h,"del_"+r.p.id);void 0===f&&(f=[!0,""]),!1===f[0]?(d[0]=!1,d[1]=f[1]||"Error deleting the selected row!"):e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:s.jqModal,onClose:t[r.p.id].onClose})}else"clientArray"===h.url?(a=h.data,h.complete({status:200,statusText:""},"")):e.ajax(h)}return!1===d[0]&&(e("#DelError>td","#"+g).html(d[1]),e("#DelError","#"+g).show()),!1}),e("#eData","#"+g+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:t[r.p.id].jqModal,onClose:t[r.p.id].onClose}),!1}),d&&t[r.p.id].beforeShowForm.call(r,e("#"+g)),e.jgrid.viewModal("#"+e.jgrid.jqID(v.themodal),{gbox:"#gbox_"+e.jgrid.jqID(u),jqm:t[r.p.id].jqModal,overlay:t[r.p.id].overlay,modal:t[r.p.id].modal}),c&&t[r.p.id].afterShowForm.call(r,e("#"+g))}!0===t[r.p.id].closeOnEscape&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(v.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(t,i,s,r,a,n,o){return i=e.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},e.jgrid.nav,i||{}),this.each(function(){if(!this.nav){var l,d,c={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},h=this;if(h.grid&&"string"==typeof t){void 0===e("#"+c.themodal)[0]&&(i.alerttop||i.alertleft||(void 0!==window.innerWidth?(i.alertleft=window.innerWidth,i.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(i.alertleft=document.documentElement.clientWidth,i.alerttop=document.documentElement.clientHeight):(i.alertleft=1024,i.alerttop=768),i.alertleft=i.alertleft/2-parseInt(i.alertwidth,10)/2,i.alerttop=i.alerttop/2-25),e.jgrid.createModal(c,"<div>"+i.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+e.jgrid.jqID(h.p.id),jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:i.alerttop,left:i.alertleft,width:i.alertwidth,height:i.alertheight,closeOnEscape:i.closeOnEscape,zIndex:i.alertzIndex},"#gview_"+e.jgrid.jqID(h.p.id),e("#gbox_"+e.jgrid.jqID(h.p.id))[0],!0));var u,p=1,f=function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},g=function(){e(this).removeClass("ui-state-hover")};for(i.cloneToTop&&h.p.toppager&&(p=2),u=0;u<p;u++){var m,v,b,w=e("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:right;table-layout:auto;'><tbody><tr></tr></tbody></table>");0===u?(v=t,b=h.p.id,v===h.p.toppager&&(b+="_top",p=1)):(v=h.p.toppager,b=h.p.id+"_top"),"rtl"===h.p.direction&&e(w).attr("dir","rtl").css("float","right"),i.add&&(r=r||{},m=e("<td class='ui-pg-button ui-corner-all'></td>"),e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'></span>"+i.addtext+"</div>"),e("tr",w).append(m),e(m,w).attr({title:i.addtitle||"",id:r.id||"add_"+b}).click(function(){return e(this).hasClass("ui-state-disabled")||(e.isFunction(i.addfunc)?i.addfunc.call(h):e(h).jqGrid("editGridRow","new",r)),!1}).hover(f,g),m=null),i.edit&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),s=s||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'></span>"+i.edittext+"</div>"),e("tr",w).append(m),e(m,w).attr({title:i.edittitle||"",id:s.id||"edit_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=h.p.selrow;t?e.isFunction(i.editfunc)?i.editfunc.call(h,t):e(h).jqGrid("editGridRow",t,s):(e.jgrid.viewModal("#"+c.themodal,{gbox:"#gbox_"+e.jgrid.jqID(h.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(f,g),m=null),i.view&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),o=o||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'></span>"+i.viewtext+"</div>"),e("tr",w).append(m),e(m,w).attr({title:i.viewtitle||"",id:o.id||"view_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=h.p.selrow;t?e.isFunction(i.viewfunc)?i.viewfunc.call(h,t):e(h).jqGrid("viewGridRow",t,o):(e.jgrid.viewModal("#"+c.themodal,{gbox:"#gbox_"+e.jgrid.jqID(h.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(f,g),m=null),i.del&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),a=a||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'></span>"+i.deltext+"</div>"),e("tr",w).append(m),e(m,w).attr({title:i.deltitle||"",id:a.id||"del_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t;h.p.multiselect?(t=h.p.selarrrow,0===t.length&&(t=null)):t=h.p.selrow,t?e.isFunction(i.delfunc)?i.delfunc.call(h,t):e(h).jqGrid("delGridRow",t,a):(e.jgrid.viewModal("#"+c.themodal,{gbox:"#gbox_"+e.jgrid.jqID(h.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(f,g),m=null),(i.add||i.edit||i.del||i.view)&&e("tr",w).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"),i.search&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),n=n||{},e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'></span>"+i.searchtext+"</div>"),e("tr",w).append(m),e(m,w).attr({title:i.searchtitle||"",id:n.id||"search_"+b}).click(function(){return e(this).hasClass("ui-state-disabled")||(e.isFunction(i.searchfunc)?i.searchfunc.call(h,n):e(h).jqGrid("searchGrid",n)),!1}).hover(f,g),n.showOnLoad&&!0===n.showOnLoad&&e(m,w).click(),m=null),i.refresh&&(m=e("<td class='ui-pg-button ui-corner-all'></td>"),e(m).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'></span>"+i.refreshtext+"</div>"),e("tr",w).append(m),e(m,w).attr({title:i.refreshtitle||"",id:"refresh_"+b}).click(function(){if(!e(this).hasClass("ui-state-disabled")){e.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(h),h.p.search=!1,h.p.resetsearch=!0;try{if("currentfilter"!==i.refreshstate){var t=h.p.id;h.p.postData.filters="";try{e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter")}catch(e){}e.isFunction(h.clearToolbar)&&h.clearToolbar.call(h,!1)}}catch(e){}switch(i.refreshstate){case"firstpage":e(h).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":e(h).trigger("reloadGrid",[{current:!0}])}e.isFunction(i.afterRefresh)&&i.afterRefresh.call(h)}return!1}).hover(f,g),m=null),d=e(".ui-jqgrid").css("font-size")||"11px",e("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+d+";visibility:hidden;' ></div>"),l=e(w).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),e(v+"_"+i.position,v).append(w),h.p._nvtd&&(l>h.p._nvtd[0]&&(e(v+"_"+i.position,v).width(l),h.p._nvtd[0]=l),h.p._nvtd[1]=l),d=null,l=null,w=null,this.nav=!0}}}})},navButtonAdd:function(t,i){return i=e.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var s=e(".navtable",t)[0],r=this;if(s){if(i.id&&void 0!==e("#"+e.jgrid.jqID(i.id),s)[0])return;var a=e("<td></td>");"NONE"===i.buttonicon.toString().toUpperCase()?e(a).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"</div>"):e(a).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'></span>"+i.caption+"</div>"),i.id&&e(a).attr("id",i.id),"first"===i.position?0===s.rows[0].cells.length?e("tr",s).append(a):e("tr td:eq(0)",s).before(a):e("tr",s).append(a),e(a,s).attr("title",i.title||"").click(function(t){return e(this).hasClass("ui-state-disabled")||e.isFunction(i.onClickButton)&&i.onClickButton.call(r,t),!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(t,i){return i=e.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var s=e(".navtable",t)[0];if(s){var r="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'></span>"+i.sepcontent+"</td>";"first"===i.position?0===s.rows[0].cells.length?e("tr",s).append(r):e("tr td:eq(0)",s).before(r):e("tr",s).append(r)}}})},GridToForm:function(t,i){return this.each(function(){var s,r=this;if(r.grid){var a=e(r).jqGrid("getRowData",t);if(a)for(s in a)a.hasOwnProperty(s)&&(e("[name="+e.jgrid.jqID(s)+"]",i).is("input:radio")||e("[name="+e.jgrid.jqID(s)+"]",i).is("input:checkbox")?e("[name="+e.jgrid.jqID(s)+"]",i).each(function(){e(this).val()==a[s]?e(this)[r.p.useProp?"prop":"attr"]("checked",!0):e(this)[r.p.useProp?"prop":"attr"]("checked",!1)}):e("[name="+e.jgrid.jqID(s)+"]",i).val(a[s]))}})},FormToGrid:function(t,i,s,r){return this.each(function(){var a=this;if(a.grid){s||(s="set"),r||(r="first");var n=e(i).serializeArray(),o={};e.each(n,function(e,t){o[t.name]=t.value}),"add"===s?e(a).jqGrid("addRowData",t,o,r):"set"===s&&e(a).jqGrid("setRowData",t,o)}})}})}(jQuery),function(e){"use strict";e.jgrid.inlineEdit=e.jgrid.inlineEdit||{},e.jgrid.extend({editRow:function(t,i,s,r,a,n,o,l,d){var c={},h=e.makeArray(arguments).slice(1);return"object"===e.type(h[0])?c=h[0]:(void 0!==i&&(c.keys=i),e.isFunction(s)&&(c.oneditfunc=s),e.isFunction(r)&&(c.successfunc=r),void 0!==a&&(c.url=a),void 0!==n&&(c.extraparam=n),e.isFunction(o)&&(c.aftersavefunc=o),e.isFunction(l)&&(c.errorfunc=l),e.isFunction(d)&&(c.afterrestorefunc=d)),c=e.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},e.jgrid.inlineEdit,c),this.each(function(){var i,s,r,a,n,o=this,l=0,d=null,h={};o.grid&&!1!==(r=e(o).jqGrid("getInd",t,!0))&&(n=e.isFunction(c.beforeEditRow)?c.beforeEditRow.call(o,c,t):void 0,void 0===n&&(n=!0),n&&("0"!==(e(r).attr("editable")||"0")||e(r).hasClass("not-editable-row")||(a=o.p.colModel,e('td[role="gridcell"]',r).each(function(r){i=a[r].name;var n=!0===o.p.treeGrid&&i===o.p.ExpandColumn;if(n)s=e("span:first",this).html();else try{s=e.unformat.call(o,this,{rowId:t,colModel:a[r]},r)}catch(t){s=a[r].edittype&&"textarea"===a[r].edittype?e(this).text():e(this).html()}if("cb"!==i&&"subgrid"!==i&&"rn"!==i&&(o.p.autoencode&&(s=e.jgrid.htmlDecode(s)),h[i]=s,!0===a[r].editable)){null===d&&(d=r),n?e("span:first",this).html(""):e(this).html("");var c=e.extend({},a[r].editoptions||{},{id:t+"_"+i,name:i,rowId:t});a[r].edittype||(a[r].edittype="text"),("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s="");var u=e.jgrid.createEl.call(o,a[r].edittype,c,s,!0,e.extend({},e.jgrid.ajaxOptions,o.p.ajaxSelectOptions||{}));e(u).addClass("editable"),n?e("span:first",this).append(u):e(this).append(u),e.jgrid.bindEv.call(o,u,c),"select"===a[r].edittype&&void 0!==a[r].editoptions&&!0===a[r].editoptions.multiple&&void 0===a[r].editoptions.dataUrl&&e.jgrid.msie&&e(u).width(e(u).width()),l++}}),l>0&&(h.id=t,o.p.savedRow.push(h),e(r).attr("editable","1"),c.focusField&&("number"==typeof c.focusField&&parseInt(c.focusField,10)<=a.length&&(d=c.focusField),setTimeout(function(){var t=e("td:eq("+d+") input",r).not(":disabled");t.length>0&&t.focus()},0)),!0===c.keys&&e(r).bind("keydown",function(i){if(27===i.keyCode){if(e(o).jqGrid("restoreRow",t,c.afterrestorefunc),o.p._inlinenav)try{e(o).jqGrid("showAddEditButtons")}catch(e){}return!1}if(13===i.keyCode){if("TEXTAREA"===i.target.tagName)return!0;if(e(o).jqGrid("saveRow",t,c)&&o.p._inlinenav)try{e(o).jqGrid("showAddEditButtons")}catch(e){}return!1}}),e(o).triggerHandler("jqGridInlineEditRow",[t,c]),e.isFunction(c.oneditfunc)&&c.oneditfunc.call(o,t)))))})},saveRow:function(t,i,s,r,a,n,o){var l=e.makeArray(arguments).slice(1),d={};"object"===e.type(l[0])?d=l[0]:(e.isFunction(i)&&(d.successfunc=i),void 0!==s&&(d.url=s),void 0!==r&&(d.extraparam=r),e.isFunction(a)&&(d.aftersavefunc=a),e.isFunction(n)&&(d.errorfunc=n),e.isFunction(o)&&(d.afterrestorefunc=o)),d=e.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},e.jgrid.inlineEdit,d);var c,h,u,p,f,g=!1,m=this[0],v={},b={},w={};if(!m.grid)return g;if(!1===(f=e(m).jqGrid("getInd",t,!0)))return g;var _=e.isFunction(d.beforeSaveRow)?d.beforeSaveRow.call(m,d,t):void 0;if(void 0===_&&(_=!0),_){if(h=e(f).attr("editable"),d.url=d.url||m.p.editurl,"1"===h){var y;if(e('td[role="gridcell"]',f).each(function(t){if(y=m.p.colModel[t],"cb"!==(c=y.name)&&"subgrid"!==c&&!0===y.editable&&"rn"!==c&&!e(this).hasClass("not-editable-cell")){switch(y.edittype){case"checkbox":var i=["Yes","No"];y.editoptions&&(i=y.editoptions.value.split(":")),v[c]=e("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":v[c]=e("input, textarea",this).val();break;case"select":if(y.editoptions.multiple){var s=e("select",this),r=[];v[c]=e(s).val(),v[c]?v[c]=v[c].join(","):v[c]="",e("select option:selected",this).each(function(t,i){r[t]=e(i).text()}),b[c]=r.join(",")}else v[c]=e("select option:selected",this).val(),b[c]=e("select option:selected",this).text();y.formatter&&"select"===y.formatter&&(b={});break;case"custom":try{if(!y.editoptions||!e.isFunction(y.editoptions.custom_value))throw"e1";if(v[c]=y.editoptions.custom_value.call(m,e(".customelement",this),"get"),void 0===v[c])throw"e2"}catch(t){"e1"===t&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,t.message,e.jgrid.edit.bClose)}}if(p=e.jgrid.checkValues.call(m,v[c],t),!1===p[0])return!1;m.p.autoencode&&(v[c]=e.jgrid.htmlEncode(v[c])),"clientArray"!==d.url&&y.editoptions&&!0===y.editoptions.NullIfEmpty&&""===v[c]&&(w[c]="null")}}),!1===p[0]){try{var j=e(m).jqGrid("getGridRowById",t),x=e.jgrid.findPos(j);e.jgrid.info_dialog(e.jgrid.errors.errcap,p[1],e.jgrid.edit.bClose,{left:x[0],top:x[1]+e(j).outerHeight()})}catch(e){alert(p[1])}return g}var D,C=m.p.prmNames,k=t;if(D=!1===m.p.keyName?C.id:m.p.keyName,v){if(v[C.oper]=C.editoper,void 0===v[D]||""===v[D])v[D]=t;else if(f.id!==m.p.idPrefix+v[D]){var q=e.jgrid.stripPref(m.p.idPrefix,t);if(void 0!==m.p._index[q]&&(m.p._index[v[D]]=m.p._index[q],delete m.p._index[q]),t=m.p.idPrefix+v[D],e(f).attr("id",t),m.p.selrow===k&&(m.p.selrow=t),e.isArray(m.p.selarrrow)){var $=e.inArray(k,m.p.selarrrow);$>=0&&(m.p.selarrrow[$]=t)}if(m.p.multiselect){var I="jqg_"+m.p.id+"_"+t;e("input.cbox",f).attr("id",I).attr("name",I)}}void 0===m.p.inlineData&&(m.p.inlineData={}),v=e.extend({},v,m.p.inlineData,d.extraparam)}if("clientArray"===d.url){v=e.extend({},v,b),m.p.autoencode&&e.each(v,function(t,i){v[t]=e.jgrid.htmlDecode(i)});var S,M=e(m).jqGrid("setRowData",t,v);for(e(f).attr("editable","0"),S=0;S<m.p.savedRow.length;S++)if(String(m.p.savedRow[S].id)===String(k)){u=S;break}u>=0&&m.p.savedRow.splice(u,1),e(m).triggerHandler("jqGridInlineAfterSaveRow",[t,M,v,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(m,t,M,v,d),g=!0,e(f).removeClass("jqgrid-new-row").unbind("keydown")}else e("#lui_"+e.jgrid.jqID(m.p.id)).show(),w=e.extend({},v,w),w[D]=e.jgrid.stripPref(m.p.idPrefix,w[D]),e.ajax(e.extend({url:d.url,data:e.isFunction(m.p.serializeRowData)?m.p.serializeRowData.call(m,w):w,type:d.mtype,async:!1,complete:function(i,s){if(e("#lui_"+e.jgrid.jqID(m.p.id)).hide(),"success"===s){var r,a,n=!0;if(r=e(m).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,d]),e.isArray(r)||(r=[!0,v]),r[0]&&e.isFunction(d.successfunc)&&(r=d.successfunc.call(m,i)),e.isArray(r)?(n=r[0],v=r[1]||v):n=r,!0===n){for(m.p.autoencode&&e.each(v,function(t,i){v[t]=e.jgrid.htmlDecode(i)}),v=e.extend({},v,b),e(m).jqGrid("setRowData",t,v),e(f).attr("editable","0"),a=0;a<m.p.savedRow.length;a++)if(String(m.p.savedRow[a].id)===String(t)){u=a;break}u>=0&&m.p.savedRow.splice(u,1),e(m).triggerHandler("jqGridInlineAfterSaveRow",[t,i,v,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(m,t,i,v,d),g=!0,e(f).removeClass("jqgrid-new-row").unbind("keydown")}else e(m).triggerHandler("jqGridInlineErrorSaveRow",[t,i,s,null,d]),e.isFunction(d.errorfunc)&&d.errorfunc.call(m,t,i,s,null),!0===d.restoreAfterError&&e(m).jqGrid("restoreRow",t,d.afterrestorefunc)}},error:function(i,s,r){if(e("#lui_"+e.jgrid.jqID(m.p.id)).hide(),e(m).triggerHandler("jqGridInlineErrorSaveRow",[t,i,s,r,d]),e.isFunction(d.errorfunc))d.errorfunc.call(m,t,i,s,r);else{var a=i.responseText||i.statusText;try{e.jgrid.info_dialog(e.jgrid.errors.errcap,'<div class="ui-state-error">'+a+"</div>",e.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(a)}}!0===d.restoreAfterError&&e(m).jqGrid("restoreRow",t,d.afterrestorefunc)}},e.jgrid.ajaxOptions,m.p.ajaxRowOptions||{}))}return g}},restoreRow:function(t,i){var s=e.makeArray(arguments).slice(1),r={};return"object"===e.type(s[0])?r=s[0]:e.isFunction(i)&&(r.afterrestorefunc=i),r=e.extend(!0,{},e.jgrid.inlineEdit,r),this.each(function(){var i,s,a=this,n=-1,o={};if(a.grid&&!1!==(i=e(a).jqGrid("getInd",t,!0))){var l=e.isFunction(r.beforeCancelRow)?r.beforeCancelRow.call(a,r,sr):void 0;if(void 0===l&&(l=!0),l){for(s=0;s<a.p.savedRow.length;s++)if(String(a.p.savedRow[s].id)===String(t)){n=s;break}if(n>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+e.jgrid.jqID(i.id)).datepicker("hide")}catch(e){}e.each(a.p.colModel,function(){!0===this.editable&&a.p.savedRow[n].hasOwnProperty(this.name)&&(o[this.name]=a.p.savedRow[n][this.name])}),e(a).jqGrid("setRowData",t,o),e(i).attr("editable","0").unbind("keydown"),a.p.savedRow.splice(n,1),e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(a.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){e(a).jqGrid("delRowData",t),e(a).jqGrid("showAddEditButtons")},0)}e(a).triggerHandler("jqGridInlineAfterRestoreRow",[t]),e.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(a,t)}}})},addRow:function(t){return t=e.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){if(this.grid){var i=this,s=e.isFunction(t.beforeAddRow)?t.beforeAddRow.call(i,t.addRowParams):void 0;if(void 0===s&&(s=!0),s)if(t.rowID=e.isFunction(t.rowID)?t.rowID.call(i,t):null!=t.rowID?t.rowID:e.jgrid.randId(),!0===t.useDefValues&&e(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var s=this.editoptions.defaultValue,r=e.isFunction(s)?s.call(i):s;t.initdata[this.name]=r}}),e(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,e("#"+e.jgrid.jqID(t.rowID),"#"+e.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter)e("#"+e.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+e.jgrid.jqID(i.p.id)).click();else{var r=i.p.prmNames,a=r.oper;t.addRowParams.extraparam[a]=r.addoper,e(i).jqGrid("editRow",t.rowID,t.addRowParams),e(i).jqGrid("setSelection",t.rowID)}}})},inlineNav:function(t,i){return i=e.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},e.jgrid.nav,i||{}),this.each(function(){if(this.grid){var s,r=this,a=e.jgrid.jqID(r.p.id);if(r.p._inlinenav=!0,!0===i.addParams.useFormatter){var n,o=r.p.colModel;for(n=0;n<o.length;n++)if(o[n].formatter&&"actions"===o[n].formatter){if(o[n].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},d=e.extend(l,o[n].formatoptions);i.addParams.addRowParams={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSave,errorfunc:d.onError,afterrestorefunc:d.afterRestore}}break}}i.add&&e(r).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:r.p.id+"_iladd",onClickButton:function(){e(r).jqGrid("addRow",i.addParams),i.addParams.useFormatter||(e("#"+a+"_ilsave").removeClass("ui-state-disabled"),e("#"+a+"_ilcancel").removeClass("ui-state-disabled"),e("#"+a+"_iladd").addClass("ui-state-disabled"),e("#"+a+"_iledit").addClass("ui-state-disabled"))}}),i.edit&&e(r).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:r.p.id+"_iledit",onClickButton:function(){var t=e(r).jqGrid("getGridParam","selrow");t?(e(r).jqGrid("editRow",t,i.editParams),e("#"+a+"_ilsave").removeClass("ui-state-disabled"),e("#"+a+"_ilcancel").removeClass("ui-state-disabled"),e("#"+a+"_iladd").addClass("ui-state-disabled"),e("#"+a+"_iledit").addClass("ui-state-disabled")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus())}}),i.save&&(e(r).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:r.p.id+"_ilsave",onClickButton:function(){var t=r.p.savedRow[0].id;if(t){var s=r.p.prmNames,n=s.oper,o=i.editParams;e("#"+e.jgrid.jqID(t),"#"+a).hasClass("jqgrid-new-row")?(i.addParams.addRowParams.extraparam[n]=s.addoper,o=i.addParams.addRowParams):(i.editParams.extraparam||(i.editParams.extraparam={}),i.editParams.extraparam[n]=s.editoper),e(r).jqGrid("saveRow",t,o)&&e(r).jqGrid("showAddEditButtons")}else e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus()}}),e("#"+a+"_ilsave").addClass("ui-state-disabled")),i.cancel&&(e(r).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:r.p.id+"_ilcancel",onClickButton:function(){var t=r.p.savedRow[0].id,s=i.editParams;t?(e("#"+e.jgrid.jqID(t),"#"+a).hasClass("jqgrid-new-row")&&(s=i.addParams.addRowParams),e(r).jqGrid("restoreRow",t,s),e(r).jqGrid("showAddEditButtons")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),e("#jqg_alrt").focus())}}),e("#"+a+"_ilcancel").addClass("ui-state-disabled")),!0===i.restoreAfterSelect&&(s=!!e.isFunction(r.p.beforeSelectRow)&&r.p.beforeSelectRow,r.p.beforeSelectRow=function(t,a){var n=!0;return r.p.savedRow.length>0&&!0===r.p._inlinenav&&t!==r.p.selrow&&null!==r.p.selrow&&(r.p.selrow===i.addParams.rowID?e(r).jqGrid("delRowData",r.p.selrow):e(r).jqGrid("restoreRow",r.p.selrow,i.editParams),e(r).jqGrid("showAddEditButtons")),s&&(n=s.call(r,t,a)),n})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=e.jgrid.jqID(this.p.id);e("#"+t+"_ilsave").addClass("ui-state-disabled"),e("#"+t+"_ilcancel").addClass("ui-state-disabled"),e("#"+t+"_iladd").removeClass("ui-state-disabled"),e("#"+t+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function(e){"use strict";e.jgrid.extend({editCell:function(t,i,s){return this.each(function(){var r,a,n,o,l=this;if(l.grid&&!0===l.p.cellEdit){if(i=parseInt(i,10),l.p.selrow=l.rows[t].id,l.p.knv||e(l).jqGrid("GridNav"),l.p.savedRow.length>0){if(!0===s&&t==l.p.iRow&&i==l.p.iCol)return;e(l).jqGrid("saveCell",l.p.savedRow[0].id,l.p.savedRow[0].ic)}else window.setTimeout(function(){e("#"+e.jgrid.jqID(l.p.knv)).attr("tabindex","-1").focus()},1);if(o=l.p.colModel[i],"subgrid"!==(r=o.name)&&"cb"!==r&&"rn"!==r){if(n=e("td:eq("+i+")",l.rows[t]),!0!==o.editable||!0!==s||n.hasClass("not-editable-cell"))parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&(e("td:eq("+l.p.iCol+")",l.rows[l.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(l.rows[l.p.iRow]).removeClass("selected-row ui-state-hover")),n.addClass("edit-cell ui-state-highlight"),e(l.rows[t]).addClass("selected-row ui-state-hover"),a=n.html().replace(/\&#160\;/gi,""),e(l).triggerHandler("jqGridSelectCell",[l.rows[t].id,r,a,t,i]),e.isFunction(l.p.onSelectCell)&&l.p.onSelectCell.call(l,l.rows[t].id,r,a,t,i);else{parseInt(l.p.iCol,10)>=0&&parseInt(l.p.iRow,10)>=0&&(e("td:eq("+l.p.iCol+")",l.rows[l.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(l.rows[l.p.iRow]).removeClass("selected-row ui-state-hover")),e(n).addClass("edit-cell ui-state-highlight"),e(l.rows[t]).addClass("selected-row ui-state-hover");try{a=e.unformat.call(l,n,{rowId:l.rows[t].id,colModel:o},i)}catch(t){a=o.edittype&&"textarea"===o.edittype?e(n).text():e(n).html()}if(l.p.autoencode&&(a=e.jgrid.htmlDecode(a)),o.edittype||(o.edittype="text"),l.p.savedRow.push({id:t,ic:i,name:r,v:a}),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),e.isFunction(l.p.formatCell)){var d=l.p.formatCell.call(l,l.rows[t].id,r,a,t,i);void 0!==d&&(a=d)}e(l).triggerHandler("jqGridBeforeEditCell",[l.rows[t].id,r,a,t,i]),e.isFunction(l.p.beforeEditCell)&&l.p.beforeEditCell.call(l,l.rows[t].id,r,a,t,i);var c=e.extend({},o.editoptions||{},{id:t+"_"+r,name:r,rowId:l.rows[t].id}),h=e.jgrid.createEl.call(l,o.edittype,c,a,!0,e.extend({},e.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));e(n).html("").append(h).attr("tabindex","0"),e.jgrid.bindEv.call(l,h,c),window.setTimeout(function(){e(h).focus()},1),e("input, select, textarea",n).bind("keydown",function(s){if(27===s.keyCode&&(e("input.hasDatepicker",n).length>0?e(".ui-datepicker").is(":hidden")?e(l).jqGrid("restoreCell",t,i):e("input.hasDatepicker",n).datepicker("hide"):e(l).jqGrid("restoreCell",t,i)),13===s.keyCode)return e(l).jqGrid("saveCell",t,i),!1;if(9===s.keyCode){if(l.grid.hDiv.loading)return!1;s.shiftKey?e(l).jqGrid("prevCell",t,i):e(l).jqGrid("nextCell",t,i)}s.stopPropagation()}),e(l).triggerHandler("jqGridAfterEditCell",[l.rows[t].id,r,a,t,i]),e.isFunction(l.p.afterEditCell)&&l.p.afterEditCell.call(l,l.rows[t].id,r,a,t,i)}l.p.iCol=i,l.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var s,r=this;if(r.grid&&!0===r.p.cellEdit){if(null!==(s=r.p.savedRow.length>=1?0:null)){var a,n,o=e("td:eq("+i+")",r.rows[t]),l=r.p.colModel[i],d=l.name,c=e.jgrid.jqID(d);switch(l.edittype){case"select":if(l.editoptions.multiple){
var h=e("#"+t+"_"+c,r.rows[t]),u=[];a=e(h).val(),a?a.join(","):a="",e("option:selected",h).each(function(t,i){u[t]=e(i).text()}),n=u.join(",")}else a=e("#"+t+"_"+c+" option:selected",r.rows[t]).val(),n=e("#"+t+"_"+c+" option:selected",r.rows[t]).text();l.formatter&&(n=a);break;case"checkbox":var p=["Yes","No"];l.editoptions&&(p=l.editoptions.value.split(":")),a=e("#"+t+"_"+c,r.rows[t]).is(":checked")?p[0]:p[1],n=a;break;case"password":case"text":case"textarea":case"button":a=e("#"+t+"_"+c,r.rows[t]).val(),n=a;break;case"custom":try{if(!l.editoptions||!e.isFunction(l.editoptions.custom_value))throw"e1";if(void 0===(a=l.editoptions.custom_value.call(r,e(".customelement",o),"get")))throw"e2";n=a}catch(t){"e1"===t&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,t.message,e.jgrid.edit.bClose)}}if(n!==r.p.savedRow[s].v){var f=e(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[t].id,d,a,t,i]);if(f&&(a=f,n=f),e.isFunction(r.p.beforeSaveCell)){var g=r.p.beforeSaveCell.call(r,r.rows[t].id,d,a,t,i);g&&(a=g,n=g)}var m=e.jgrid.checkValues.call(r,a,i);if(!0===m[0]){var v=e(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[t].id,d,a,t,i])||{};if(e.isFunction(r.p.beforeSubmitCell)&&((v=r.p.beforeSubmitCell.call(r,r.rows[t].id,d,a,t,i))||(v={})),e("input.hasDatepicker",o).length>0&&e("input.hasDatepicker",o).datepicker("hide"),"remote"===r.p.cellsubmit)if(r.p.cellurl){var b={};r.p.autoencode&&(a=e.jgrid.htmlEncode(a)),b[d]=a;var w,_,y;y=r.p.prmNames,w=y.id,_=y.oper,b[w]=e.jgrid.stripPref(r.p.idPrefix,r.rows[t].id),b[_]=y.editoper,b=e.extend(v,b),e("#lui_"+e.jgrid.jqID(r.p.id)).show(),r.grid.hDiv.loading=!0,e.ajax(e.extend({url:r.p.cellurl,data:e.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,b):b,type:"POST",complete:function(s,l){if(e("#lui_"+r.p.id).hide(),r.grid.hDiv.loading=!1,"success"===l){var c=e(r).triggerHandler("jqGridAfterSubmitCell",[r,s,b.id,d,a,t,i])||[!0,""];!0===c[0]&&e.isFunction(r.p.afterSubmitCell)&&(c=r.p.afterSubmitCell.call(r,s,b.id,d,a,t,i)),!0===c[0]?(e(o).empty(),e(r).jqGrid("setCell",r.rows[t].id,i,n,!1,!1,!0),e(o).addClass("dirty-cell"),e(r.rows[t]).addClass("edited"),e(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,d,a,t,i]),e.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,d,a,t,i),r.p.savedRow.splice(0,1)):(e.jgrid.info_dialog(e.jgrid.errors.errcap,c[1],e.jgrid.edit.bClose),e(r).jqGrid("restoreCell",t,i))}},error:function(s,a,n){e("#lui_"+e.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,e(r).triggerHandler("jqGridErrorCell",[s,a,n]),e.isFunction(r.p.errorCell)?(r.p.errorCell.call(r,s,a,n),e(r).jqGrid("restoreCell",t,i)):(e.jgrid.info_dialog(e.jgrid.errors.errcap,s.status+" : "+s.statusText+"<br/>"+a,e.jgrid.edit.bClose),e(r).jqGrid("restoreCell",t,i))}},e.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else try{e.jgrid.info_dialog(e.jgrid.errors.errcap,e.jgrid.errors.nourl,e.jgrid.edit.bClose),e(r).jqGrid("restoreCell",t,i)}catch(e){}"clientArray"===r.p.cellsubmit&&(e(o).empty(),e(r).jqGrid("setCell",r.rows[t].id,i,n,!1,!1,!0),e(o).addClass("dirty-cell"),e(r.rows[t]).addClass("edited"),e(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,d,a,t,i]),e.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,d,a,t,i),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){e.jgrid.info_dialog(e.jgrid.errors.errcap,a+" "+m[1],e.jgrid.edit.bClose)},100),e(r).jqGrid("restoreCell",t,i)}catch(e){}}else e(r).jqGrid("restoreCell",t,i)}window.setTimeout(function(){e("#"+e.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var s,r=this;if(r.grid&&!0===r.p.cellEdit){if(null!==(s=r.p.savedRow.length>=1?0:null)){var a=e("td:eq("+i+")",r.rows[t]);if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",a).datepicker("hide")}catch(e){}e(a).empty().attr("tabindex","-1"),e(r).jqGrid("setCell",r.rows[t].id,i,r.p.savedRow[s].v,!1,!1,!0),e(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[t].id,r.p.savedRow[s].v,t,i]),e.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[t].id,r.p.savedRow[s].v,t,i),r.p.savedRow.splice(0,1)}window.setTimeout(function(){e("#"+r.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var s,r=this,a=!1;if(r.grid&&!0===r.p.cellEdit){for(s=i+1;s<r.p.colModel.length;s++)if(!0===r.p.colModel[s].editable){a=s;break}!1!==a?e(r).jqGrid("editCell",t,a,!0):r.p.savedRow.length>0&&e(r).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var s,r=this,a=!1;if(r.grid&&!0===r.p.cellEdit){for(s=i-1;s>=0;s--)if(!0===r.p.colModel[s].editable){a=s;break}!1!==a?e(r).jqGrid("editCell",t,a,!0):r.p.savedRow.length>0&&e(r).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function t(t,i,r){if("v"===r.substr(0,1)){var a=e(s.grid.bDiv)[0].clientHeight,n=e(s.grid.bDiv)[0].scrollTop,o=s.rows[t].offsetTop+s.rows[t].clientHeight,l=s.rows[t].offsetTop;"vd"===r&&o>=a&&(e(s.grid.bDiv)[0].scrollTop=e(s.grid.bDiv)[0].scrollTop+s.rows[t].clientHeight),"vu"===r&&l<n&&(e(s.grid.bDiv)[0].scrollTop=e(s.grid.bDiv)[0].scrollTop-s.rows[t].clientHeight)}if("h"===r){var d=e(s.grid.bDiv)[0].clientWidth,c=e(s.grid.bDiv)[0].scrollLeft,h=s.rows[t].cells[i].offsetLeft+s.rows[t].cells[i].clientWidth,u=s.rows[t].cells[i].offsetLeft;h>=d+parseInt(c,10)?e(s.grid.bDiv)[0].scrollLeft=e(s.grid.bDiv)[0].scrollLeft+s.rows[t].cells[i].clientWidth:u<c&&(e(s.grid.bDiv)[0].scrollLeft=e(s.grid.bDiv)[0].scrollLeft-s.rows[t].cells[i].clientWidth)}}function i(e,t){var i,r;if("lft"===t)for(i=e+1,r=e;r>=0;r--)if(!0!==s.p.colModel[r].hidden){i=r;break}if("rgt"===t)for(i=e-1,r=e;r<s.p.colModel.length;r++)if(!0!==s.p.colModel[r].hidden){i=r;break}return i}var s=this;if(s.grid&&!0===s.p.cellEdit){s.p.knv=s.p.id+"_kn";var r,a,n=e("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+s.p.knv+"'></div></div>");e(n).insertBefore(s.grid.cDiv),e("#"+s.p.knv).focus().keydown(function(n){switch(a=n.keyCode,"rtl"===s.p.direction&&(37===a?a=39:39===a&&(a=37)),a){case 38:s.p.iRow-1>0&&(t(s.p.iRow-1,s.p.iCol,"vu"),e(s).jqGrid("editCell",s.p.iRow-1,s.p.iCol,!1));break;case 40:s.p.iRow+1<=s.rows.length-1&&(t(s.p.iRow+1,s.p.iCol,"vd"),e(s).jqGrid("editCell",s.p.iRow+1,s.p.iCol,!1));break;case 37:s.p.iCol-1>=0&&(r=i(s.p.iCol-1,"lft"),t(s.p.iRow,r,"h"),e(s).jqGrid("editCell",s.p.iRow,r,!1));break;case 39:s.p.iCol+1<=s.p.colModel.length-1&&(r=i(s.p.iCol+1,"rgt"),t(s.p.iRow,r,"h"),e(s).jqGrid("editCell",s.p.iRow,r,!1));break;case 13:parseInt(s.p.iCol,10)>=0&&parseInt(s.p.iRow,10)>=0&&e(s).jqGrid("editCell",s.p.iRow,s.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var s,r=this;r.grid&&!0===r.p.cellEdit&&e(r.rows).each(function(a){var n={};e(this).hasClass("edited")&&(e("td",this).each(function(i){if("cb"!==(s=r.p.colModel[i].name)&&"subgrid"!==s)if("dirty"===t){if(e(this).hasClass("dirty-cell"))try{n[s]=e.unformat.call(r,this,{rowId:r.rows[a].id,colModel:r.p.colModel[i]},i)}catch(t){n[s]=e.jgrid.htmlDecode(e(this).html())}}else try{n[s]=e.unformat.call(r,this,{rowId:r.rows[a].id,colModel:r.p.colModel[i]},i)}catch(t){n[s]=e.jgrid.htmlDecode(e(this).html())}}),n.id=this.id,i.push(n))})}),i}})}(jQuery),function(e){"use strict";e.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,i,s=this,r={plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(s.p.subGridOptions=e.extend(r,s.p.subGridOptions||{}),s.p.colNames.unshift(""),s.p.colModel.unshift({name:"subgrid",width:e.jgrid.cell_width?s.p.subGridWidth+s.p.cellLayout:s.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=s.p.subGridModel,t[0])for(t[0].align=e.extend([],t[0].align||[]),i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"})},addSubGridCell:function(e,t){var i,s,r="";return this.each(function(){r=this.formatCol(e,t),s=this.p.id,i=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+s+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+r+"><a style='cursor:pointer;'><span class='ui-icon "+i+"'></span></a></td>"},addSubGrid:function(t,i){return this.each(function(){var s=this;if(s.grid){var r,a,n,o,l,d=function(t,i,r){var a=e("<td align='"+s.p.subGridModel[0].align[r]+"'></td>").html(i);e(t).append(a)},c=function(t,i){var r,a,n,o=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),l=e("<tr></tr>");for(a=0;a<s.p.subGridModel[0].name.length;a++)r=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+s.p.direction+"'></th>"),e(r).html(s.p.subGridModel[0].name[a]),e(r).width(s.p.subGridModel[0].width[a]),e(l).append(r);e(o).append(l),t&&(n=s.p.xmlReader.subgrid,e(n.root+" "+n.row,t).each(function(){if(l=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===n.repeatitems)e(n.cell,this).each(function(t){d(l,e(this).text()||"&#160;",t)});else{var t=s.p.subGridModel[0].mapping||s.p.subGridModel[0].name;if(t)for(a=0;a<t.length;a++)d(l,e(t[a],this).text()||"&#160;",a)}e(o).append(l)}));var c=e("table:first",s.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(c+i)).append(o),s.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(s.p.id)).hide(),!1},h=function(t,i){var r,a,n,o,l,c,h=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),u=e("<tr></tr>");for(n=0;n<s.p.subGridModel[0].name.length;n++)r=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+s.p.direction+"'></th>"),e(r).html(s.p.subGridModel[0].name[n]),e(r).width(s.p.subGridModel[0].width[n]),e(u).append(r);if(e(h).append(u),t&&(l=s.p.jsonReader.subgrid,void 0!==(a=e.jgrid.getAccessor(t,l.root))))for(n=0;n<a.length;n++){if(o=a[n],u=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===l.repeatitems)for(l.cell&&(o=o[l.cell]),c=0;c<o.length;c++)d(u,o[c]||"&#160;",c);else{var p=s.p.subGridModel[0].mapping||s.p.subGridModel[0].name;if(p.length)for(c=0;c<p.length;c++)d(u,o[p[c]]||"&#160;",c)}e(h).append(u)}var f=e("table:first",s.grid.bDiv).attr("id")+"_";return e("#"+e.jgrid.jqID(f+i)).append(h),s.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(s.p.id)).hide(),!1},u=function(t){var i,r,a,n;if(i=e(t).attr("id"),r={nd_:(new Date).getTime()},r[s.p.prmNames.subgridid]=i,!s.p.subGridModel[0])return!1;if(s.p.subGridModel[0].params)for(n=0;n<s.p.subGridModel[0].params.length;n++)for(a=0;a<s.p.colModel.length;a++)s.p.colModel[a].name===s.p.subGridModel[0].params[n]&&(r[s.p.colModel[a].name]=e("td:eq("+a+")",t).text().replace(/\&#160\;/gi,""));if(!s.grid.hDiv.loading)switch(s.grid.hDiv.loading=!0,e("#load_"+e.jgrid.jqID(s.p.id)).show(),s.p.subgridtype||(s.p.subgridtype=s.p.datatype),e.isFunction(s.p.subgridtype)?s.p.subgridtype.call(s,r):s.p.subgridtype=s.p.subgridtype.toLowerCase(),s.p.subgridtype){case"xml":case"json":e.ajax(e.extend({type:s.p.mtype,url:s.p.subGridUrl,dataType:s.p.subgridtype,data:e.isFunction(s.p.serializeSubGridData)?s.p.serializeSubGridData.call(s,r):r,complete:function(t){"xml"===s.p.subgridtype?c(t.responseXML,i):h(e.jgrid.parse(t.responseText),i),t=null}},e.jgrid.ajaxOptions,s.p.ajaxSubgridOptions||{}))}return!1},p=0;e.each(s.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||p++});var f=s.rows.length,g=1;for(void 0!==i&&i>0&&(g=i,f=i+1);g<f;)e(s.rows[g]).hasClass("jqgrow")&&(s.p.scroll&&e(s.rows[g].cells[t]).unbind("click"),e(s.rows[g].cells[t]).bind("click",function(){var i=e(this).parent("tr")[0];if(l=i.nextSibling,e(this).hasClass("sgcollapsed")){if(a=s.p.id,r=i.id,!0===s.p.subGridOptions.reloadOnExpand||!1===s.p.subGridOptions.reloadOnExpand&&!e(l).hasClass("ui-subgrid")){if(n=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",o=e(s).triggerHandler("jqGridSubGridBeforeExpand",[a+"_"+r,r]),o=!1!==o&&"stop"!==o,o&&e.isFunction(s.p.subGridBeforeExpand)&&(o=s.p.subGridBeforeExpand.call(s,a+"_"+r,r)),!1===o)return!1;e(i).after("<tr role='row' class='ui-subgrid'>"+n+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+s.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(s.p.colNames.length-1-p,10)+"' class='ui-widget-content subgrid-data'><div id="+a+"_"+r+" class='tablediv'></div></td></tr>"),e(s).triggerHandler("jqGridSubGridRowExpanded",[a+"_"+r,r]),e.isFunction(s.p.subGridRowExpanded)?s.p.subGridRowExpanded.call(s,a+"_"+r,r):u(i)}else e(l).show();e(this).html("<a style='cursor:pointer;'><span class='ui-icon "+s.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),s.p.subGridOptions.selectOnExpand&&e(s).jqGrid("setSelection",r)}else if(e(this).hasClass("sgexpanded")){if(o=e(s).triggerHandler("jqGridSubGridRowColapsed",[a+"_"+r,r]),o=!1!==o&&"stop"!==o,r=i.id,o&&e.isFunction(s.p.subGridRowColapsed)&&(o=s.p.subGridRowColapsed.call(s,a+"_"+r,r)),!1===o)return!1;!0===s.p.subGridOptions.reloadOnExpand?e(l).remove(".ui-subgrid"):e(l).hasClass("ui-subgrid")&&e(l).hide(),e(this).html("<a style='cursor:pointer;'><span class='ui-icon "+s.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),s.p.subGridOptions.selectOnCollapse&&e(s).jqGrid("setSelection",r)}return!1})),g++;!0===s.p.subGridOptions.expandOnLoad&&e(s.rows).filter(".jqgrow").each(function(t,i){e(i.cells[0]).click()}),s.subGridXml=function(e,t){c(e,t)},s.subGridJson=function(e,t){h(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&!0===i.p.subGrid){var s=e(this).jqGrid("getInd",t,!0);if(s){var r=e("td.sgcollapsed",s)[0];r&&e(r).trigger("click")}}})},collapseSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&!0===i.p.subGrid){var s=e(this).jqGrid("getInd",t,!0);if(s){var r=e("td.sgexpanded",s)[0];r&&e(r).trigger("click")}}})},toggleSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&!0===i.p.subGrid){var s=e(this).jqGrid("getInd",t,!0);if(s){var r=e("td.sgcollapsed",s)[0];r?e(r).trigger("click"):(r=e("td.sgexpanded",s)[0])&&e(r).trigger("click")}}})}})}(jQuery),function(e){"use strict";e.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)for(var r,a,n,o,l,d,c,h,u=s.p.expColInd,p=s.p.treeReader.expanded_field,f=s.p.treeReader.leaf_field,g=s.p.treeReader.level_field,m=s.p.treeReader.icon_field,v=s.p.treeReader.loaded;t<i;){var b,w=e.jgrid.stripPref(s.p.idPrefix,s.rows[t].id),_=s.p._index[w];if(c=s.p.data[_],"nested"===s.p.treeGridModel&&(c[f]||(r=parseInt(c[s.p.treeReader.left_field],10),a=parseInt(c[s.p.treeReader.right_field],10),c[f]=a===r+1?"true":"false",s.rows[t].cells[s.p._treeleafpos].innerHTML=c[f])),n=parseInt(c[g],10),0===s.p.tree_root_level?(o=n+1,l=n):(o=n,l=n-1),d="<div class='tree-wrap tree-wrap-"+s.p.direction+"' style='width:"+18*o+"px;'>",d+="<div style='"+("rtl"===s.p.direction?"right:":"left:")+18*l+"px;' class='ui-icon ",void 0!==c[v]&&("true"===c[v]||!0===c[v]?c[v]=!0:c[v]=!1),"true"===c[f]||!0===c[f]?(d+=(void 0!==c[m]&&""!==c[m]?c[m]:s.p.treeIcons.leaf)+" tree-leaf treeclick",c[f]=!0,h="leaf"):(c[f]=!1,h=""),c[p]=("true"===c[p]||!0===c[p])&&(c[v]||void 0===c[v]),!1===c[p]?d+=!0===c[f]?"'":s.p.treeIcons.plus+" tree-plus treeclick'":d+=!0===c[f]?"'":s.p.treeIcons.minus+" tree-minus treeclick'",d+="></div></div>",e(s.rows[t].cells[u]).wrapInner("<span class='cell-wrapper"+h+"'></span>").prepend(d),n!==parseInt(s.p.tree_root_level,10)){var y=e(s).jqGrid("getNodeParent",c);b=!y||!y.hasOwnProperty(p)||y[p],b||e(s.rows[t]).css("display","none")}e(s.rows[t].cells[u]).find("div.treeclick").bind("click",function(t){var i=t.target||t.srcElement,r=e.jgrid.stripPref(s.p.idPrefix,e(i,s.rows).closest("tr.jqgrow")[0].id),a=s.p._index[r];return s.p.data[a][f]||(s.p.data[a][p]?(e(s).jqGrid("collapseRow",s.p.data[a]),e(s).jqGrid("collapseNode",s.p.data[a])):(e(s).jqGrid("expandRow",s.p.data[a]),e(s).jqGrid("expandNode",s.p.data[a]))),!1}),!0===s.p.ExpandColClick&&e(s.rows[t].cells[u]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var i=t.target||t.srcElement,r=e.jgrid.stripPref(s.p.idPrefix,e(i,s.rows).closest("tr.jqgrow")[0].id),a=s.p._index[r];return s.p.data[a][f]||(s.p.data[a][p]?(e(s).jqGrid("collapseRow",s.p.data[a]),e(s).jqGrid("collapseNode",s.p.data[a])):(e(s).jqGrid("expandRow",s.p.data[a]),e(s).jqGrid("expandNode",s.p.data[a]))),e(s).jqGrid("setSelection",r),!1}),t++}})},setTreeGrid:function(){return this.each(function(){var t,i,s,r,a=this,n=0,o=!1,l=[];if(a.p.treeGrid){a.p.treedatatype||e.extend(a.p,{treedatatype:a.p.datatype}),a.p.subGrid=!1,a.p.altRows=!1,a.p.pgbuttons=!1,a.p.pginput=!1,a.p.gridview=!0,null===a.p.rowTotal&&(a.p.rowNum=1e4),a.p.multiselect=!1,a.p.rowList=[],a.p.expColInd=0,t="ui-icon-triangle-1-"+("rtl"===a.p.direction?"w":"e"),a.p.treeIcons=e.extend({plus:t,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},a.p.treeIcons||{}),"nested"===a.p.treeGridModel?a.p.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader):"adjacency"===a.p.treeGridModel&&(a.p.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},a.p.treeReader));for(s in a.p.colModel)if(a.p.colModel.hasOwnProperty(s)){i=a.p.colModel[s].name,i!==a.p.ExpandColumn||o||(o=!0,a.p.expColInd=n),n++;for(r in a.p.treeReader)a.p.treeReader.hasOwnProperty(r)&&a.p.treeReader[r]===i&&l.push(i)}e.each(a.p.treeReader,function(t,i){i&&-1===e.inArray(i,l)&&("leaf_field"===t&&(a.p._treeleafpos=n),n++,a.p.colNames.push(i),a.p.colModel.push({name:i,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getNodeChildren",t),r=i.p.treeReader.expanded_field;e(s).each(function(){var t=i.p.idPrefix+e.jgrid.getAccessor(this,i.p.localReader.id);e(e(i).jqGrid("getGridRowById",t)).css("display",""),this[r]&&e(i).jqGrid("expandRow",this)})}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getNodeChildren",t),r=i.p.treeReader.expanded_field;e(s).each(function(){var t=i.p.idPrefix+e.jgrid.getAccessor(this,i.p.localReader.id);e(e(i).jqGrid("getGridRowById",t)).css("display","none"),this[r]&&e(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var s=i.p.treeReader.level_field;e(i.p.data).each(function(){parseInt(this[s],10)===parseInt(i.p.tree_root_level,10)&&t.push(this)});break;case"adjacency":var r=i.p.treeReader.parent_id_field;e(i.p.data).each(function(){null!==this[r]&&"null"!==String(this[r]).toLowerCase()||t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var s=this;switch(s.p.treeGridModel){case"nested":var r=s.p.treeReader.level_field;i=parseInt(t[r],10)-parseInt(s.p.tree_root_level,10);break;case"adjacency":i=e(s).jqGrid("getNodeAncestors",t).length}}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)switch(s.p.treeGridModel){case"nested":var r=s.p.treeReader.left_field,a=s.p.treeReader.right_field,n=s.p.treeReader.level_field,o=parseInt(t[r],10),l=parseInt(t[a],10),d=parseInt(t[n],10);e(this.p.data).each(function(){if(parseInt(this[n],10)===d-1&&parseInt(this[r],10)<o&&parseInt(this[a],10)>l)return i=this,!1});break;case"adjacency":for(var c=s.p.treeReader.parent_id_field,h=s.p.localReader.id,u=t[h],p=s.p._index[u];p--;)if(s.p.data[p][h]===e.jgrid.stripPref(s.p.idPrefix,t[c])){i=s.p.data[p];break}}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)switch(s.p.treeGridModel){case"nested":var r=s.p.treeReader.left_field,a=s.p.treeReader.right_field,n=s.p.treeReader.level_field,o=parseInt(t[r],10),l=parseInt(t[a],10),d=parseInt(t[n],10);e(this.p.data).each(function(){parseInt(this[n],10)===d+1&&parseInt(this[r],10)>o&&parseInt(this[a],10)<l&&i.push(this)});break;case"adjacency":var c=s.p.treeReader.parent_id_field,h=s.p.localReader.id;e(this.p.data).each(function(){this[c]==e.jgrid.stripPref(s.p.idPrefix,t[h])&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var s,r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var a=r.p.treeReader.left_field,n=r.p.treeReader.right_field,o=r.p.treeReader.level_field,l=parseInt(t[a],10),d=parseInt(t[n],10),c=parseInt(t[o],10);e(this.p.data).each(function(){parseInt(this[o],10)>=c&&parseInt(this[a],10)>=l&&parseInt(this[a],10)<=d&&i.push(this)});break;case"adjacency":if(t){i.push(t);var h=r.p.treeReader.parent_id_field,u=r.p.localReader.id;e(this.p.data).each(function(t){for(s=i.length,t=0;t<s;t++)if(e.jgrid.stripPref(r.p.idPrefix,i[t][u])===this[h]){i.push(this);break}})}}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var s=e(this).jqGrid("getNodeParent",t);s;)i.push(s),s=e(this).jqGrid("getNodeParent",s)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid){var r=e(s).jqGrid("getNodeAncestors",t),a=s.p.treeReader.expanded_field;e(r).each(function(){if(!(i=i&&this[a]))return!1})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid){var r=s.p.treeReader.leaf_field,a=s.p.treeReader.loaded;i=void 0!==t&&(void 0!==t[a]?t[a]:!!(t[r]||e(s).jqGrid("getNodeChildren",t).length>0))}}),i},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field,s=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,a=this.p.treeReader.level_field,n=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!t[i]){var l=e.jgrid.getAccessor(t,this.p.localReader.id),d=e("#"+this.p.idPrefix+e.jgrid.jqID(l),this.grid.bDiv)[0],c=this.p._index[l];e(this).jqGrid("isNodeLoaded",this.p.data[c])?(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=d.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:l,n_left:t[n],n_right:t[o],n_level:t[a]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:l,parentid:t[s],n_level:t[a]}}),e(this).trigger("reloadGrid"),t[r]=!0,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field;if(t[i]){t[i]=!1;var s=e.jgrid.getAccessor(t,this.p.localReader.id),r=e("#"+this.p.idPrefix+e.jgrid.jqID(s),this.grid.bDiv)[0];e("div.treeclick",r).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus")}}})},SortTree:function(t,i,s,r){return this.each(function(){if(this.grid&&this.p.treeGrid){var a,n,o,l,d,c=[],h=this,u=e(this).jqGrid("getRootNodes");for(l=e.jgrid.from(u),l.orderBy(t,i,s,r),d=l.select(),a=0,n=d.length;a<n;a++)o=d[a],c.push(o),e(this).jqGrid("collectChildrenSortTree",c,o,t,i,s,r);e.each(c,function(t){var i=e.jgrid.getAccessor(this,h.p.localReader.id);e("#"+e.jgrid.jqID(h.p.id)+" tbody tr:eq("+t+")").after(e("tr#"+e.jgrid.jqID(i),h.grid.bDiv))}),l=null,d=null,c=null}})},collectChildrenSortTree:function(t,i,s,r,a,n){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,l,d,c,h,u;for(c=e(this).jqGrid("getNodeChildren",i),h=e.jgrid.from(c),h.orderBy(s,r,a,n),u=h.select(),o=0,l=u.length;o<l;o++)d=u[o],t.push(d),e(this).jqGrid("collectChildrenSortTree",t,d,s,r,a,n)}})},setTreeRow:function(t,i){var s=!1;return this.each(function(){var r=this;r.grid&&r.p.treeGrid&&(s=e(r).jqGrid("setRowData",t,i))}),s},delTreeNode:function(t){return this.each(function(){var i,s,r,a,n,o=this,l=o.p.localReader.id,d=o.p.treeReader.left_field,c=o.p.treeReader.right_field;if(o.grid&&o.p.treeGrid){var h=o.p._index[t];if(void 0!==h){s=parseInt(o.p.data[h][c],10),r=s-parseInt(o.p.data[h][d],10)+1;var u=e(o).jqGrid("getFullTreeNode",o.p.data[h]);if(u.length>0)for(i=0;i<u.length;i++)e(o).jqGrid("delRowData",u[i][l]);if("nested"===o.p.treeGridModel){if(a=e.jgrid.from(o.p.data).greater(d,s,{stype:"integer"}).select(),a.length)for(n in a)a.hasOwnProperty(n)&&(a[n][d]=parseInt(a[n][d],10)-r);if(a=e.jgrid.from(o.p.data).greater(c,s,{stype:"integer"}).select(),a.length)for(n in a)a.hasOwnProperty(n)&&(a[n][c]=parseInt(a[n][c],10)-r)}}}})},addChildNode:function(t,i,s,r){var a=this[0];if(s){var n,o,l,d,c,h,u,p,f=a.p.treeReader.expanded_field,g=a.p.treeReader.leaf_field,m=a.p.treeReader.level_field,v=a.p.treeReader.parent_id_field,b=a.p.treeReader.left_field,w=a.p.treeReader.right_field,_=a.p.treeReader.loaded,y=0,j=i;if(void 0===r&&(r=!1),void 0===t||null===t){if((c=a.p.data.length-1)>=0)for(;c>=0;)y=Math.max(y,parseInt(a.p.data[c][a.p.localReader.id],10)),c--;t=y+1}var x=e(a).jqGrid("getInd",i);if(u=!1,void 0===i||null===i||""===i)i=null,j=null,n="last",d=a.p.tree_root_level,c=a.p.data.length+1;else{n="after",o=a.p._index[i],l=a.p.data[o],i=l[a.p.localReader.id],d=parseInt(l[m],10)+1;var D=e(a).jqGrid("getFullTreeNode",l);D.length?(c=D[D.length-1][a.p.localReader.id],j=c,c=e(a).jqGrid("getInd",j)+1):c=e(a).jqGrid("getInd",i)+1,l[g]&&(u=!0,l[f]=!0,e(a.rows[x]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(a.p.treeIcons.leaf+" tree-leaf").addClass(a.p.treeIcons.minus+" tree-minus"),a.p.data[o][g]=!1,l[_]=!0)}if(h=c+1,void 0===s[f]&&(s[f]=!1),void 0===s[_]&&(s[_]=!1),s[m]=d,void 0===s[g]&&(s[g]=!0),"adjacency"===a.p.treeGridModel&&(s[v]=i),"nested"===a.p.treeGridModel){var C,k,q;if(null!==i){if(p=parseInt(l[w],10),C=e.jgrid.from(a.p.data),C=C.greaterOrEquals(w,p,{stype:"integer"}),k=C.select(),k.length)for(q in k)k.hasOwnProperty(q)&&(k[q][b]=k[q][b]>p?parseInt(k[q][b],10)+2:k[q][b],k[q][w]=k[q][w]>=p?parseInt(k[q][w],10)+2:k[q][w]);s[b]=p,s[w]=p+1}else{if(p=parseInt(e(a).jqGrid("getCol",w,!1,"max"),10),k=e.jgrid.from(a.p.data).greater(b,p,{stype:"integer"}).select(),k.length)for(q in k)k.hasOwnProperty(q)&&(k[q][b]=parseInt(k[q][b],10)+2);if(k=e.jgrid.from(a.p.data).greater(w,p,{stype:"integer"}).select(),k.length)for(q in k)k.hasOwnProperty(q)&&(k[q][w]=parseInt(k[q][w],10)+2);s[b]=p+1,s[w]=p+2}}(null===i||e(a).jqGrid("isNodeLoaded",l)||u)&&(e(a).jqGrid("addRowData",t,s,n,j),e(a).jqGrid("setTreeNode",c,h)),l&&!l[f]&&r&&e(a.rows[x]).find("div.treeclick").click()}}})}(jQuery),function(e){"use strict";e.extend(e.jgrid,{template:function(t){var i,s=e.makeArray(arguments).slice(1),r=s.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,a){if(!isNaN(parseInt(a,10)))return s[parseInt(a,10)];for(i=0;i<r;i++)if(e.isArray(s[i]))for(var n=s[i],o=n.length;o--;)if(a===n[o].nm)return n[o].v})}}),e.jgrid.extend({groupingSetup:function(){return this.each(function(){var t,i,s,r=this,a=r.p.colModel,n=r.p.groupingView;if(null===n||"object"!=typeof n&&!e.isFunction(n))r.p.grouping=!1;else if(n.groupField.length){for(void 0===n.visibiltyOnNextGrouping&&(n.visibiltyOnNextGrouping=[]),n.lastvalues=[],n._locgr||(n.groups=[]),n.counters=[],t=0;t<n.groupField.length;t++)n.groupOrder[t]||(n.groupOrder[t]="asc"),n.groupText[t]||(n.groupText[t]="{0}"),"boolean"!=typeof n.groupColumnShow[t]&&(n.groupColumnShow[t]=!0),"boolean"!=typeof n.groupSummary[t]&&(n.groupSummary[t]=!1),n.groupSummaryPos[t]||(n.groupSummaryPos[t]="footer"),!0===n.groupColumnShow[t]?(n.visibiltyOnNextGrouping[t]=!0,e(r).jqGrid("showCol",n.groupField[t])):(n.visibiltyOnNextGrouping[t]=e("#"+e.jgrid.jqID(r.p.id+"_"+n.groupField[t])).is(":visible"),e(r).jqGrid("hideCol",n.groupField[t]));for(n.summary=[],n.hideFirstGroupCol&&(n.formatDisplayField[0]=function(e){return e}),i=0,s=a.length;i<s;i++)n.hideFirstGroupCol&&(a[i].hidden||n.groupField[0]!==a[i].name||(a[i].formatter=function(){return""})),a[i].summaryType&&(a[i].summaryDivider?n.summary.push({nm:a[i].name,st:a[i].summaryType,v:"",sd:a[i].summaryDivider,vd:"",sr:a[i].summaryRound,srt:a[i].summaryRoundType||"round"}):n.summary.push({nm:a[i].name,st:a[i].summaryType,v:"",sr:a[i].summaryRound,srt:a[i].summaryRoundType||"round"}))}else r.p.grouping=!1})},groupingPrepare:function(t,i){return this.each(function(){var s,r,a,n,o,l=this.p.groupingView,d=this,c=l.groupField.length,h=0;for(s=0;s<c;s++)r=l.groupField[s],n=l.displayField[s],a=t[r],o=null==n?null:t[n],null==o&&(o=a),void 0!==a&&(0===i?(l.groups.push({idx:s,dataIndex:r,value:a,displayValue:o,startRow:i,cnt:1,summary:[]}),l.lastvalues[s]=a,l.counters[s]={cnt:1,pos:l.groups.length-1,summary:e.extend(!0,[],l.summary)},e.each(l.counters[s].summary,function(){e.isFunction(this.st)?this.v=this.st.call(d,this.v,this.nm,t):(this.v=e(d).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=e(d).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),l.groups[l.counters[s].pos].summary=l.counters[s].summary):"object"==typeof a||(e.isArray(l.isInTheSameGroup)&&e.isFunction(l.isInTheSameGroup[s])?l.isInTheSameGroup[s].call(d,l.lastvalues[s],a,s,l):l.lastvalues[s]===a)?1===h?(l.groups.push({idx:s,dataIndex:r,value:a,displayValue:o,startRow:i,cnt:1,summary:[]}),l.lastvalues[s]=a,l.counters[s]={cnt:1,pos:l.groups.length-1,summary:e.extend(!0,[],l.summary)},e.each(l.counters[s].summary,function(){e.isFunction(this.st)?this.v=this.st.call(d,this.v,this.nm,t):(this.v=e(d).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=e(d).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),l.groups[l.counters[s].pos].summary=l.counters[s].summary):(l.counters[s].cnt+=1,l.groups[l.counters[s].pos].cnt=l.counters[s].cnt,e.each(l.counters[s].summary,function(){e.isFunction(this.st)?this.v=this.st.call(d,this.v,this.nm,t):(this.v=e(d).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=e(d).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),l.groups[l.counters[s].pos].summary=l.counters[s].summary):(l.groups.push({idx:s,dataIndex:r,value:a,displayValue:o,startRow:i,cnt:1,summary:[]}),l.lastvalues[s]=a,h=1,l.counters[s]={cnt:1,pos:l.groups.length-1,summary:e.extend(!0,[],l.summary)},e.each(l.counters[s].summary,function(){e.isFunction(this.st)?this.v=this.st.call(d,this.v,this.nm,t):(this.v=e(d).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,t),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=e(d).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,t)))}),l.groups[l.counters[s].pos].summary=l.counters[s].summary))}),this},groupingToggle:function(t){return this.each(function(){var i=this,s=i.p.groupingView,r=t.split("_"),a=parseInt(r[r.length-2],10);r.splice(r.length-2,2)
;var n,o,l=r.join("_"),d=s.minusicon,c=s.plusicon,h=e("#"+e.jgrid.jqID(t)),u=h.length?h[0].nextSibling:null,p=e("#"+e.jgrid.jqID(t)+" span.tree-wrap-"+i.p.direction),f=function(t){var i=e.map(t.split(" "),function(e){if(e.substring(0,l.length+1)===l+"_")return parseInt(e.substring(l.length+1),10)});return i.length>0?i[0]:void 0},g=!1,m=!!i.p.frozenColumns&&i.p.id+"_frozen",v=!!m&&e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(m)),b=v&&v.length?v[0].nextSibling:null;if(p.hasClass(d)){if(s.showSummaryOnHide){if(u)for(;u;){if(e(u).hasClass("jqfoot")){var w=parseInt(e(u).attr("jqfootlevel"),10);if(w<=a)break}e(u).hide(),u=u.nextSibling,m&&(e(b).hide(),b=b.nextSibling)}}else if(u)for(;u&&!(void 0!==(n=f(u.className))&&n<=a);)e(u).hide(),u=u.nextSibling,m&&(e(b).hide(),b=b.nextSibling);p.removeClass(d).addClass(c),g=!0}else{if(u)for(o=void 0;u;){if(n=f(u.className),void 0===o&&(o=void 0===n),void 0!==n){if(n<=a)break;n===a+1&&(e(u).show().find(">td>span.tree-wrap-"+i.p.direction).removeClass(d).addClass(c),m&&e(b).show().find(">td>span.tree-wrap-"+i.p.direction).removeClass(d).addClass(c))}else o&&(e(u).show(),m&&e(b).show());u=u.nextSibling,m&&(b=b.nextSibling)}p.removeClass(c).addClass(d)}e(i).triggerHandler("jqGridGroupingClickGroup",[t,g]),e.isFunction(i.p.onClickGroup)&&i.p.onClickGroup.call(i,t,g)}),!1},groupingRender:function(t,i,s,r){return this.each(function(){function a(e,t,i){var s,r=!1;if(0===t)r=i[e];else{var a=i[e].idx;if(0===a)r=i[e];else for(s=e;s>=0;s--)if(i[s].idx===a-t){r=i[s];break}}return r}function n(t,s,r,n){var o,l,d=a(t,s,r),h=c.p.colModel,u=d.cnt,p="";for(l=n;l<i;l++){var f="<td "+c.formatCol(l,1,"")+">&#160;</td>",g="{0}";e.each(d.summary,function(){if(this.nm===h[l].name){h[l].summaryTpl&&(g=h[l].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&u>0&&(this.v=this.v/u));try{this.groupCount=d.cnt,this.groupIndex=d.dataIndex,this.groupValue=d.value,o=c.formatter("",this.v,l,this)}catch(e){o=this.v}return f="<td "+c.formatCol(l,1,"")+">"+e.jgrid.format(g,o)+"</td>",!1}}),p+=f}return p}var o,l,d,c=this,h=c.p.groupingView,u="",p="",f=h.groupCollapse?h.plusicon:h.minusicon,g=[],m=h.groupField.length;f+=" tree-wrap-"+c.p.direction,e.each(c.p.colModel,function(e,t){var i;for(i=0;i<m;i++)if(h.groupField[i]===t.name){g[i]=e;break}});var v,b=0,w=e.makeArray(h.groupSummary);w.reverse(),v=c.p.multiselect?' colspan="2"':"",e.each(h.groups,function(a,_){if(h._locgr&&!(_.startRow+_.cnt>(s-1)*r&&_.startRow<s*r))return!0;b++,l=c.p.id+"ghead_"+_.idx,o=l+"_"+a,p="<span style='cursor:pointer;' class='ui-icon "+f+"' onclick=\"jQuery('#"+e.jgrid.jqID(c.p.id)+"').jqGrid('groupingToggle','"+o+"');return false;\"></span>";try{e.isArray(h.formatDisplayField)&&e.isFunction(h.formatDisplayField[_.idx])?(_.displayValue=h.formatDisplayField[_.idx].call(c,_.displayValue,_.value,c.p.colModel[g[_.idx]],_.idx,h),d=_.displayValue):d=c.formatter(o,_.displayValue,g[_.idx],_.value)}catch(e){d=_.displayValue}if("header"===h.groupSummaryPos[_.idx]?(u+='<tr id="'+o+'"'+(h.groupCollapse&&_.idx>0?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+c.p.direction+" "+l+'"><td style="padding-left:'+12*_.idx+'px;"'+v+">"+p+e.jgrid.template(h.groupText[_.idx],d,_.cnt,_.summary)+"</td>",u+=n(a,_.idx-1,h.groups,""===v?1:2),u+="</tr>"):u+='<tr id="'+o+'"'+(h.groupCollapse&&_.idx>0?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+c.p.direction+" "+l+'"><td style="padding-left:'+12*_.idx+'px;" colspan="'+i+'">'+p+e.jgrid.template(h.groupText[_.idx],d,_.cnt,_.summary)+"</td></tr>",m-1===_.idx){var y,j,x=h.groups[a+1],D=0,C=_.startRow,k=void 0!==x?x.startRow:h.groups[a].startRow+h.groups[a].cnt;for(h._locgr&&(D=(s-1)*r)>_.startRow&&(C=D),y=C;y<k&&t[y-D];y++)u+=t[y-D].join("");if("header"!==h.groupSummaryPos[_.idx]){var q;if(void 0!==x){for(q=0;q<h.groupField.length&&x.dataIndex!==h.groupField[q];q++);b=h.groupField.length-q}for(j=0;j<b;j++)if(w[j]){var $="";h.groupCollapse&&!h.showSummaryOnHide&&($=' style="display:none;"'),u+="<tr"+$+' jqfootlevel="'+(_.idx-j)+'" role="row" class="ui-widget-content jqfoot ui-row-'+c.p.direction+'">',u+=n(a,j,h.groups,0),u+="</tr>"}b=q}}}),e("#"+e.jgrid.jqID(c.p.id)+" tbody:first").append(u),u=null})},groupingGroupBy:function(t,i){return this.each(function(){var s=this;"string"==typeof t&&(t=[t]);var r=s.p.groupingView;s.p.grouping=!0,void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]);var a;for(a=0;a<r.groupField.length;a++)!r.groupColumnShow[a]&&r.visibiltyOnNextGrouping[a]&&e(s).jqGrid("showCol",r.groupField[a]);for(a=0;a<t.length;a++)r.visibiltyOnNextGrouping[a]=e("#"+e.jgrid.jqID(s.p.id)+"_"+e.jgrid.jqID(t[a])).is(":visible");s.p.groupingView=e.extend(s.p.groupingView,i||{}),r.groupField=t,e(s).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){var i=this;if(void 0===t&&(t=!0),i.p.grouping=!1,!0===t){var s,r=i.p.groupingView;for(s=0;s<r.groupField.length;s++)!r.groupColumnShow[s]&&r.visibiltyOnNextGrouping[s]&&e(i).jqGrid("showCol",r.groupField);e("tr.jqgroup, tr.jqfoot","#"+e.jgrid.jqID(i.p.id)+" tbody:first").remove(),e("tr.jqgrow:hidden","#"+e.jgrid.jqID(i.p.id)+" tbody:first").show()}else e(i).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,s,r,a){var n={sum:function(){return parseFloat(t||0)+parseFloat(a[i]||0)},min:function(){return""===t?parseFloat(a[i]||0):Math.min(parseFloat(t),parseFloat(a[i]||0))},max:function(){return""===t?parseFloat(a[i]||0):Math.max(parseFloat(t),parseFloat(a[i]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(i)?t+1:0},avg:function(){return n.sum()}};if(!n[e])throw"jqGrid Grouping No such method: "+e;var o=n[e]();if(null!=s)if("fixed"===r)o=o.toFixed(s);else{var l=Math.pow(10,s);o=Math.round(o*l)/l}return o}}})}(jQuery),function(e){"use strict";e.jgrid.extend({jqGridImport:function(t){return t=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i=this,s=function(t,s){var r,a,n,o=e(s.xmlGrid.config,t)[0],l=e(s.xmlGrid.data,t)[0];if(xmlJsonClass.xml2json&&e.jgrid.parse){r=xmlJsonClass.xml2json(o," "),r=e.jgrid.parse(r);for(n in r)r.hasOwnProperty(n)&&(a=r[n]);if(l){var d=r.grid.datatype;r.grid.datatype="xmlstring",r.grid.datastr=t,e(i).jqGrid(a).jqGrid("setGridParam",{datatype:d})}else e(i).jqGrid(a);r=null,a=null}else alert("xml2json or parse are not present")},r=function(t,s){if(t&&"string"==typeof t){var r=!1;e.jgrid.useJSON&&(e.jgrid.useJSON=!1,r=!0);var a=e.jgrid.parse(t);r&&(e.jgrid.useJSON=!0);var n=a[s.jsonGrid.config],o=a[s.jsonGrid.data];if(o){var l=n.datatype;n.datatype="jsonstring",n.datastr=o,e(i).jqGrid(n).jqGrid("setGridParam",{datatype:l})}else e(i).jqGrid(n)}};switch(t.imptype){case"xml":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(r,a){"success"===a&&(s(r.responseXML,t),e(i).triggerHandler("jqGridImportComplete",[r,t]),e.isFunction(t.importComplete)&&t.importComplete(r)),r=null}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var a=e.parseXML(t.impstring);a&&(s(a,t),e(i).triggerHandler("jqGridImportComplete",[a,t]),e.isFunction(t.importComplete)&&t.importComplete(a),t.impstring=null),a=null}break;case"json":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(s){try{r(s.responseText,t),e(i).triggerHandler("jqGridImportComplete",[s,t]),e.isFunction(t.importComplete)&&t.importComplete(s)}catch(e){}s=null}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(r(t.impstring,t),e(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),e.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){t=e.extend({exptype:"xmlstring",root:"grid",ident:"\t"},t||{});var i=null;return this.each(function(){if(this.grid){var s,r=e.extend(!0,{},e(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(s in r.treeReader)r.treeReader.hasOwnProperty(s)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(r,t.ident)+"</"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(r,t.root,t.ident,!1)+"}",void 0!==r.postData.filters&&(i=i.replace(/filters":"/,'filters":'),i=i.replace(/}]}"/,"}]}"))}}}),i},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var i;if("remote"===t.exptype){var s=e.extend({},this.p.postData);s[t.oper]=t.tag;var r=jQuery.param(s);i=-1!==t.url.indexOf("?")?t.url+"&"+r:t.url+"?"+r,window.location=i}}})}})}(jQuery),function($){"use strict";if($.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var s=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(s)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,s=$.jgrid.jqID(i.p.id),r={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+s+"_cb,#jqgh_"+s+"_rn,#jqgh_"+s+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var s=$(t.item).parent(),r=$(">th",s),a=i.p.colModel,n={},o=i.p.id+"_";$.each(a,function(e){n[this.name]=e});var l=[];r.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,"");n.hasOwnProperty(e)&&l.push(n[e])}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?$.extend(r,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),r.start){var a=r.start;r.start=function(e,i){t(),a.call(this,e,i)}}else r.start=t;i.p.sortable.exclude&&(r.items+=":not("+i.p.sortable.exclude+")"),e.sortable(r).data("sortable").floating=!0})},columnChooser:function(e){function t(e,t,i){if(t>=0){var s=e.slice(),r=s.splice(t,Math.max(e.length-t,t));return t>e.length&&(t=e.length),s[t]=i,s.concat(r)}}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var s=this;if(!$("#colchooser_"+$.jgrid.jqID(s[0].p.id)).length){var r=$('<div id="colchooser_'+s[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),a=$("select",r);if(e=$.extend({width:420,height:240,classname:null,done:function(e){e&&s.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+20},e.dialog_opts||{})},apply_perm:function(){$("option",a).each(function(){this.selected?s.jqGrid("showCol",n[this.value].name):s.jqGrid("hideCol",n[this.value].name)});var i=[];$("option:selected",a).each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete l[n[parseInt(this,10)].name]}),$.each(l,function(){var e=parseInt(this,10);i=t(i,e,e)}),e.done&&e.done.call(s,i)},cleanup:function(t){i(e.dlog,r,"destroy"),i(e.msel,a,"destroy"),r.remove(),t&&e.done&&e.done.call(s)},msel_opts:{}},$.jgrid.col,e||{}),$.ui&&$.ui.multiselect&&"multiselect"===e.msel){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),a.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),a.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),a.css("height",e.height-10));var n=s.jqGrid("getGridParam","colModel"),o=s.jqGrid("getGridParam","colNames"),l={},d=[];a.empty(),$.each(n,function(e){if(l[this.name]=e,this.hidedlg)return void(this.hidden||d.push(e));a.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(o[e])+"</option>")});var c=$.isFunction(e.dlog_opts)?e.dlog_opts.call(s,e):e.dlog_opts;i(e.dlog,r,c);var h=$.isFunction(e.msel_opts)?e.msel_opts.call(s,e):e.msel_opts;i(e.msel,a,h)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,s){if($(s.item).css("border-width","0"),$("td",s.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var r=$(s.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",r)}catch(e){}}e._start_&&e._start_.apply(this,[i,s])},e.update=function(i,s){$(s.item).css("border-width",""),!0===t.p.rownumbers&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[i,s])},$("tbody:first",t).sortable(e),$("tbody:first",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(r,"dnd");$("tr.jqgrow:not(.ui-draggable)",r).draggable($.isFunction(e.drag)?e.drag.call($(r),e):e.drag)}var i,s,r=this;if(r.grid&&!r.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof e&&"updateDnD"===e&&!0===r.p.jqgdnd)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var s,a;if(r.p.subGrid){a=$(i.helper).attr("id");try{$(r).jqGrid("collapseSubGridRow",a)}catch(e){}}for(s=0;s<$.data(r,"dnd").connectWith.length;s++)0===$($.data(r,"dnd").connectWith[s]).jqGrid("getGridParam","reccount")&&$($.data(r,"dnd").connectWith[s]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=r.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(r),t,i)},stop:function(t,i){var s,a;for(i.helper.dropped&&!e.dragcopy&&(a=$(i.helper).attr("id"),void 0===a&&(a=$(this).attr("id")),$(r).jqGrid("delRowData",a)),s=0;s<$.data(r,"dnd").connectWith.length;s++)$($.data(r,"dnd").connectWith[s]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(r),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var s=$(i.draggable).attr("id"),a=i.draggable.parent().parent().jqGrid("getRowData",s);if(!e.dropbyname){var n,o,l=0,d={},c=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(o in a)a.hasOwnProperty(o)&&(n=c[l].name,"cb"!==n&&"rn"!==n&&"subgrid"!==n&&a.hasOwnProperty(o)&&c[l]&&(d[n]=a[o]),l++);a=d}catch(e){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var h=e.beforedrop.call(this,t,i,a,$("#"+$.jgrid.jqID(r.p.id)),$(this));void 0!==h&&null!==h&&"object"==typeof h&&(a=h)}if(i.helper.dropped){var u;e.autoid&&($.isFunction(e.autoid)?u=e.autoid.call(this,a):(u=Math.ceil(1e3*Math.random()),u=e.autoidprefix+u)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",u,a,e.droppos)}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(r,"dnd",e),0===r.p.reccount||r.p.jqgdnd||t(),r.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)s=e.connectWith[i],$(s).droppable($.isFunction(e.drop)?e.drop.call($(r),e):e.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id);if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t)},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}})}(jQuery),function(e){"use strict";function t(e,t){var i,s,r,a=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(r=this.length,i=0;i<r;i++)if(this.hasOwnProperty(i)&&(s=this[i],e.call(t,s,i,this))){a.push(s);break}return a}e.assocArraySize=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},e.jgrid.extend({pivotSetup:function(i,s){var r=[],a=[],n=[],o=[],l={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},d=[],c=e.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},s||{});return this.each(function(){function s(e,t){var i,s=0,r=!0;for(i in e){if(e[i]!=this[s]){r=!1;break}if(++s>=this.length)break}return r&&(g=t),r}function h(e,t,i,s){var r;switch(e){case"sum":r=parseFloat(t||0)+parseFloat(s[i]||0);break;case"count":""!==t&&null!=t||(t=0),r=s.hasOwnProperty(i)?t+1:0;break;case"min":r=""===t||null==t?parseFloat(s[i]||0):Math.min(parseFloat(t),parseFloat(s[i]||0));break;case"max":r=""===t||null==t?parseFloat(s[i]||0):Math.max(parseFloat(t),parseFloat(s[i]||0))}return r}function u(t,i,s,r){var a,n,l,d,c=i.length;for(d=e.isArray(s)?s.length:1,o=[],o.root=0,l=0;l<d;l++){var u,p=[];for(a=0;a<c;a++){if(null==s)n=e.trim(i[a].member)+"_"+i[a].aggregator,u=n;else{u=s[l].replace(/\s+/g,"");try{n=1===c?u:u+"_"+i[a].aggregator+"_"+a}catch(e){}}n=isNaN(parseInt(n,10))?n:n+" ",r[n]=p[n]=h(i[a].aggregator,r[n],i[a].member,t)}u=isNaN(parseInt(u,10))?u:u+" ",o[u]=p}return r}function p(e){var t,i,s,a,n;for(s in e)if(e.hasOwnProperty(s)){if("object"!=typeof e[s]){if("level"===s){if(void 0===G[e.level]&&(G[e.level]="",e.level>0&&"_r_Totals"!==e.text&&(d[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),G[e.level]!==e.text&&e.children.length&&"_r_Totals"!==e.text&&e.level>0){d[e.level-1].groupHeaders.push({titleText:e.text});var o=d[e.level-1].groupHeaders.length,l=1===o?A:N+(o-1)*w;d[e.level-1].groupHeaders[o-1].startColumnName=r[l].name,d[e.level-1].groupHeaders[o-1].numberOfColumns=r.length-l,N=r.length}G[e.level]=e.text}if(e.level===b&&"level"===s&&b>0)if(w>1){var h=1;for(t in e.fields)1===h&&d[b-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.text}),h++;d[b-1].groupHeaders[d[b-1].groupHeaders.length-1].numberOfColumns=h-1}else d.splice(b-1,1)}if(null!=e[s]&&"object"==typeof e[s]&&p(e[s]),"level"===s&&e.level>0){i=0;for(t in e.fields){n={};for(a in c.aggregates[i])if(c.aggregates[i].hasOwnProperty(a))switch(a){case"member":case"label":case"aggregator":break;default:n[a]=c.aggregates[i][a]}w>1?(n.name=t,n.label=c.aggregates[i].label||t):(n.name=e.text,n.label="_r_Totals"===e.text?c.rowTotalsText:e.text),r.push(n),i++}}}}var f,g,m,v,b,w,_,y,j=i.length,x=0;if(c.rowTotals&&c.yDimension.length>0){var D=c.yDimension[0].dataName;c.yDimension.splice(0,0,{dataName:D}),c.yDimension[0].converter=function(){return"_r_Totals"}}if(v=e.isArray(c.xDimension)?c.xDimension.length:0,b=c.yDimension.length,w=e.isArray(c.aggregates)?c.aggregates.length:0,0===v||0===w)throw"xDimension or aggregates optiona are not set!";var C;for(m=0;m<v;m++)C={name:c.xDimension[m].dataName,frozen:c.frozenStaticCols},null==c.xDimension[m].isGroupField&&(c.xDimension[m].isGroupField=!0),C=e.extend(!0,C,c.xDimension[m]),r.push(C);for(var k=v-1,q={};x<j;){f=i[x];var $=[],I=[];_={},m=0;do{$[m]=e.trim(f[c.xDimension[m].dataName]),_[c.xDimension[m].dataName]=$[m],m++}while(m<v);var S=0;if(g=-1,y=function(e,i,s){var r;return r=t.call(e,i,s),r.length>0?r[0]:null}(a,s,$)){if(g>=0){if(S=0,b>=1){for(S=0;S<b;S++)I[S]=e.trim(f[c.yDimension[S].dataName]),c.yDimension[S].converter&&e.isFunction(c.yDimension[S].converter)&&(I[S]=c.yDimension[S].converter.call(this,I[S],$,I));y=u(f,c.aggregates,I,y)}else 0===b&&(y=u(f,c.aggregates,null,y));a[g]=y}}else{if(S=0,b>=1){for(S=0;S<b;S++)I[S]=e.trim(f[c.yDimension[S].dataName]),c.yDimension[S].converter&&e.isFunction(c.yDimension[S].converter)&&(I[S]=c.yDimension[S].converter.call(this,I[S],$,I));_=u(f,c.aggregates,I,_)}else 0===b&&(_=u(f,c.aggregates,null,_));a.push(_)}var M,P=0,F=null,T=null;for(M in o){if(0===P)q.children&&void 0!==q.children||(q={text:M,level:0,children:[]}),F=q.children;else{for(T=null,m=0;m<F.length;m++)if(F[m].text===M){T=F[m];break}T?F=T.children:(F.push({children:[],text:M,level:P,fields:o[M]}),F=F[F.length-1].children)}P++}x++}var G=[],N=r.length,A=N;b>0&&(d[b-1]={useColSpanStyle:!1,groupHeaders:[]}),p(q,0);var R;if(c.colTotals)for(var E=a.length;E--;)for(m=v;m<r.length;m++)R=r[m].name,n[R]?n[R]+=parseFloat(a[E][R]||0):n[R]=parseFloat(a[E][R]||0);if(k>0)for(m=0;m<k;m++)r[m].isGroupField&&(l.groupingView.groupField.push(r[m].name),l.groupingView.groupSummary.push(c.groupSummary),l.groupingView.groupSummaryPos.push(c.groupSummaryPos));else l.grouping=!1;l.sortname=r[k].name,l.groupingView.hideFirstGroupCol=!0}),{colModel:r,rows:a,groupOptions:l,groupHeaders:d,summary:n}},jqPivot:function(t,i,s,r){return this.each(function(){function a(t){var r,a=jQuery(n).jqGrid("pivotSetup",t,i),o=e.assocArraySize(a.summary)>0,l=e.jgrid.from(a.rows);for(r=0;r<a.groupOptions.groupingView.groupField.length;r++)l.orderBy(a.groupOptions.groupingView.groupField[r],"a","text","");jQuery(n).jqGrid(e.extend(!0,{datastr:e.extend(l.select(),o?{userdata:a.summary}:{}),datatype:"jsonstring",footerrow:o,userDataOnFooter:o,colModel:a.colModel,viewrecords:!0,sortname:i.xDimension[0].dataName},a.groupOptions,s||{}));var d=a.groupHeaders;if(d.length)for(r=0;r<d.length;r++)d[r]&&d[r].groupHeaders.length&&jQuery(n).jqGrid("setGroupHeaders",d[r]);i.frozenStaticCols&&jQuery(n).jqGrid("setFrozenColumns")}var n=this;"string"==typeof t?e.ajax(e.extend({url:t,dataType:"json",success:function(t){a(e.jgrid.getAccessor(t,r&&r.reader?r.reader:"rows"))}},r||{})):a(t)})}})}(jQuery),function(e,t){function i(t,i){var r,a,n,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,a=r.name,!(!t.href||!a||"map"!==r.nodeName.toLowerCase())&&(!!(n=e("img[usemap=#"+a+"]")[0])&&s(n))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var s=this;setTimeout(function(){e(s).focus(),i&&i.call(s)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var s,r,a=e(this[0]);a.length&&a[0]!==document;){if(("absolute"===(s=a.css("position"))||"relative"===s||"fixed"===s)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),r=isNaN(s);return(r||s>=0)&&i(t,!r)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function r(t,i,s,r){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===s?["Left","Right"]:["Top","Bottom"],n=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(n,r(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(n,r(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var r,a=e.ui[t].prototype;for(r in s)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([i,s[r]])},call:function(e,t,i){var s,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(s=0;s<r.length;s++)e.options[r[s][0]]&&r[s][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[s]>0||(t[s]=1,r=t[s]>0,t[s]=0,r)},isOverAxis:function(e,t,i){return e>t&&e<t+i},isOver:function(t,i,s,r,a,n){return e.ui.isOverAxis(t,s,a)&&e.ui.isOverAxis(i,r,n)}}))}(jQuery),function(e,t){var i=0,s=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,i,s){var r,a,n,o,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},a=e[l][t],n=e[l][t]=function(e,t){if(!this._createWidget)return new n(e,t);arguments.length&&this._createWidget(e,t)},e.extend(n,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(s,function(t,r){e.isFunction(r)&&(s[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=s,t=r.apply(this,arguments),this._super=i,this._superApply=a,t}}())}),n.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix:t},s,{constructor:n,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,n,i._proto)}),delete a._childConstructors):i._childConstructors.push(n),e.widget.bridge(t,n)},e.widget.extend=function(i){for(var r,a,n=s.call(arguments,1),o=0,l=n.length;o<l;o++)for(r in n[o])a=n[o][r],n[o].hasOwnProperty(r)&&a!==t&&(e.isPlainObject(a)?i[r]=e.isPlainObject(i[r])?e.widget.extend({},i[r],a):e.widget.extend({},a):i[r]=a);return i},e.widget.bridge=function(i,r){var a=r.prototype.widgetFullName||i;e.fn[i]=function(n){var o="string"==typeof n,l=s.call(arguments,1),d=this;return n=!o&&l.length?e.widget.extend.apply(null,[n].concat(l)):n,o?this.each(function(){var s,r=e.data(this,a);return r?e.isFunction(r[n])&&"_"!==n.charAt(0)?(s=r[n].apply(r,l),s!==r&&s!==t?(d=s&&s.jquery?d.pushStack(s.get()):s,!1):void 0):e.error("no such method '"+n+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(n||{})._init():e.data(this,a,new r(n,this))}),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetName,this),e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var r,a,n,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},r=i.split("."),i=r.shift(),r.length){for(a=o[i]=e.widget.extend({},this.options[i]),n=0;n<r.length-1;n++)a[r[n]]=a[r[n]]||{},a=a[r[n]];if(i=r.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,s){var r,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=r=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,r=this.widget()),e.each(s,function(s,n){function o(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof n?a[n]:n).apply(a,arguments)}"string"!=typeof n&&(o.guid=n.guid=n.guid||o.guid||e.guid++);var l=s.match(/^(\w+)\s*(.*)$/),d=l[1]+a.eventNamespace,c=l[2];c?r.delegate(c,d,o):i.bind(d,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var r,a,n=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent,a)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,s),!(e.isFunction(n)&&!1===n.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,r,a){"string"==typeof r&&(r={effect:r});var n,o=r?!0===r||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),n=!e.isEmptyObject(r),r.complete=a,r.delay&&s.delay(r.delay),n&&e.effects&&(e.effects.effect[o]||!1!==e.uiBackCompat&&e.effects[o])?s[t](r):o!==t&&s[o]?s[o](r.duration,r.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),!1!==e.uiBackCompat&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var i=!1;e(document).mouseup(function(e){i=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var s=this,r=1===t.which,a=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0))}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(u.test(e[0])?t/100:1),parseInt(e[1],10)*(u.test(e[1])?i/100:1)]}function s(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var r,a=Math.max,n=Math.abs,o=Math.round,l=/left|center|right/,d=/top|center|bottom/,c=/[\+\-]\d+%?/,h=/^\w+/,u=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(r!==t)return r;var i,s,a=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=a.children()[0];return e("body").append(a),i=n.offsetWidth,a.css("overflow","scroll"),s=n.offsetWidth,i===s&&(s=a[0].clientWidth),a.remove(),r=i-s},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),s=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var r,u,f,g,m,v=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),_=v[0],y=(t.collision||"flip").split(" "),j={};return 9===_.nodeType?(u=v.width(),f=v.height(),g={top:0,left:0}):e.isWindow(_)?(u=v.width(),f=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):_.preventDefault?(t.at="left top",u=f=0,g={top:_.pageY,left:_.pageX}):(u=v.outerWidth(),f=v.outerHeight(),g=v.offset()),m=e.extend({},g),e.each(["my","at"],function(){var e,i,s=(t[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):d.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=d.test(s[1])?s[1]:"center",e=c.exec(s[0]),i=c.exec(s[1]),j[this]=[e?e[0]:0,i?i[0]:0],t[this]=[h.exec(s[0])[0],h.exec(s[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===t.at[0]?m.left+=u:"center"===t.at[0]&&(m.left+=u/2),"bottom"===t.at[1]?m.top+=f:"center"===t.at[1]&&(m.top+=f/2),r=i(j.at,u,f),m.left+=r[0],m.top+=r[1],this.each(function(){var l,d,c=e(this),h=c.outerWidth(),p=c.outerHeight(),_=s(this,"marginLeft"),x=s(this,"marginTop"),D=h+_+s(this,"marginRight")+w.width,C=p+x+s(this,"marginBottom")+w.height,k=e.extend({},m),q=i(j.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?k.left-=h:"center"===t.my[0]&&(k.left-=h/2),"bottom"===t.my[1]?k.top-=p:"center"===t.my[1]&&(k.top-=p/2),k.left+=q[0],k.top+=q[1],e.support.offsetFractions||(k.left=o(k.left),k.top=o(k.top)),l={marginLeft:_,marginTop:x},e.each(["left","top"],function(i,s){e.ui.position[y[i]]&&e.ui.position[y[i]][s](k,{targetWidth:u,targetHeight:f,elemWidth:h,elemHeight:p,collisionPosition:l,collisionWidth:D,collisionHeight:C,offset:[r[0]+q[0],r[1]+q[1]],my:t.my,at:t.at,within:b,elem:c})}),e.fn.bgiframe&&c.bgiframe(),t.using&&(d=function(e){var i=g.left-k.left,s=i+u-h,r=g.top-k.top,o=r+f-p,l={target:{element:v,left:g.left,top:g.top,width:u,height:f},element:{element:c,left:k.left,top:k.top,width:h,height:p},horizontal:s<0?"left":i>0?"right":"center",vertical:o<0?"top":r>0?"bottom":"middle"};u<h&&n(i+s)<u&&(l.horizontal="center"),f<p&&n(r+o)<f&&(l.vertical="middle"),a(n(i),n(s))>a(n(r),n(o))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),c.offset(e.extend(k,{using:d}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,r=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,o=e.left-t.collisionPosition.marginLeft,l=r-o,d=o+t.collisionWidth-n-r;t.collisionWidth>n?l>0&&d<=0?(i=e.left+l+t.collisionWidth-n-r,e.left+=l-i):e.left=d>0&&l<=0?r:l>d?r+n-t.collisionWidth:r:l>0?e.left+=l:d>0?e.left-=d:e.left=a(e.left-o,e.left)},top:function(e,t){var i,s=t.within,r=s.isWindow?s.scrollTop:s.offset.top,n=t.within.height,o=e.top-t.collisionPosition.marginTop,l=r-o,d=o+t.collisionHeight-n-r;t.collisionHeight>n?l>0&&d<=0?(i=e.top+l+t.collisionHeight-n-r,e.top+=l-i):e.top=d>0&&l<=0?r:l>d?r+n-t.collisionHeight:r:l>0?e.top+=l:d>0?e.top-=d:e.top=a(e.top-o,e.top)}},flip:{left:function(e,t){var i,s,r=t.within,a=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-l,h=d+t.collisionWidth-o-l,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((i=e.left+u+p+f+t.collisionWidth-o-a)<0||i<n(c))&&(e.left+=u+p+f):h>0&&((s=e.left-t.collisionPosition.marginLeft+u+p+f-l)>0||n(s)<h)&&(e.left+=u+p+f)},top:function(e,t){var i,s,r=t.within,a=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-l,h=d+t.collisionHeight-o-l,u="top"===t.my[1],p=u?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];c<0?(s=e.top+p+f+g+t.collisionHeight-o-a,e.top+p+f+g>c&&(s<0||s<n(c))&&(e.top+=p+f+g)):h>0&&(i=e.top-t.collisionPosition.marginTop+p+f+g-l,e.top+p+f+g>h&&(i>0||n(i)<h)&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,r,a,n=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(n?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},n&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)t.style[a]=s[a];t.appendChild(o),i=n||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",r=e(o).offset().left,e.support.offsetFractions=r>10&&r<11,t.innerHTML="",i.removeChild(t)}(),!1!==e.uiBackCompat&&function(e){var i=e.fn.position;e.fn.position=function(s){if(!s||!s.offset)return i.call(this,s);var r=s.offset.split(" "),a=s.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===a.length&&(/left|center|right/.test(a[0])?a[1]="center":(a[1]=a[0],a[0]="center")),i.call(this,e.extend(s,{at:a[0]+r[0]+" "+a[1]+r[1],offset:t}))}}(jQuery)}(jQuery),function(e,t){var i=0,s={},r={};s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="hide",r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i),s=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(s.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!s.collapsible&&(!1===s.active||null==s.active)&&(s.active=0),s.active<0&&(s.active+=this.headers.length),this.active=this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(i){var s=e(this),r=s.attr("id"),a=s.next(),n=a.attr("id");r||(r=t+"-header-"+i,s.attr("id",r)),n||(n=t+"-panel-"+i,a.attr("id",n)),s.attr("aria-controls",n),a.attr("aria-labelledby",r)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(s.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){if("active"===e)return void this._activate(t);"event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"===e&&!t&&!1===this.options.active&&this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,r=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(r+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(r-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,i,s=this.options.heightStyle,r=this.element.parent();"fill"===s?(e.support.minHeight||(i=r.css("overflow"),r.css("overflow","hidden")),t=r.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),i&&r.css("overflow",i),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={};t&&(e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._on(this.headers,i))},_eventHandler:function(t){var i=this.options,s=this.active,r=e(t.currentTarget),a=r[0]===s[0],n=a&&i.collapsible,o=n?e():r.next(),l=s.next(),d={oldHeader:s,oldPanel:l,newHeader:n?e():r,newPanel:o};t.preventDefault(),a&&!i.collapsible||!1===this._trigger("beforeActivate",t,d)||(i.active=!n&&this.headers.index(r),this.active=a?e():r,this._toggle(d),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-expanded":"false","aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,i){var a,n,o,l=this,d=0,c=e.length&&(!t.length||e.index()<t.index()),h=this.options.animate||{},u=c&&h.down||h,p=function(){l._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||h.easing,o=o||u.duration||h.duration,t.length?e.length?(a=e.show().outerHeight(),t.animate(s,{duration:o,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(r,{duration:o,easing:n,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?d+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(a-t.outerHeight()-d),d=0)}}),void 0):t.animate(s,o,n,p):e.animate(r,o,n,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),!1!==e.uiBackCompat&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=t._create;t._create=function(){if(this.options.navigation){var t=this,s=this.element.find(this.options.header),r=s.next(),a=s.add(r).find("a").filter(this.options.navigationFilter)[0];a&&s.add(r).each(function(i){if(e.contains(this,a))return t.options.active=Math.floor(i/2),!1})}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var i=t._create,s=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),i.call(this)},_setOption:function(e){"autoHeight"!==e&&"clearStyle"!==e&&"fillSpace"!==e||(this.options.heightStyle=this._mergeHeightStyle()),s.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var i=t._findActive;t._findActive=function(e){return-1===e&&(e=!1),e&&"number"!=typeof e&&-1===(e=this.headers.index(this.headers.filter(e)))&&(e=!1),i.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var i=t._trigger;t._trigger=function(e,t,s){var r=i.apply(this,arguments);return!!r&&("beforeActivate"===e?r=i.call(this,"changestart",t,{oldHeader:s.oldHeader,oldContent:s.oldPanel,newHeader:s.newHeader,newContent:s.newPanel}):"activate"===e&&(r=i.call(this,"change",t,{oldHeader:s.oldHeader,oldContent:s.oldPanel,newHeader:s.newHeader,newContent:s.newPanel})),r)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var i=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animated?"slide"===e.animated?e.animate=300:"bounceslide"===e.animated?e.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animate=e.animated:e.animate=!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e,t){var i=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,s;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case a.UP:t=!0,this._keyEvent("previous",r);break;case a.DOWN:t=!0,this._keyEvent("next",r);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(s){if(t)return t=!1,void s.preventDefault();if(!i){var r=e.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:this._move("previousPage",s);break;case r.PAGE_DOWN:this._move("nextPage",s);break;case r.UP:this._keyEvent("previous",s);break;case r.DOWN:this._keyEvent("next",s)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target!==t.element[0]&&s.target!==i&&!e.contains(i,s.target)&&t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var s=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++i;return function(s){t===i&&e.__response(s),--e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){var i,s,r,a,n="ui-button ui-widget ui-state-default ui-corner-all",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},d=function(t){var i=t.name,s=t.form,r=e([]);return i&&(r=s?e(s).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,o=this.options,c="checkbox"===this.type||"radio"===this.type,h=c?"":"ui-state-active",u="ui-state-focus";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===i&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(u)
}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(u)}),c&&(this.element.bind("change"+this.eventNamespace,function(){a||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){o.disabled||(a=!1,s=e.pageX,r=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){o.disabled||s===e.pageX&&r===e.pageY||(a=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||a)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||a)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];d(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),i=this,t.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(o.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" ui-state-hover ui-state-active  "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?d(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(o),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,r=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t)null!=t[i]&&t[i]!=undefined||(e[i]=t[i]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,s){t.settings[i]=s}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[s?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var r=this._get(t,"showOn");if(("focus"==r||"both"==r)&&e.focus(this._showDatepicker),"button"==r||"both"==r){var a=this._get(t,"buttonText"),n=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:n,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==n?a:$("<img/>").attr({src:n,alt:a,title:a}))),e[s?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var s=function(e){for(var t=0,i=0,s=0;s<e.length;s++)e[s].length>t&&(t=e[s].length,i=s);return i};t.setMonth(s(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(s(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,s){t.settings[i]=s}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,s,r){var a=this._dialogInst;if(!a){this.uuid+=1;var n="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+n+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,s||{}),t=t&&t.constructor==Date?this._formatDate(a,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,l=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+d,l/2-150+c]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==s?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==s||"span"==s)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();if("input"==s)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==s||"span"==s){var r=t.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();if("input"==s)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==s||"span"==s){var r=t.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var s=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):s?"all"==t?$.extend({},s.settings):this._get(s,t):null;var r=t||{};if("string"==typeof t&&(r={},r[t]=i),s){this._curInst==s&&this._hideDatepicker();var a=this._getDateDatepicker(e,!0),n=this._getMinMaxDate(s,"min"),o=this._getMinMaxDate(s,"max");extendRemove(s.settings,r),null!==n&&r.dateFormat!==undefined&&r.minDate===undefined&&(s.settings.minDate=this._formatDate(s,n)),null!==o&&r.dateFormat!==undefined&&r.maxDate===undefined&&(s.settings.maxDate=this._formatDate(s,o)),this._attachments($(e),s),this._autoSize(s),this._setDate(s,a),this._updateAlternate(s),this._updateDatepicker(s)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,s=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);r[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,r[0]);var a=$.datepicker._get(t,"onSelect");if(a){var n=$.datepicker._formatDate(t);a.apply(t.input?t.input[0]:null,[n,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,s?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,s?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),s=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||s<" "||!i||i.indexOf(s)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t))&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),s=i?i.apply(e,[e,t]):{};if(!1!==s){extendRemove(t.settings,s),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var r=!1;$(e).parents().each(function(){return!(r|="fixed"==$(this).css("position"))});var a={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),a=$.datepicker._checkOffset(t,a,r),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),!t.inline){var n=$.datepicker._get(t,"showAnim"),o=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.show(n,$.datepicker._get(t,"showOptions"),o,l):t.dpDiv[n||"show"](n?o:null,l),(!n||!o)&&l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i=e.dpDiv.find("iframe.ui-datepicker-cover");!i.length||i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(e),r=s[1];if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!=s[0]||1!=s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var a=e.yearshtml;setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,n=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?s-a:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+n?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+s>o&&o>s?Math.abs(t.left+s-o):0),t.top-=Math.min(t.top,t.top+r>l&&l>r?Math.abs(r+n):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var s=$(e).offset();return[s.left,s.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),s=this._get(t,"duration"),r=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[i]||$.effects[i])?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),s,r):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?s:null,r),i||r(),this._datepickerShowing=!1;var a=this._get(t,"onClose");a&&a.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var s=$(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,t+("M"==i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var s=new Date;i.selectedDay=s.getDate(),i.drawMonth=i.selectedMonth=s.getMonth(),i.drawYear=i.selectedYear=s.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var s=$(e),r=this._getInst(s[0]);r["selected"+("M"==i?"Month":"Year")]=r["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,t,i,s){var r=$(e);if(!$(s).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var a=this._getInst(r[0]);a.selectedDay=a.currentDay=$("a",s).html(),a.selectedMonth=a.currentMonth=t,a.selectedYear=a.currentYear=i,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),s=this._getInst(i[0]);t=null!=t?t:this._formatDate(s),s.input&&s.input.val(t),this._updateAlternate(s);var r=this._get(s,"onSelect");r?r.apply(s.input?s.input[0]:null,[t,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),r=this.formatDate(i,s,this._getFormatConfig(e));$(t).each(function(){$(this).val(r)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(""==(t="object"==typeof t?t.toString():t+""))return null;var s=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;s="string"!=typeof s?s:(new Date).getFullYear()%100+parseInt(s,10);for(var r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,n=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,d=-1,c=-1,h=-1,u=!1,p=function(t){var i=b+1<e.length&&e.charAt(b+1)==t;return i&&b++,i},f=function(e){var i=p(e),s="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,r=new RegExp("^\\d{1,"+s+"}"),a=t.substring(v).match(r);if(!a)throw"Missing number at position "+v;return v+=a[0].length,parseInt(a[0],10)},g=function(e,i,s){var r=$.map(p(e)?s:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),a=-1;if($.each(r,function(e,i){var s=i[1];if(t.substr(v,s.length).toLowerCase()==s.toLowerCase())return a=i[0],v+=s.length,!1}),-1!=a)return a+1;throw"Unknown name at position "+v},m=function(){if(t.charAt(v)!=e.charAt(b))throw"Unexpected literal at position "+v;v++},v=0,b=0;b<e.length;b++)if(u)"'"!=e.charAt(b)||p("'")?m():u=!1;else switch(e.charAt(b)){case"d":c=f("d");break;case"D":g("D",r,a);break;case"o":h=f("o");break;case"m":d=f("m");break;case"M":d=g("M",n,o);break;case"y":l=f("y");break;case"@":var w=new Date(f("@"));l=w.getFullYear(),d=w.getMonth()+1,c=w.getDate();break;case"!":var w=new Date((f("!")-this._ticksTo1970)/1e4);l=w.getFullYear(),d=w.getMonth()+1,c=w.getDate();break;case"'":p("'")?m():u=!0;break;default:m()}if(v<t.length){var _=t.substr(v);if(!/^\s+/.test(_))throw"Extra/unparsed characters found in date: "+_}if(-1==l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=s?0:-100)),h>-1)for(d=1,c=h;;){var y=this._getDaysInMonth(l,d-1);if(c<=y)break;d++,c-=y}var w=this._daylightSavingAdjust(new Date(l,d-1,c));if(w.getFullYear()!=l||w.getMonth()+1!=d||w.getDate()!=c)throw"Invalid date";return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,n=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=u+1<e.length&&e.charAt(u+1)==t;return i&&u++,i},l=function(e,t,i){var s=""+t;if(o(e))for(;s.length<i;)s="0"+s;return s},d=function(e,t,i,s){return o(e)?s[t]:i[t]},c="",h=!1;if(t)for(var u=0;u<e.length;u++)if(h)"'"!=e.charAt(u)||o("'")?c+=e.charAt(u):h=!1;else switch(e.charAt(u)){case"d":c+=l("d",t.getDate(),2);break;case"D":c+=d("D",t.getDay(),s,r);break;case"o":c+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",t.getMonth()+1,2);break;case"M":c+=d("M",t.getMonth(),a,n);break;case"y":c+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?c+="'":h=!0;break;default:c+=e.charAt(u)}return c},_possibleChars:function(e){for(var t="",i=!1,s=function(t){var i=r+1<e.length&&e.charAt(r+1)==t;return i&&r++,i},r=0;r<e.length;r++)if(i)"'"!=e.charAt(r)||s("'")?t+=e.charAt(r):i=!1;else switch(e.charAt(r)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":i=!0;break;default:t+=e.charAt(r)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,s,r=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null;i=s=this._getDefaultDate(e);var n=this._getFormatConfig(e);try{i=this.parseDate(r,a,n)||s}catch(e){this.log(e),a=t?"":a}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=a?i.getDate():0,e.currentMonth=a?i.getMonth():0,e.currentYear=a?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var s=null==t||""===t?i:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(e){}for(var i=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,s=i.getFullYear(),r=i.getMonth(),a=i.getDate(),n=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=n.exec(t);o;){switch(o[2]||"d"){case"d":case"D":a+=parseInt(o[1],10);break;case"w":case"W":a+=7*parseInt(o[1],10);break;case"m":case"M":r+=parseInt(o[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(o[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(s,r))}o=n.exec(t)}return new Date(s,r,a)}(t):"number"==typeof t?isNaN(t)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(t):new Date(t.getTime());return s=s&&"Invalid Date"==s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,r=e.selectedMonth,a=e.selectedYear,n=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=n.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=n.getMonth(),e.drawYear=e.selectedYear=e.currentYear=n.getFullYear(),(r!=e.selectedMonth||a!=e.selectedYear)&&!i&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){
var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),s=this._get(e,"showButtonPanel"),r=this._get(e,"hideIfNoPrevNext"),a=this._get(e,"navigationAsDateFormat"),n=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),d=1!=n[0]||1!=n[1],c=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),h=this._getMinMaxDate(e,"min"),u=this._getMinMaxDate(e,"max"),p=e.drawMonth-o,f=e.drawYear;if(p<0&&(p+=12,f--),u){var g=this._daylightSavingAdjust(new Date(u.getFullYear(),u.getMonth()-n[0]*n[1]+1,u.getDate()));for(g=h&&g<h?h:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)--p<0&&(p=11,f--)}e.drawMonth=p,e.drawYear=f;var m=this._get(e,"prevText");m=a?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(e)):m;var v=this._canAdjustMonth(e,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",b=this._get(e,"nextText");b=a?this.formatDate(b,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(e)):b;var w=this._canAdjustMonth(e,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",_=this._get(e,"currentText"),y=this._get(e,"gotoCurrent")&&e.currentDay?c:t;_=a?this.formatDate(_,y,this._getFormatConfig(e)):_;var j=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=s?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?j:"")+(this._isInRange(e,y)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(i?"":j)+"</div>":"",D=parseInt(this._get(e,"firstDay"),10);D=isNaN(D)?0:D;for(var C=this._get(e,"showWeek"),k=this._get(e,"dayNames"),q=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),I=this._get(e,"monthNames"),S=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),P=this._get(e,"showOtherMonths"),F=this._get(e,"selectOtherMonths"),T=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),G="",N=0;N<n[0];N++){var A="";this.maxRows=4;for(var R=0;R<n[1];R++){var E=this._daylightSavingAdjust(new Date(f,p,e.selectedDay)),O=" ui-corner-all",z="";if(d){if(z+='<div class="ui-datepicker-group',n[1]>1)switch(R){case 0:z+=" ui-datepicker-group-first",O=" ui-corner-"+(i?"right":"left");break;case n[1]-1:z+=" ui-datepicker-group-last",O=" ui-corner-"+(i?"left":"right");break;default:z+=" ui-datepicker-group-middle",O=""}z+='">'}z+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+O+'">'+(/all|left/.test(O)&&0==N?i?w:v:"")+(/all|right/.test(O)&&0==N?i?v:w:"")+this._generateMonthYearHeader(e,p,f,h,u,N>0||R>0,I,S)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var H=C?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",W=0;W<7;W++){var L=(W+D)%7;H+="<th"+((W+D+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+k[L]+'">'+q[L]+"</span></th>"}z+=H+"</tr></thead><tbody>";var B=this._getDaysInMonth(f,p);f==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,B));var V=(this._getFirstDayOfMonth(f,p)-D+7)%7,Y=Math.ceil((V+B)/7),Q=d&&this.maxRows>Y?this.maxRows:Y;this.maxRows=Q;for(var U=this._daylightSavingAdjust(new Date(f,p,1-V)),K=0;K<Q;K++){z+="<tr>";for(var X=C?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(U)+"</td>":"",W=0;W<7;W++){var J=M?M.apply(e.input?e.input[0]:null,[U]):[!0,""],Z=U.getMonth()!=p,ee=Z&&!F||!J[0]||h&&U<h||u&&U>u;X+='<td class="'+((W+D+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(U.getTime()==E.getTime()&&p==e.selectedMonth&&e._keyEvent||T.getTime()==U.getTime()&&T.getTime()==E.getTime()?" "+this._dayOverClass:"")+(ee?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!P?"":" "+J[1]+(U.getTime()==c.getTime()?" "+this._currentClass:"")+(U.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!P||!J[2]?"":' title="'+J[2]+'"')+(ee?"":' data-handler="selectDay" data-event="click" data-month="'+U.getMonth()+'" data-year="'+U.getFullYear()+'"')+">"+(Z&&!P?"&#xa0;":ee?'<span class="ui-state-default">'+U.getDate()+"</span>":'<a class="ui-state-default'+(U.getTime()==t.getTime()?" ui-state-highlight":"")+(U.getTime()==c.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+U.getDate()+"</a>")+"</td>",U.setDate(U.getDate()+1),U=this._daylightSavingAdjust(U)}z+=X+"</tr>"}p++,p>11&&(p=0,f++),z+="</tbody></table>"+(d?"</div>"+(n[0]>0&&R==n[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),A+=z}G+=A}return G+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,G},_generateMonthYearHeader:function(e,t,i,s,r,a,n,o){var l=this._get(e,"changeMonth"),d=this._get(e,"changeYear"),c=this._get(e,"showMonthAfterYear"),h='<div class="ui-datepicker-title">',u="";if(a||!l)u+='<span class="ui-datepicker-month">'+n[t]+"</span>";else{var p=s&&s.getFullYear()==i,f=r&&r.getFullYear()==i;u+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!p||g>=s.getMonth())&&(!f||g<=r.getMonth())&&(u+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+o[g]+"</option>");u+="</select>"}if(c||(h+=u+(!a&&l&&d?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!d)h+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),b=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},w=b(m[0]),_=Math.max(w,b(m[1]||""));for(w=s?Math.max(w,s.getFullYear()):w,_=r?Math.min(_,r.getFullYear()):_,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';w<=_;w++)e.yearshtml+='<option value="'+w+'"'+(w==i?' selected="selected"':"")+">"+w+"</option>";e.yearshtml+="</select>",h+=e.yearshtml,e.yearshtml=null}return h+=this._get(e,"yearSuffix"),c&&(h+=(!a&&l&&d?"":"&#xa0;")+u),h+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"==i?t:0),r=e.drawMonth+("M"==i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,r))+("D"==i?t:0),n=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,r,a)));e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),r=i&&t<i?i:t;return r=s&&r>s?s:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(t<0?t:r[0]*r[1]),1));return t<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",s={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t,s,r,a,n,o=this,l=this.options,d=l.title||"&#160;";t=(this.uiDialog=e("<div>")).addClass(i+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(o.close(t),t.preventDefault())}).mousedown(function(e){o.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(t),s=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){t.focus()}).prependTo(t),r=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),o.close(e)}).appendTo(s),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(r),a=e("<span>").uniqueId().addClass("ui-dialog-title").html(d).prependTo(s),n=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(n),t.attr({role:"dialog","aria-labelledby":a.attr("id")}),s.find("*").add(s).disableSelection(),this._hoverable(r),this._focusable(r),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&t.bgiframe(),this._on(t,{keydown:function(i){if(l.modal&&i.keyCode===e.ui.keyCode.TAB){var s=e(":tabbable",t),r=s.filter(":first"),a=s.filter(":last");return i.target!==a[0]||i.shiftKey?i.target===r[0]&&i.shiftKey?(a.focus(1),!1):void 0:(r.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var i,s,r=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==r.uiDialog[0]&&(s=e(this).css("z-index"),isNaN(s)||(i=Math.max(i,s)))}),e.ui.dialog.maxZ=i),this},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var s,r=this.options;return r.modal&&!t||!r.stack&&!r.modal?this._trigger("focus",i):(r.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=r.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),s={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(s),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var t,i=this.options,s=this.uiDialog;return this._size(),this._position(i.position),s.show(i.show),this.overlay=i.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=s)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var i=this,s=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(s=!0)}),s?(e.each(t,function(t,s){var r,a;s=e.isFunction(s)?{click:s,text:t}:s,s=e.extend({type:"button"},s),a=s.click,s.click=function(){a.apply(i.element[0],arguments)},r=e("<button></button>",s).appendTo(i.uiButtonSet),e.fn.button&&r.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,r){e(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",s,t(r))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(r,a){s.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",r,t(a)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}t=void 0===t?this.options.resizable:t;var s=this,r=this.options,a=this.uiDialog.css("position"),n="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,r){e(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",t,i(r))},resize:function(e,t){s._trigger("resize",e,i(t))},stop:function(t,a){e(this).removeClass("ui-dialog-resizing"),r.height=e(this).height(),r.width=e(this).width(),s._trigger("resizeStop",t,i(a)),e.ui.dialog.overlay.resize()}}).css("position",a).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,s=[],r=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(s=t.split?t.split(" "):[t[0],t[1]],1===s.length&&(s[1]=s[0]),e.each(["left","top"],function(e,t){+s[e]===s[e]&&(r[e]=s[e],s[e]=t)}),t={my:s[0]+(r[0]<0?r[0]:"+"+r[0])+" "+s[1]+(r[1]<0?r[1]:"+"+r[1]),at:s.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()},_setOptions:function(t){var i=this,a={},n=!1;e.each(t,function(e,t){i._setOption(e,t),e in s&&(n=!0),e in r&&(a[e]=t)}),n&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,s){var r,a,n=this.uiDialog;switch(t){case"buttons":this._createButtons(s);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+s);break;case"dialogClass":n.removeClass(this.options.dialogClass).addClass(i+s);break;case"disabled":s?n.addClass("ui-dialog-disabled"):n.removeClass("ui-dialog-disabled");break;case"draggable":r=n.is(":data(draggable)"),r&&!s&&n.draggable("destroy"),!r&&s&&this._makeDraggable();break;case"position":this._position(s);break;case"resizable":a=n.is(":data(resizable)"),a&&!s&&n.resizable("destroy"),a&&"string"==typeof s&&n.resizable("option","handles",s),!a&&!1!==s&&this._makeResizable(s);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(s||"&#160;"))}this._super(t,s)},_size:function(){var t,i,s,r=this.options,a=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),r.minWidth>r.width&&(r.width=r.minWidth),t=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),i=Math.max(0,r.minHeight-t),"auto"===r.height?e.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),s=this.element.css("height","auto").height(),a||this.uiDialog.hide(),this.element.height(Math.max(s,i))):this.element.height(Math.max(r.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(s){var r=e.ui.dialog.overlay.instances;0!==r.length&&r[r.length-1]===i&&t.options.closeOnEscape&&!s.isDefaultPrevented()&&s.keyCode&&s.keyCode===e.ui.keyCode.ESCAPE&&(t.close(s),s.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var i=e.inArray(t,this.instances),s=0;-1!==i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){s=Math.max(s,this.css("z-index"))}),this.maxZ=s},height:function(){var t,i;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,i;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",t,s))return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var s=this.element[0],r=!1;s&&(s=s.parentNode);)s==document&&(r=!0);if(!r&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var a=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==a._trigger("stop",t)&&a._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),s[0]!=this.element[0]&&!/(fixed|absolute)/.test(s.css("position"))&&s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment),s=i[0];if(!s)return;var r=(i.offset(),"hidden"!=e(s).css("overflow"));this.containment=[(parseInt(e(s).css("borderLeftWidth"),10)||0)+(parseInt(e(s).css("paddingLeft"),10)||0),(parseInt(e(s).css("borderTopWidth"),10)||0)+(parseInt(e(s).css("paddingTop"),10)||0),(r?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e(s).css("borderLeftWidth"),10)||0)-(parseInt(e(s).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e(s).css("borderTopWidth"),10)||0)-(parseInt(e(s).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*s}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName),a=t.pageX,n=t.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;t.pageX-this.offset.click.left<o[0]&&(a=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(n=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(a=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(n=o[3]+this.offset.click.top)}if(i.grid){var d=i.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;n=o&&(d-this.offset.click.top<o[1]||d-this.offset.click.top>o[3])?d-this.offset.click.top<o[1]?d+i.grid[1]:d-i.grid[1]:d;var c=i.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;a=o&&(c-this.offset.click.left<o[0]||c-this.offset.click.left>o[2])?c-this.offset.click.left<o[0]?c+i.grid[0]:c-i.grid[0]:c}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(e){
return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var s=e(this).data("draggable"),r=s.options,a=e.extend({},i,{item:s.element});s.sortables=[],e(r.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var s=e(this).data("draggable"),r=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,i){var s=e(this).data("draggable"),r=this;e.each(s.sortables,function(a){var n=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!=o&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(o.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i){var s=e("body"),r=e(this).data("draggable").options;s.css("cursor")&&(r._cursor=s.css("cursor")),s.css("cursor",r.cursor)},stop:function(t,i){var s=e(this).data("draggable").options;s._cursor&&e("body").css("cursor",s._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var s=e(i.helper),r=e(this).data("draggable").options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(t,i){var s=e(this).data("draggable").options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,i){var s=e(this).data("draggable");s.scrollParent[0]!=document&&"HTML"!=s.scrollParent[0].tagName&&(s.overflowOffset=s.scrollParent.offset())},drag:function(t,i){var s=e(this).data("draggable"),r=s.options,a=!1;s.scrollParent[0]!=document&&"HTML"!=s.scrollParent[0].tagName?(r.axis&&"x"==r.axis||(s.overflowOffset.top+s.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?s.scrollParent[0].scrollTop=a=s.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-s.overflowOffset.top<r.scrollSensitivity&&(s.scrollParent[0].scrollTop=a=s.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"==r.axis||(s.overflowOffset.left+s.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?s.scrollParent[0].scrollLeft=a=s.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-s.overflowOffset.left<r.scrollSensitivity&&(s.scrollParent[0].scrollLeft=a=s.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"==r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"==r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i){var s=e(this).data("draggable"),r=s.options;s.snapElements=[],e(r.snap.constructor!=String?r.snap.items||":data(draggable)":r.snap).each(function(){var t=e(this),i=t.offset();this!=s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i){for(var s=e(this).data("draggable"),r=s.options,a=r.snapTolerance,n=i.offset.left,o=n+s.helperProportions.width,l=i.offset.top,d=l+s.helperProportions.height,c=s.snapElements.length-1;c>=0;c--){var h=s.snapElements[c].left,u=h+s.snapElements[c].width,p=s.snapElements[c].top,f=p+s.snapElements[c].height;if(h-a<n&&n<u+a&&p-a<l&&l<f+a||h-a<n&&n<u+a&&p-a<d&&d<f+a||h-a<o&&o<u+a&&p-a<l&&l<f+a||h-a<o&&o<u+a&&p-a<d&&d<f+a){if("inner"!=r.snapMode){var g=Math.abs(p-d)<=a,m=Math.abs(f-l)<=a,v=Math.abs(h-o)<=a,b=Math.abs(u-n)<=a;g&&(i.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left-s.margins.left),b&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u}).left-s.margins.left)}var w=g||m||v||b;if("outer"!=r.snapMode){var g=Math.abs(p-l)<=a,m=Math.abs(f-d)<=a,v=Math.abs(h-n)<=a,b=Math.abs(u-o)<=a;g&&(i.position.top=s._convertPositionTo("relative",{top:p,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f-s.helperProportions.height,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left-s.margins.left),b&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u-s.helperProportions.width}).left-s.margins.left)}!s.snapElements[c].snapping&&(g||m||v||b||w)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=g||m||v||b||w}else s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(t,i){var s=e(this).data("draggable").options,r=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(r.length){var a=parseInt(r[0].style.zIndex)||0;e(r).each(function(e){this.style.zIndex=a+e}),this[0].style.zIndex=a+r.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var s=e(i.helper),r=e(this).data("draggable").options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(t,i){var s=e(this).data("draggable").options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current;if(!s||(s.currentItem||s.element)[0]==this.element[0])return!1;var r=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,i,s){if(!i.offset)return!1;var r=(t.positionAbs||t.position.absolute).left,a=r+t.helperProportions.width,n=(t.positionAbs||t.position.absolute).top,o=n+t.helperProportions.height,l=i.offset.left,d=l+i.proportions.width,c=i.offset.top,h=c+i.proportions.height;switch(s){case"fit":return l<=r&&a<=d&&c<=n&&o<=h;case"intersect":return l<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<n+t.helperProportions.height/2&&o-t.helperProportions.height/2<h;case"pointer":var u=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return e.ui.isOver(p,u,c,l,i.proportions.height,i.proportions.width);case"touch":return(n>=c&&n<=h||o>=c&&o<=h||n<c&&o>h)&&(r>=l&&r<=d||a>=l&&a<=d||r<l&&a>d);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(var o=0;o<a.length;o++)if(a[o]==s[n].element[0]){s[n].proportions.height=0;continue e}s[n].visible="none"!=s[n].element.css("display"),s[n].visible&&("mousedown"==r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(t,i){var s=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s=e.ui.intersect(t,this,this.options.tolerance),r=s||1!=this.isover?s&&0==this.isover?"isover":null:"isout";if(r){var a;if(this.options.greedy){var n=this.options.scope,o=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===n});o.length&&(a=e.data(o[0],"droppable"),a.greedyChild="isover"==r?1:0)}a&&"isover"==r&&(a.isover=0,a.isout=1,a._out.call(a,i)),this[r]=1,this["isout"==r?"isover":"isout"]=0,this["isover"==r?"_over":"_out"].call(this,i),a&&"isout"==r&&(a.isout=0,a.isover=1,a._over.call(a,i))}}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),jQuery.effects||function(e,t){var i=!1!==e.uiBackCompat,s="ui-effects-";e.effects={effect:{}},function(t,i){function s(e,t,i){var s=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:s.max<e?s.max:e)}function r(e){var i=c(),s=i._rgba=[];return e=e.toLowerCase(),g(d,function(t,r){var a,n=r.re.exec(e),o=n&&r.parse(n),l=r.space||"rgba";if(o)return a=i[l](o),i[h[l].cache]=a[h[l].cache],s=i._rgba=a._rgba,!1}),s.length?("0,0,0,0"===s.join()&&t.extend(s,n.transparent),i):n[e]}function a(e,t,i){return i=(i+1)%1,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var n,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,d=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=t.Color=function(e,i,s,r){return new t.Color.fn.parse(e,i,s,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=c.support={},f=t("<p>")[0],g=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,g(h,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(a,o,l,d){if(a===i)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=t(a).css(o),o=i);var u=this,p=t.type(a),f=this._rgba=[];return o!==i&&(a=[a,o,l,d],p="array"),"string"===p?this.parse(r(a)||n._default):"array"===p?(g(h.rgba.props,function(e,t){f[t.idx]=s(a[t.idx],t)}),this):"object"===p?(a instanceof c?g(h,function(e,t){a[t.cache]&&(u[t.cache]=a[t.cache].slice())}):g(h,function(t,i){var r=i.cache;g(i.props,function(e,t){if(!u[r]&&i.to){if("alpha"===e||null==a[e])return;u[r]=i.to(u._rgba)}u[r][t.idx]=s(a[e],t,!0)}),u[r]&&e.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,i.from&&(u._rgba=i.from(u[r])))}),this):void 0},is:function(e){var t=c(e),i=!0,s=this;return g(h,function(e,r){var a,n=t[r.cache];return n&&(a=s[r.cache]||r.to&&r.to(s._rgba)||[],g(r.props,function(e,t){if(null!=n[t.idx])return i=n[t.idx]===a[t.idx]})),i}),i},_space:function(){var e=[],t=this;return g(h,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=c(e),r=i._space(),a=h[r],n=0===this.alpha()?c("transparent"):this,o=n[a.cache]||a.to(n._rgba),l=o.slice();return i=i[a.cache],g(a.props,function(e,r){var a=r.idx,n=o[a],d=i[a],c=u[r.type]||{};null!==d&&(null===n?l[a]=d:(c.mod&&(d-n>c.mod/2?n+=c.mod:n-d>c.mod/2&&(n-=c.mod)),l[a]=s((d-n)*t+n,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),r=c(e)._rgba;return c(t.map(i,function(e,t){return(1-s)*r[t]+s*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,r=e[1]/255,a=e[2]/255,n=e[3],o=Math.max(s,r,a),l=Math.min(s,r,a),d=o-l,c=o+l,h=.5*c;return t=l===o?0:s===o?60*(r-a)/d+360:r===o?60*(a-s)/d+120:60*(s-r)/d+240,i=0===h||1===h?h:h<=.5?d/c:d/(2-c),[Math.round(t)%360,i,h,null==n?1:n]},h.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],r=e[3],n=s<=.5?s*(1+i):s+i-s*i,o=2*s-n;return[Math.round(255*a(o,n,t+1/3)),Math.round(255*a(o,n,t)),Math.round(255*a(o,n,t-1/3)),r]},g(h,function(e,r){var a=r.props,n=r.cache,o=r.to,d=r.from;c.fn[e]=function(e){if(o&&!this[n]&&(this[n]=o(this._rgba)),e===i)return this[n].slice();var r,l=t.type(e),h="array"===l||"object"===l?e:arguments,u=this[n].slice();return g(a,function(e,t){var i=h["object"===l?e:t.idx];null==i&&(i=u[t.idx]),u[t.idx]=s(i,t)}),d?(r=c(d(u)),r[n]=u,r):c(u)},g(a,function(i,s){c.fn[i]||(c.fn[i]=function(r){var a,n=t.type(r),o="alpha"===i?this._hsla?"hsla":"rgba":e,d=this[o](),c=d[s.idx];return"undefined"===n?c:("function"===n&&(r=r.call(this,c),n=t.type(r)),null==r&&s.empty?this:("string"===n&&(a=l.exec(r))&&(r=c+parseFloat(a[2])*("+"===a[1]?1:-1)),d[s.idx]=r,this[o](d)))})})}),g(o,function(e,i){t.cssHooks[i]={set:function(e,s){var a,n,o="";if("string"!==t.type(s)||(a=r(s))){if(s=c(a||s),!p.rgba&&1!==s._rgba[3]){for(n="backgroundColor"===i?e.parentNode:e;(""===o||"transparent"===o)&&n&&n.style;)try{o=t.css(n,"backgroundColor"),n=n.parentNode}catch(e){}s=s.blend(o&&"transparent"!==o?o:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(e){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t,i,s=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)t=s[i],"string"==typeof s[t]&&(r[e.camelCase(t)]=s[t]);else for(t in s)"string"==typeof s[t]&&(r[t]=s[t]);return r}function s(t,i){var s,r,n={};for(s in i)r=i[s],t[s]!==r&&!a[s]&&(e.fx.step[s]||!isNaN(parseFloat(r)))&&(n[s]=r);return n}var r=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,a,n,o){var l=e.speed(a,n,o);return this.queue(function(){var a,n=e(this),o=n.attr("class")||"",d=l.children?n.find("*").andSelf():n;d=d.map(function(){return{el:e(this),start:i.call(this)}}),a=function(){e.each(r,function(e,i){t[i]&&n[i+"Class"](t[i])})},a(),d=d.map(function(){return this.end=i.call(this.el[0]),this.diff=s(this.start,this.end),this}),n.attr("class",o),d=d.map(function(){var t=this,i=e.Deferred(),s=jQuery.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,d.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(n[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,s,r){return i?e.effects.animateClass.call(this,{add:t},i,s,r):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,s,r){return i?e.effects.animateClass.call(this,{remove:t},i,s,r):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,s,r,a,n){return"boolean"==typeof s||s===t?r?e.effects.animateClass.call(this,s?{add:i}:{remove:i},r,a,n):this._toggleClass(i,s):e.effects.animateClass.call(this,{toggle:i},s,r,a)},switchClass:function(t,i,s,r,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,r,a)}})}(),function(){function r(t,i,s,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=s,s=i,i={}),e.isFunction(s)&&(r=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=r||i.complete,t}function a(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]&&(!i||!e.effects[t])}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(s+t[i],e[0].style[t[i]])},restore:function(e,i){var r,a;for(a=0;a<i.length;a++)null!==i[a]&&(r=e.data(s+i[a]),r===t&&(r=""),e.css(i[a],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,r){return r=r||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(r[i]=a[0]*s+a[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(a)&&a.call(r[0]),e.isFunction(t)&&t()}var r=e(this),a=s.complete,n=s.mode;(r.is(":hidden")?"hide"===n:"show"===n)?i():o.call(r[0],s,i)}var s=r.apply(this,arguments),a=s.mode,n=s.queue,o=e.effects.effect[s.effect],l=!o&&i&&e.effects[s.effect];return e.fx.off||!o&&!l?a?this[a](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):o?!1===n?this.each(t):this.queue(n||"fx",t):l.call(this,{options:s,duration:s.duration,callback:s.complete,mode:s.mode})},_show:e.fn.show,show:function(e){if(a(e))return this._show.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(a(e))return this._hide.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(a(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e,t){var i=/up|down|vertical/,s=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,r){var a,n,o,l=e(this),d=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(l,t.mode||"hide"),h=t.direction||"up",u=i.test(h),p=u?"height":"width",f=u?"top":"left",g=s.test(h),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),d):e.effects.save(l,d),l.show(),a=e.effects.createWrapper(l).css({overflow:"hidden"}),n=a[p](),o=parseFloat(a.css(f))||0,m[p]=v?n:0,g||(l.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),m[f]=v?o:n+o),v&&(a.css(p,0),g||a.css(f,o+n)),a.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),e.effects.restore(l,d),e.effects.removeWrapper(l),r()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,i){var s,r,a,n=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(n,t.mode||"effect"),d="hide"===l,c="show"===l,h=t.direction||"up",u=t.distance,p=t.times||5,f=2*p+(c||d?1:0),g=t.duration/f,m=t.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,w=n.queue(),_=w.length;for((c||d)&&o.push("opacity"),e.effects.save(n,o),n.show(),e.effects.createWrapper(n),u||(u=n["top"===v?"outerHeight":"outerWidth"]()/3),c&&(a={opacity:1},a[v]=0,n.css("opacity",0).css(v,b?2*-u:2*u).animate(a,g,m)),d&&(u/=Math.pow(2,p-1)),a={},a[v]=0,s=0;s<p;s++)r={},r[v]=(b?"-=":"+=")+u,n.animate(r,g,m).animate(a,g,m),u=d?2*u:u/2;d&&(r={opacity:0},r[v]=(b?"-=":"+=")+u,n.animate(r,g,m)),n.queue(function(){d&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}),_>1&&w.splice.apply(w,[1,0].concat(w.splice(_,f+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,i){var s,r,a,n=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(n,t.mode||"hide"),d="show"===l,c=t.direction||"vertical",h="vertical"===c,u=h?"height":"width",p=h?"top":"left",f={};e.effects.save(n,o),n.show(),s=e.effects.createWrapper(n).css({overflow:"hidden"}),r="IMG"===n[0].tagName?s:n,a=r[u](),d&&(r.css(u,0),r.css(p,a/2)),f[u]=d?a:0,f[p]=d?0:a/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){d||n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,i){var s,r=e(this),a=["position","top","bottom","left","right","opacity","height","width"],n=e.effects.setMode(r,t.mode||"hide"),o="show"===n,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:o?1:0};e.effects.save(r,a),r.show(),e.effects.createWrapper(r),s=t.distance||r["top"===d?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(d,"pos"===c?-s:s),h[d]=(o?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===n&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,i){function s(){w.push(this),w.length===h*u&&r()}function r(){p.css({visibility:"visible"}),e(w).remove(),g||p.hide(),i()}var a,n,o,l,d,c,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=h,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/u),b=Math.ceil(p.outerHeight()/h),w=[];for(a=0;a<h;a++)for(l=m.top+a*b,c=a-(h-1)/2,n=0;n<u;n++)o=m.left+n*v,d=n-(u-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*v,top:-a*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:o+(g?d*v:0),top:l+(g?c*b:0),opacity:g?0:1}).animate({left:o+(g?0:d*v),top:l+(g?0:c*b),opacity:g?1:0},t.duration||500,t.easing,s)}}(jQuery),function(e,t){e.effects.effect.fade=function(t,i){var s=e(this),r=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,i){var s,r,a=e(this),n=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(a,t.mode||"hide"),l="show"===o,d="hide"===o,c=t.size||15,h=/([0-9]+)%/.exec(c),u=!!t.horizFirst,p=l!==u,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(a,n),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),r=p?[s.width(),s.height()]:[s.height(),s.width()],h&&(c=parseInt(h[1],10)/100*r[d?0:1]),l&&s.css(u?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?r[0]:c,v[f[1]]=l?r[1]:0,s.animate(m,g,t.easing).animate(v,g,t.easing,function(){d&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,i){var s=e(this),r=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),n={backgroundColor:s.css("backgroundColor")};"hide"===a&&(n.opacity=0),e.effects.save(s,r),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,r),i()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,i){var s,r=e(this),a=e.effects.setMode(r,t.mode||"show"),n="show"===a,o="hide"===a,l=n||"hide"===a,d=2*(t.times||5)+(l?1:0),c=t.duration/d,h=0,u=r.queue(),p=u.length;for(!n&&r.is(":visible")||(r.css("opacity",0).show(),h=1),s=1;s<d;s++)r.animate({opacity:h},c,t.easing),h=1-h;r.animate({opacity:h},c,t.easing),r.queue(function(){o&&r.hide(),i()}),
p>1&&u.splice.apply(u,[1,0].concat(u.splice(p,d+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,i){var s=e(this),r=e.effects.setMode(s,t.mode||"hide"),a="hide"===r,n=parseInt(t.percent,10)||150,o=n/100,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:a?n:100,from:a?l:{height:l.height*o,width:l.width*o,outerHeight:l.outerHeight*o,outerWidth:l.outerWidth*o}}),s.effect(t)},e.effects.effect.scale=function(t,i){var s=e(this),r=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),n=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),o=t.direction||"both",l=t.origin,d={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==o?n/100:1,x:"vertical"!==o?n/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==a&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:d),r.to={height:d.height*c.y,width:d.width*c.x,outerHeight:d.outerHeight*c.y,outerWidth:d.outerWidth*c.x},r.fade&&("show"===a&&(r.from.opacity=0,r.to.opacity=1),"hide"===a&&(r.from.opacity=1,r.to.opacity=0)),s.effect(r)},e.effects.effect.size=function(t,i){var s,r,a,n=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],d=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(n,t.mode||"effect"),f=t.restore||"effect"!==p,g=t.scale||"both",m=t.origin||["middle","center"],v=n.css("position"),b=f?o:l,w={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&n.show(),s={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},"toggle"===t.mode&&"show"===p?(n.from=t.to||w,n.to=t.from||s):(n.from=t.from||("show"===p?w:s),n.to=t.to||("hide"===p?w:s)),a={from:{y:n.from.height/s.height,x:n.from.width/s.width},to:{y:n.to.height/s.height,x:n.to.width/s.width}},"box"!==g&&"both"!==g||(a.from.y!==a.to.y&&(b=b.concat(h),n.from=e.effects.setTransition(n,h,a.from.y,n.from),n.to=e.effects.setTransition(n,h,a.to.y,n.to)),a.from.x!==a.to.x&&(b=b.concat(u),n.from=e.effects.setTransition(n,u,a.from.x,n.from),n.to=e.effects.setTransition(n,u,a.to.x,n.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(b=b.concat(c).concat(d),n.from=e.effects.setTransition(n,c,a.from.y,n.from),n.to=e.effects.setTransition(n,c,a.to.y,n.to)),e.effects.save(n,b),n.show(),e.effects.createWrapper(n),n.css("overflow","hidden").css(n.from),m&&(r=e.effects.getBaseline(m,s),n.from.top=(s.outerHeight-n.outerHeight())*r.y,n.from.left=(s.outerWidth-n.outerWidth())*r.x,n.to.top=(s.outerHeight-n.to.outerHeight)*r.y,n.to.left=(s.outerWidth-n.to.outerWidth)*r.x),n.css(n.from),"content"!==g&&"both"!==g||(h=h.concat(["marginTop","marginBottom"]).concat(c),u=u.concat(["marginLeft","marginRight"]),d=o.concat(h).concat(u),n.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,d),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,h,a.from.y,i.from),i.to=e.effects.setTransition(i,h,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,u,a.from.x,i.from),i.to=e.effects.setTransition(i,u,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,d)})})),n.animate(n.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity),"hide"===p&&n.hide(),e.effects.restore(n,b),f||("static"===v?n.css({position:"relative",top:n.to.top,left:n.to.left}):e.each(["top","left"],function(e,t){n.css(t,function(t,i){var s=parseInt(i,10),r=e?n.to.left:n.to.top;return"auto"===i?r+"px":s+r+"px"})})),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,i){var s,r=e(this),a=["position","top","bottom","left","right","height","width"],n=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",l=t.distance||20,d=t.times||3,c=2*d+1,h=Math.round(t.duration/c),u="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},g={},m={},v=r.queue(),b=v.length;for(e.effects.save(r,a),r.show(),e.effects.createWrapper(r),f[u]=(p?"-=":"+=")+l,g[u]=(p?"+=":"-=")+2*l,m[u]=(p?"-=":"+=")+2*l,r.animate(f,h,t.easing),s=1;s<d;s++)r.animate(g,h,t.easing).animate(m,h,t.easing);r.animate(g,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===n&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,i){var s,r=e(this),a=["position","top","bottom","left","right","width","height"],n=e.effects.setMode(r,t.mode||"show"),o="show"===n,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};e.effects.save(r,a),r.show(),s=t.distance||r["top"===d?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(d,c?isNaN(s)?"-"+s:-s:s),h[d]=(o?c?"+=":"-=":c?"-=":"+=")+s,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===n&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,i){var s=e(this),r=e(t.to),a="fixed"===r.css("position"),n=e("body"),o=a?n.scrollTop():0,l=a?n.scrollLeft():0,d=r.offset(),c={top:d.top-o,left:d.left-l,height:r.innerHeight(),width:r.innerWidth()},h=s.offset(),u=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:h.top-o,left:h.left-l,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){u.remove(),i()})}}(jQuery),function(e,t){var i=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var s=e(t.target).closest(".ui-menu-item");!i&&s.not(".ui-state-disabled").length&&(i=!0,this.select(t),s.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,r,a,n,o,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",a=String.fromCharCode(t.keyCode),n=!1,clearTimeout(this.filterTimer),a===r?n=!0:a=r+a,o=new RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),s=n&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(t.keyCode),o=new RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),s.length?(this.focus(t,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),s=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",s.attr("id"))}),t=s.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,r,a,n,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),n=this.activeMenu.height(),o=t.height(),r<0?this.activeMenu.scrollTop(a+r):r+o>n&&this.activeMenu.scrollTop(a+r-n+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,s)},nextPage:function(t){var i,s,r;if(!this.active)return void this.next(t);this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,s,r;if(!this.active)return void this.next(t);this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var s=this.handles.split(",");this.handles={};for(var r=0;r<s.length;r++){var a=e.trim(s[r]),n="ui-resizable-"+a,o=e('<div class="ui-resizable-handle '+n+'"></div>');o.css({zIndex:i.zIndex}),"se"==a&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(o)}}this._renderAxis=function(t){t=t||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var s=e(this.handles[i],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth();var a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(a,r),this._proportionallyResize()}e(this.handles[i]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){i.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){i.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var s in this.handles)e(this.handles[s])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var s=this.options,r=this.element.position(),a=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(a.is(".ui-draggable")||/absolute/.test(a.css("position")))&&a.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy();var n=i(this.helper.css("left")),o=i(this.helper.css("top"));s.containment&&(n+=e(s.containment).scrollLeft()||0,o+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,i=(this.options,this.originalMousePosition),s=this.axis,r=e.pageX-i.left||0,a=e.pageY-i.top||0,n=this._change[s];if(!n)return!1;var o=n.apply(this,[e,r,a]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(o=this._updateRatio(o,e)),o=this._respectSize(o,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(o),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var i=this.options,s=this;if(this._helper){var r=this._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),n=a&&e.ui.hasScroll(r[0],"left")?0:s.sizeDiff.height,o=a?0:s.sizeDiff.width,l={width:s.helper.width()-o,height:s.helper.height()-n},d=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null,c=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;i.animate||this.element.css(e.extend(l,{top:c,left:d})),s.helper.height(s.size.height),s.helper.width(s.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,r,a,n,o=this.options;n={minWidth:s(o.minWidth)?o.minWidth:0,maxWidth:s(o.maxWidth)?o.maxWidth:1/0,minHeight:s(o.minHeight)?o.minHeight:0,maxHeight:s(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=n.minHeight*this.aspectRatio,r=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,a=n.maxWidth/this.aspectRatio,t>n.minWidth&&(n.minWidth=t),r>n.minHeight&&(n.minHeight=r),i<n.maxWidth&&(n.maxWidth=i),a<n.maxHeight&&(n.maxHeight=a)),this._vBoundaries=n},_updateCache:function(e){this.options;this.offset=this.helper.offset(),s(e.left)&&(this.position.left=e.left),s(e.top)&&(this.position.top=e.top),s(e.height)&&(this.size.height=e.height),s(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var i=(this.options,this.position),r=this.size,a=this.axis;return s(e.height)?e.width=e.height*this.aspectRatio:s(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==a&&(e.left=i.left+(r.width-e.width),e.top=null),"nw"==a&&(e.top=i.top+(r.height-e.height),e.left=i.left+(r.width-e.width)),e},_respectSize:function(e,t){var i=(this.helper,this._vBoundaries),r=(this._aspectRatio||t.shiftKey,this.axis),a=s(e.width)&&i.maxWidth&&i.maxWidth<e.width,n=s(e.height)&&i.maxHeight&&i.maxHeight<e.height,o=s(e.width)&&i.minWidth&&i.minWidth>e.width,l=s(e.height)&&i.minHeight&&i.minHeight>e.height;o&&(e.width=i.minWidth),l&&(e.height=i.minHeight),a&&(e.width=i.maxWidth),n&&(e.height=i.maxHeight);var d=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(r),u=/nw|ne|n/.test(r);o&&h&&(e.left=d-i.minWidth),a&&h&&(e.left=d-i.maxWidth),l&&u&&(e.top=c-i.minHeight),n&&u&&(e.top=c-i.maxHeight);var p=!e.width&&!e.height;return p&&!e.left&&e.top?e.top=null:p&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var s=this._proportionallyResizeElements[i];if(!this.borderDif){var r=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],a=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];this.borderDif=e.map(r,function(e,t){return(parseInt(e,10)||0)+(parseInt(a[t],10)||0)})}s.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var s=e.ui.ie6?1:0,r=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+r,height:this.element.outerHeight()+r,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,i){return{width:this.originalSize.width+t}},w:function(e,t,i){var s=(this.options,this.originalSize);return{left:this.originalPosition.left+t,width:s.width-t}},n:function(e,t,i){var s=(this.options,this.originalSize);return{top:this.originalPosition.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,i){var s=e(this).data("resizable"),r=s.options,a=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof r.alsoResize||r.alsoResize.parentNode?a(r.alsoResize):r.alsoResize.length?(r.alsoResize=r.alsoResize[0],a(r.alsoResize)):e.each(r.alsoResize,function(e){a(e)})},resize:function(t,i){var s=e(this).data("resizable"),r=s.options,a=s.originalSize,n=s.originalPosition,o={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-n.top||0,left:s.position.left-n.left||0},l=function(t,s){e(t).each(function(){var t=e(this),r=e(this).data("resizable-alsoresize"),a={},n=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(n,function(e,t){var i=(r[t]||0)+(o[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(t,i){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,i){var s=e(this).data("resizable"),r=s.options,a=s._proportionallyResizeElements,n=a.length&&/textarea/i.test(a[0].nodeName),o=n&&e.ui.hasScroll(a[0],"left")?0:s.sizeDiff.height,l=n?0:s.sizeDiff.width,d={width:s.size.width-l,height:s.size.height-o},c=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null,h=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;s.element.animate(e.extend(d,h&&c?{top:h,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var i={width:parseInt(s.element.css("width"),10),height:parseInt(s.element.css("height"),10),top:parseInt(s.element.css("top"),10),left:parseInt(s.element.css("left"),10)};a&&a.length&&e(a[0]).css({width:i.width,height:i.height}),s._updateCache(i),s._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,s){var r=e(this).data("resizable"),a=r.options,n=r.element,o=a.containment,l=o instanceof e?o.get(0):/parent/.test(o)?n.parent().get(0):o;if(l)if(r.containerElement=e(l),/document/.test(o)||o==document)r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var d=e(l),c=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){c[e]=i(d.css("padding"+t))}),r.containerOffset=d.offset(),r.containerPosition=d.position(),r.containerSize={height:d.innerHeight()-c[3],width:d.innerWidth()-c[1]};var h=r.containerOffset,u=r.containerSize.height,p=r.containerSize.width,f=e.ui.hasScroll(l,"left")?l.scrollWidth:p,g=e.ui.hasScroll(l)?l.scrollHeight:u;r.parentData={element:l,left:h.left,top:h.top,width:f,height:g}}},resize:function(t,i){var s=e(this).data("resizable"),r=s.options,a=(s.containerSize,s.containerOffset),n=(s.size,s.position),o=s._aspectRatio||t.shiftKey,l={top:0,left:0},d=s.containerElement;d[0]!=document&&/static/.test(d.css("position"))&&(l=a),n.left<(s._helper?a.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-a.left:s.position.left-l.left),o&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=r.helper?a.left:0),n.top<(s._helper?a.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-a.top:s.position.top),o&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?a.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top;var c=Math.abs((s._helper,s.offset.left-l.left+s.sizeDiff.width)),h=Math.abs((s._helper?s.offset.top-l.top:s.offset.top-a.top)+s.sizeDiff.height),u=s.containerElement.get(0)==s.element.parent().get(0),p=/relative|absolute/.test(s.containerElement.css("position"));u&&p&&(c-=s.parentData.left),c+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-c,o&&(s.size.height=s.size.width/s.aspectRatio)),h+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-h,o&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(t,i){var s=e(this).data("resizable"),r=s.options,a=(s.position,
s.containerOffset),n=s.containerPosition,o=s.containerElement,l=e(s.helper),d=l.offset(),c=l.outerWidth()-s.sizeDiff.width,h=l.outerHeight()-s.sizeDiff.height;s._helper&&!r.animate&&/relative/.test(o.css("position"))&&e(this).css({left:d.left-n.left-a.left,width:c,height:h}),s._helper&&!r.animate&&/static/.test(o.css("position"))&&e(this).css({left:d.left-n.left-a.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,i){var s=e(this).data("resizable"),r=s.options,a=s.size;s.ghost=s.originalElement.clone(),s.ghost.css({opacity:.25,display:"block",position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof r.ghost?r.ghost:""),s.ghost.appendTo(s.helper)},resize:function(t,i){var s=e(this).data("resizable");s.options;s.ghost&&s.ghost.css({position:"relative",height:s.size.height,width:s.size.width})},stop:function(t,i){var s=e(this).data("resizable");s.options;s.ghost&&s.helper&&s.helper.get(0).removeChild(s.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,i){var s=e(this).data("resizable"),r=s.options,a=s.size,n=s.originalSize,o=s.originalPosition,l=s.axis;r._aspectRatio||t.shiftKey;r.grid="number"==typeof r.grid?[r.grid,r.grid]:r.grid;var d=Math.round((a.width-n.width)/(r.grid[0]||1))*(r.grid[0]||1),c=Math.round((a.height-n.height)/(r.grid[1]||1))*(r.grid[1]||1);/^(se|s|e)$/.test(l)?(s.size.width=n.width+d,s.size.height=n.height+c):/^(ne)$/.test(l)?(s.size.width=n.width+d,s.size.height=n.height+c,s.position.top=o.top-c):/^(sw)$/.test(l)?(s.size.width=n.width+d,s.size.height=n.height+c,s.position.left=o.left-d):(s.size.width=n.width+d,s.size.height=n.height+c,s.position.top=o.top-c,s.position.left=o.left-d)}});var i=function(e){return parseInt(e,10)||0},s=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=e(t.options.filter,t.element[0]),i.addClass("ui-selectee"),i.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var s=this.options;this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,!t.metaKey&&!t.ctrlKey&&(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().andSelf().each(function(){var s=e.data(this,"selectable-item");if(s){var r=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected");return s.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),s.unselecting=!r,s.selecting=r,s.selected=r,r?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var s=this.options,r=this.opos[0],a=this.opos[1],n=t.pageX,o=t.pageY;if(r>n){var l=n;n=r,r=l}if(a>o){var l=o;o=a,a=l}return this.helper.css({left:r,top:a,width:n-r,height:o-a}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var d=!1;"touch"==s.tolerance?d=!(l.left>n||l.right<r||l.top>o||l.bottom<a):"fit"==s.tolerance&&(d=l.left>r&&l.right<n&&l.top>a&&l.bottom<o),d?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&!t.metaKey&&!t.ctrlKey&&!l.startselected&&(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element})))}}),!1}},_mouseStop:function(t){var i=this;this.dragged=!1;this.options;return e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,i,s=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(s.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),s.range&&(!0===s.range&&(s.values||(s.values=[this._valueMin(),this._valueMin()]),s.values.length&&2!==s.values.length&&(s.values=[s.values[0],s.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===s.range||"max"===s.range?" ui-slider-range-"+s.range:""))),i=s.values&&s.values.length||1,t=r.length;t<i;t++)a.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){s.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){s.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var i,s,r,a,n=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,n),!1===i))return}switch(a=this.options.step,s=r=this.options.values&&this.options.values.length?this.values(n):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;r=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;r=this._trimAlignValue(s-a)}this._slide(t,n,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,r,a,n,o,l,d=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-d.values(t));r>i&&(r=i,a=e(this),n=t)}),!0===c.range&&this.values(1)===c.min&&(n+=1,a=e(this.handles[n])),!1!==this._start(t,n)&&(this._mouseSliding=!0,this._handleIndex=n,a.addClass("ui-state-active").focus(),o=a.offset(),l=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-o.left-a.width()/2,top:t.pageY-o.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,n,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),s<0&&(s=0),"vertical"===this.orientation&&(s=1-s),r=this._valueMax()-this._valueMin(),a=this._valueMin()+s*r,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,r,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>s||1===t&&i<s)&&(i=s),i!==this.values(t)&&(r=this.values(),r[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),s=this.values(t?0:1),!1!==a&&this.values(t,i,!0))):i!==this.value()&&!1!==(a=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,r=arguments[0],a=0;a<s.length;a+=1)s[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,r=0;switch(e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<r;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,r,a,n=this.options.range,o=this.options,l=this,d=!this._animateOff&&o.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[d?"animate":"css"](c,o.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[d?"animate":"css"]({left:i+"%"},o.animate),1===s&&l.range[d?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===s&&l.range.stop(1,1)[d?"animate":"css"]({bottom:i+"%"},o.animate),1===s&&l.range[d?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(s=this.value(),r=this._valueMin(),a=this._valueMax(),i=a!==r?(s-r)/(a-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[d?"animate":"css"](c,o.animate),"min"===n&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:i+"%"},o.animate),"max"===n&&"horizontal"===this.orientation&&this.range[d?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===n&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:i+"%"},o.animate),"max"===n&&"vertical"===this.orientation&&this.range[d?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))}})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var s=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var r=null;e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")==s)return r=e(this),!1});if(e.data(t.target,s.widgetName+"-item")==s&&(r=e(t.target)),!r)return!1;if(this.options.handle&&!i){var a=!1;if(e(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(a=!0)}),!a)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,s){var r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,s=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var a=this.items[r],n=a.item[0],o=this._intersectsWithPointer(a);if(o&&(a.instance===this.currentContainer&&!(n==this.currentItem[0]||this.placeholder[1==o?"next":"prev"]()[0]==n||e.contains(this.placeholder[0],n)||"semi-dynamic"==this.options.type&&e.contains(this.element[0],n)))){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(t,a),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,r=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,a=e.left,n=a+e.width,o=e.top,l=o+e.height,d=this.offset.click.top,c=this.offset.click.left,h=s+d>o&&s+d<l&&t+c>a&&t+c<n;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&o<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=i&&s,a=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!r&&(this.floating?n&&"right"==n||"down"==a?2:1:a&&("down"==a?2:1))},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&s||"left"==a&&!s:r&&("down"==r&&i||"up"==r&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],s=[],r=this._connectWith();if(r&&t)for(var a=r.length-1;a>=0;a--)for(var n=e(r[a]),o=n.length-1;o>=0;o--){var l=e.data(n[o],this.widgetName);l&&l!=this&&!l.options.disabled&&s.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var a=s.length-1;a>=0;a--)s[a][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,s=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],r=this._connectWith();if(r&&this.ready)for(var a=r.length-1;a>=0;a--)for(var n=e(r[a]),o=n.length-1;o>=0;o--){var l=e.data(n[o],this.widgetName);l&&l!=this&&!l.options.disabled&&(s.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var a=s.length-1;a>=0;a--)for(var d=s[a][1],c=s[a][0],o=0,h=c.length;o<h;o++){var u=e(c[o]);u.data(this.widgetName+"-item",d),i.push({item:u,instance:d,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var s=this.items[i];if(s.instance==this.currentContainer||!this.currentContainer||s.item[0]==this.currentItem[0]){var r=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item;t||(s.width=r.outerWidth(),s.height=r.outerHeight());var a=r.offset();s.left=a.left,s.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var a=this.containers[i].element.offset();this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var i=t.options;if(!i.placeholder||i.placeholder.constructor==String){var s=i.placeholder;i.placeholder={element:function(){var i=e(document.createElement(t.currentItem[0].nodeName)).addClass(s||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(i.style.visibility="hidden"),i},update:function(e,r){s&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var i=null,s=null,r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(i&&e.contains(this.containers[r].element[0],i.element[0]))continue;i=this.containers[r],s=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1;else{for(var a=1e4,n=null,o=this.containers[s].floating?"left":"top",l=this.containers[s].floating?"width":"height",d=this.positionAbs[o]+this.offset.click[o],c=this.items.length-1;c>=0;c--)if(e.contains(this.containers[s].element[0],this.items[c].item[0])&&this.items[c].item[0]!=this.currentItem[0]){var h=this.items[c].item.offset()[o],u=!1;Math.abs(h-d)>Math.abs(h+this.items[c][l]-d)&&(u=!0,h+=this.items[c][l]),Math.abs(h-d)<a&&(a=Math.abs(h-d),n=this.items[c],this.direction=u?"up":"down")}if(!n&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[s],n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[s].element,!0),this._trigger("change",t,this._uiHash()),this.containers[s]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(""==s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),
left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0],s=e(t.containment).offset(),r="hidden"!=e(i).css("overflow");this.containment=[s.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,s.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,s.left+(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,s.top+(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*s}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var a=t.pageX,n=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),i.grid)){var o=this.originalPageY+Math.round((n-this.originalPageY)/i.grid[1])*i.grid[1];n=this.containment&&(o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3])?o-this.offset.click.top<this.containment[1]?o+i.grid[1]:o-i.grid[1]:o;var l=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0];a=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r==this.counter&&this.refreshPositions(!s)})},_clear:function(t,i){this.reverting=!1;var s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)"auto"!=this._storedCSS[r]&&"static"!=this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(i||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var r=this.containers.length-1;r>=0;r--)i||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",t,this._uiHash());for(var r=0;r<s.length;r++)s[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var r=0;r<s.length;r++)s[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var r=i.attr(s);void 0!==r&&r.length&&(t[s]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(t)return!(!this.spinning&&!this._start(e))&&(this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault(),void 0)},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&e<s.min?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++r}function s(e){return e.hash.length>1&&e.href.replace(a,"")===location.href.replace(a,"").replace(/\s/g,"%20")}var r=0,a=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options,s=i.active,r=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===s&&(r&&this.tabs.each(function(t,i){if(e(i).attr("aria-controls")===r)return s=t,!1}),null===s&&(s=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==s&&-1!==s||(s=!!this.tabs.length&&0)),!1!==s&&-1===(s=this.tabs.index(this.tabs.eq(s)))&&(s=!i.collapsible&&0),i.active=s,!i.collapsible&&!1===i.active&&this.anchors.length&&(i.active=0),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s!==this.options.active&&s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,r),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){for(var s=this.tabs.length-1;-1!==e.inArray(function(){return t>s&&(t=0),t<0&&(t=s),t}(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),!t&&!1===this.options.active&&this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,r){var a,n,o,l=e(r).uniqueId().attr("id"),d=e(r).closest("li"),c=d.attr("aria-controls");s(r)?(a=r.hash,n=t.element.find(t._sanitizeSelector(a))):(o=t._tabId(d),a="#"+o,n=t.element.find(a),n.length||(n=t._createPanel(o),n.insertAfter(t.panels[i-1]||t.tablist)),n.attr("aria-live","polite")),n.length&&(t.panels=t.panels.add(n)),c&&d.data("ui-tabs-aria-controls",c),d.attr({"aria-controls":a.substring(1),"aria-labelledby":l}),n.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)!0===t||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s,r=this.element.parent();"fill"===t?(e.support.minHeight||(s=r.css("overflow"),r.css("overflow","hidden")),i=r.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),s&&r.css("overflow",s),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,r=e(t.currentTarget),a=r.closest("li"),n=a[0]===s[0],o=n&&i.collapsible,l=o?e():this._getPanelForTab(a),d=s.length?this._getPanelForTab(s):e(),c={oldTab:s,oldPanel:d,newTab:o?e():a,newPanel:l};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||n&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!o&&this.tabs.index(a),this.active=n?e():a,this.xhr&&this.xhr.abort(),!d.length&&!l.length&&e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),t),this._toggle(t,c))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),n.length&&a.options.show?a._show(n,a.options.show,s):(n.show(),s())}var a=this,n=i.newPanel,o=i.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),r()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),n.length&&o.length?i.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;!1!==s&&(i===t?s=!1:(i=this._getIndex(i),s=e.isArray(s)?e.map(s,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(!0!==s){if(i===t)s=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,s))return;s=e.isArray(s)?e.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(t,i){t=this._getIndex(t);var r=this,a=this.tabs.eq(t),n=a.find(".ui-tabs-anchor"),o=this._getPanelForTab(a),l={tab:a,panel:o};s(n[0])||(this.xhr=e.ajax(this._ajaxSettings(n,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){o.html(e),r._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,i,s){var r=this;return{url:t.attr("href"),beforeSend:function(t,a){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==e.uiBackCompat&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(i,s){if(e.data(s.tab[0],"cache.tabs"))return void i.preventDefault();s.jqXHR.success(function(){t.options.cache&&e.data(s.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,i,s){var r=this.options.ajaxOptions;return e.extend({},r,{error:function(e,t){try{r.error(e,t,s.tab.closest("li").index(),s.tab[0])}catch(e){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&!1===t&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var i=t.tab.find("span"),s=i.html();i.html(this.options.spinner),t.jqXHR.complete(function(){i.html(s)})}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var i,s=this.options;(t&&!0===s.disabled||e.isArray(s.disabled)&&-1!==e.inArray(t,s.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var i,s=this.options;(t&&!1===s.disabled||e.isArray(s.disabled)&&-1===e.inArray(t,s.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(i,s,r){r===t&&(r=this.anchors.length);var a,n,o=this.options,l=e(o.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,s)),d=i.indexOf("#")?this._tabId(l):i.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",d),a=r>=this.tabs.length,n=this.element.find("#"+d),n.length||(n=this._createPanel(d),a?r>0?n.insertAfter(this.panels.eq(-1)):n.appendTo(this.element):n.insertBefore(this.panels[r])),n.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),a?l.appendTo(this.tablist):l.insertBefore(this.tabs[r]),o.disabled=e.map(o.disabled,function(e){return e>=r?++e:e}),this.refresh(),1===this.tabs.length&&!1===o.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[r],this.panels[r])),this},remove:function(t){t=this._getIndex(t);var i=this.options,s=this.tabs.eq(t).remove(),r=this._getPanelForTab(s).remove();return s.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(s.find("a")[0],r[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var s=t.is("li")?t.find("a[href]"):t;return s=s[0],e(s).closest("li").attr("aria-controls")||s.title&&s.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=-1!==e.selected&&e.selected),this._super(),e.selected=e.active,!1===e.selected&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var i=this.options;this._super("active",-1!==t&&t),i.selected=i.active,!1===i.selected&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,i){var s,r,a=this._superApply(arguments);return!!a&&("beforeActivate"===e?(s=i.newTab.length?i.newTab:i.oldTab,r=i.newPanel.length?i.newPanel:i.oldPanel,a=this._super("select",t,{tab:s.find(".ui-tabs-anchor")[0],panel:r[0],index:s.closest("li").index()})):"activate"===e&&i.newTab.length&&(a=this._super("show",t,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()})),a)}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(-1===(e=this._getIndex(e))){if(!this.options.collapsible||-1===this.options.selected)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(e=parseInt(this._cookie(),10),-1===e&&(e=!1),t.active=e),this._super()},_cookie:function(i){var s=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(s.push(!1===i?-1:i),s.push(this.options.cookie)),e.cookie.apply(null,s)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,i,s){var r=e.extend({},s);return"load"===t&&(r.panel=r.panel[0],r.tab=r.tab.find(".ui-tabs-anchor")[0]),this._super(t,i,r)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,i,s=this.options.fx;return s&&(e.isArray(s)?(t=s[0],i=s[1]):t=i=s),s?{show:i,hide:t}:null},_toggle:function(e,t){function i(){r.running=!1,r._trigger("activate",e,t)}function s(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.show?a.animate(o.show,o.show.duration,function(){i()}):(a.show(),i())}var r=this,a=t.newPanel,n=t.oldPanel,o=this._getFx();if(!o)return this._super(e,t);r.running=!0,n.length&&o.hide?n.animate(o.hide,o.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n.hide(),s())}}))}(jQuery),function(e){function t(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(i,s);-1!==r&&s.splice(r,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")}var s=0
;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var s=this;if("disabled"===t)return this[i?"_disable":"_enable"](),void(this.options[t]=i);this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t)})},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var r=e.Event("blur");r.target=r.currentTarget=s[0],t.close(r,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,r=this,a=t?t.type:null;if("string"==typeof s)return this._open(t,e,s);(i=s.call(e[0],function(i){e.data("ui-tooltip-open")&&r._delay(function(){t&&(t.type=a),this._open(t,e,i)})}))&&this._open(t,e,i)},_open:function(i,s,r){function a(e){d.of=e,n.is(":hidden")||n.position(d)}var n,o,l,d=e.extend({},this.options.position);if(r){if(n=this._find(s),n.length)return void n.find(".ui-tooltip-content").html(r);s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),n=this._tooltip(s),t(s,n.attr("id")),n.find(".ui-tooltip-content").html(r),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:a}),a(i)):n.position(e.extend({of:s},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(l=setInterval(function(){n.is(":visible")&&(a(d.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:n}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(n)}},i&&"mouseover"!==i.type||(o.mouseleave="close"),i&&"focusin"!==i.type||(o.focusout="close"),this._on(!0,s,o)}},close:function(t){var s=this,r=e(t?t.currentTarget:this.element),a=this._find(r);this.closing||(r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),a.stop(!0),this._hide(a,this.options.hide,function(){s._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+s++,r=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),e.fn.bgiframe&&r.bgiframe(),this.tooltips[i]=t,r},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var r=e.Event("blur");r.target=r.currentTarget=s[0],t.close(r,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})}(jQuery);